(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9317],{378:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>ee});const ee=function(){function St(){this._events={}}return St.prototype.on=function(It,yt,Tt){return this._events[It]||(this._events[It]=[]),this._events[It].push({callback:yt,once:!!Tt}),this},St.prototype.once=function(It,yt){return this.on(It,yt,!0),this},St.prototype.emit=function(It){for(var yt=this,Tt=[],ft=1;ft<arguments.length;ft++)Tt[ft-1]=arguments[ft];var Nt=this._events[It]||[],zt=this._events["*"]||[],kt=function(Wt){for(var jt=Wt.length,Ft=0;Ft<jt;Ft++)if(Wt[Ft]){var xt=Wt[Ft],dt=xt.callback;xt.once&&(Wt.splice(Ft,1),0===Wt.length&&delete yt._events[It],jt--,Ft--),dt.apply(yt,Tt)}};kt(Nt),kt(zt)},St.prototype.off=function(It,yt){if(It)if(yt){for(var Tt=this._events[It]||[],ft=Tt.length,Nt=0;Nt<ft;Nt++)Tt[Nt].callback===yt&&(Tt.splice(Nt,1),ft--,Nt--);0===Tt.length&&delete this._events[It]}else delete this._events[It];else this._events={};return this},St.prototype.getEvents=function(){return this._events},St}()},2370:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>It});var Vt=K(1095),_t=K(378),ee=K(5998);const It=function(yt){function Tt(ft){var Nt=yt.call(this)||this;Nt.destroyed=!1;var zt=Nt.getDefaultCfg();return Nt.cfg=(0,ee.CD)(zt,ft),Nt}return(0,Vt.ZT)(Tt,yt),Tt.prototype.getDefaultCfg=function(){return{}},Tt.prototype.get=function(ft){return this.cfg[ft]},Tt.prototype.set=function(ft,Nt){this.cfg[ft]=Nt},Tt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Tt}(_t.Z)},5133:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>Ct});var Vt=K(1095),_t=K(2260),ee=K(3213),St=K(5998),It=K(7524),yt=K(9194),Tt=K(6399),ft=K(5386),Nt=K(268),zt=K(994),kt=function(C){return["fill","stroke","fillStyle","strokeStyle"].includes(C)},Wt=function(C){return/^[r,R,L,l]{1}[\s]*\(/.test(C)},jt=[1,0,0,0,1,0,0,0,1];function xt(C,S,G){var z=S.startTime;if(G<z+S.delay||S._paused)return!1;var Bt,_=S.duration,k=S.easing;if(G=G-z-S.delay,S.repeat)Bt=Tt[k](Bt=G%_/_);else{if(!((Bt=G/_)<1))return C.attr(S.onFrame?S.onFrame(1):S.toAttrs),!0;Bt=Tt[k](Bt)}if(S.onFrame){var N=S.onFrame(Bt);C.attr(N)}else!function(C,S,G){var z={},Q=S.fromAttrs,Bt=S.toAttrs;if(!C.destroyed){var _;for(var k in Bt)if(!(0,It.Xy)(Q[k],Bt[k]))if("path"===k){var N=Bt[k],F=Q[k];N.length>F.length?(N=zt.parsePathString(Bt[k]),F=zt.parsePathString(Q[k]),F=zt.fillPathByDiff(F,N),F=zt.formatPath(F,N),S.fromAttrs.path=F,S.toAttrs.path=N):S.pathFormatted||(N=zt.parsePathString(Bt[k]),F=zt.parsePathString(Q[k]),F=zt.formatPath(F,N),S.fromAttrs.path=F,S.toAttrs.path=N,S.pathFormatted=!0),z[k]=[];for(var rt=0;rt<N.length;rt++){for(var ot=N[rt],wt=F[rt],B=[],y=0;y<ot.length;y++)(0,It.hj)(ot[y])&&wt&&(0,It.hj)(wt[y])?(_=(0,ft.Z)(wt[y],ot[y]),B.push(_(G))):B.push(ot[y]);z[k].push(B)}}else if("matrix"===k){var T=(0,Nt.Z)(Q[k]||jt,Bt[k]||jt)(G);z[k]=T}else kt(k)&&Wt(Bt[k])?z[k]=Bt[k]:(0,It.mf)(Bt[k])||(_=(0,ft.Z)(Q[k],Bt[k]),z[k]=_(G));C.attr(z)}}(C,S,Bt);return!1}const Et=function(){function C(S){this.animators=[],this.current=0,this.timer=null,this.canvas=S}return C.prototype.initTimer=function(){var z,Q,Bt,S=this;this.timer=yt.HT(function(_){if(S.current=_,S.animators.length>0){for(var k=S.animators.length-1;k>=0;k--)if((z=S.animators[k]).destroyed)S.removeAnimator(k);else{if(!z.isAnimatePaused())for(var N=(Q=z.get("animations")).length-1;N>=0;N--)xt(z,Bt=Q[N],_)&&(Q.splice(N,1),Bt.callback&&Bt.callback());0===Q.length&&S.removeAnimator(k)}S.canvas.get("autoDraw")||S.canvas.draw()}})},C.prototype.addAnimator=function(S){this.animators.push(S)},C.prototype.removeAnimator=function(S){this.animators.splice(S,1)},C.prototype.isAnimating=function(){return!!this.animators.length},C.prototype.stop=function(){this.timer&&this.timer.stop()},C.prototype.stopAllAnimations=function(S){void 0===S&&(S=!0),this.animators.forEach(function(G){G.stopAnimate(S)}),this.animators=[],this.canvas.draw()},C.prototype.getTime=function(){return this.current},C}();var Ht=K(3128),j=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function st(C,S,G){G.name=S,G.target=C,G.currentTarget=C,G.delegateTarget=C,C.emit(S,G)}function Ot(C,S,G){if(G.bubbles){var z=void 0,Q=!1;if("mouseenter"===S?(z=G.fromShape,Q=!0):"mouseleave"===S&&(Q=!0,z=G.toShape),C.isCanvas()&&Q)return;if(z&&(0,St.UY)(C,z))return void(G.bubbles=!1);G.name=S,G.currentTarget=C,G.delegateTarget=C,C.emit(S,G)}}const vt=function(){function C(S){var G=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(z){G._triggerEvent(z.type,z)},this._onDocumentMove=function(z){if(G.canvas.get("el")!==z.target&&(G.dragging||G.currentShape)){var _=G._getPointInfo(z);G.dragging&&G._emitEvent("drag",z,_,G.draggingShape)}},this._onDocumentMouseUp=function(z){if(G.canvas.get("el")!==z.target&&G.dragging){var _=G._getPointInfo(z);G.draggingShape&&G._emitEvent("drop",z,_,null),G._emitEvent("dragend",z,_,G.draggingShape),G._afterDrag(G.draggingShape,_,z)}},this.canvas=S.canvas}return C.prototype.init=function(){this._bindEvents()},C.prototype._bindEvents=function(){var S=this,G=this.canvas.get("el");(0,St.S6)(j,function(z){G.addEventListener(z,S._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},C.prototype._clearEvents=function(){var S=this,G=this.canvas.get("el");(0,St.S6)(j,function(z){G.removeEventListener(z,S._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},C.prototype._getEventObj=function(S,G,z,Q,Bt,_){var k=new Ht.Z(S,G);return k.fromShape=Bt,k.toShape=_,k.x=z.x,k.y=z.y,k.clientX=z.clientX,k.clientY=z.clientY,k.propagationPath.push(Q),k},C.prototype._getShape=function(S,G){return this.canvas.getShape(S.x,S.y,G)},C.prototype._getPointInfo=function(S){var G=this.canvas,z=G.getClientByEvent(S),Q=G.getPointByEvent(S);return{x:Q.x,y:Q.y,clientX:z.x,clientY:z.y}},C.prototype._triggerEvent=function(S,G){var z=this._getPointInfo(G),Q=this._getShape(z,G),Bt=this["_on"+S],_=!1;if(Bt)Bt.call(this,z,Q,G);else{var k=this.currentShape;"mouseenter"===S||"dragenter"===S||"mouseover"===S?(this._emitEvent(S,G,z,null,null,Q),Q&&this._emitEvent(S,G,z,Q,null,Q),"mouseenter"===S&&this.draggingShape&&this._emitEvent("dragenter",G,z,null)):"mouseleave"===S||"dragleave"===S||"mouseout"===S?(_=!0,k&&this._emitEvent(S,G,z,k,k,null),this._emitEvent(S,G,z,null,k,null),"mouseleave"===S&&this.draggingShape&&this._emitEvent("dragleave",G,z,null)):this._emitEvent(S,G,z,Q,null,null)}if(_||(this.currentShape=Q),Q&&!Q.get("destroyed")){var N=this.canvas;N.get("el").style.cursor=Q.attr("cursor")||N.get("cursor")}},C.prototype._onmousedown=function(S,G,z){0===z.button&&(this.mousedownShape=G,this.mousedownPoint=S,this.mousedownTimeStamp=z.timeStamp),this._emitEvent("mousedown",z,S,G,null,null)},C.prototype._emitMouseoverEvents=function(S,G,z,Q){var Bt=this.canvas.get("el");z!==Q&&(z&&(this._emitEvent("mouseout",S,G,z,z,Q),this._emitEvent("mouseleave",S,G,z,z,Q),(!Q||Q.get("destroyed"))&&(Bt.style.cursor=this.canvas.get("cursor"))),Q&&(this._emitEvent("mouseover",S,G,Q,z,Q),this._emitEvent("mouseenter",S,G,Q,z,Q)))},C.prototype._emitDragoverEvents=function(S,G,z,Q,Bt){Q?(Q!==z&&(z&&this._emitEvent("dragleave",S,G,z,z,Q),this._emitEvent("dragenter",S,G,Q,z,Q)),Bt||this._emitEvent("dragover",S,G,Q)):z&&this._emitEvent("dragleave",S,G,z,z,Q),Bt&&this._emitEvent("dragover",S,G,Q)},C.prototype._afterDrag=function(S,G,z){S&&(S.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Q=this._getShape(G,z);Q!==S&&this._emitMouseoverEvents(z,G,S,Q),this.currentShape=Q},C.prototype._onmouseup=function(S,G,z){if(0===z.button){var Q=this.draggingShape;this.dragging?(Q&&this._emitEvent("drop",z,S,G),this._emitEvent("dragend",z,S,Q),this._afterDrag(Q,S,z)):(this._emitEvent("mouseup",z,S,G),G===this.mousedownShape&&this._emitEvent("click",z,S,G),this.mousedownShape=null,this.mousedownPoint=null)}},C.prototype._ondragover=function(S,G,z){z.preventDefault(),this._emitDragoverEvents(z,S,this.currentShape,G,!0)},C.prototype._onmousemove=function(S,G,z){var Q=this.canvas,Bt=this.currentShape,_=this.draggingShape;if(this.dragging)_&&this._emitDragoverEvents(z,S,Bt,G,!1),this._emitEvent("drag",z,S,_);else{var k=this.mousedownPoint;if(k){var N=this.mousedownShape,ot=k.clientX-S.clientX,wt=k.clientY-S.clientY;z.timeStamp-this.mousedownTimeStamp>120||ot*ot+wt*wt>40?N&&N.get("draggable")?((_=this.mousedownShape).set("capture",!1),this.draggingShape=_,this.dragging=!0,this._emitEvent("dragstart",z,S,_),this.mousedownShape=null,this.mousedownPoint=null):!N&&Q.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",z,S,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(z,S,Bt,G),this._emitEvent("mousemove",z,S,G)):(this._emitMouseoverEvents(z,S,Bt,G),this._emitEvent("mousemove",z,S,G))}else this._emitMouseoverEvents(z,S,Bt,G),this._emitEvent("mousemove",z,S,G)}},C.prototype._emitEvent=function(S,G,z,Q,Bt,_){var k=this._getEventObj(S,G,z,Q,Bt,_);if(Q){k.shape=Q,st(Q,S,k);for(var N=Q.getParent();N;)N.emitDelegation(S,k),k.propagationStopped||Ot(N,S,k),k.propagationPath.push(N),N=N.getParent()}else st(this.canvas,S,k)},C.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},C}();var bt=(0,_t.qY)(),mt=bt&&"firefox"===bt.name;const Ct=function(C){function S(G){var z=C.call(this,G)||this;return z.initContainer(),z.initDom(),z.initEvents(),z.initTimeline(),z}return(0,Vt.ZT)(S,C),S.prototype.getDefaultCfg=function(){var G=C.prototype.getDefaultCfg.call(this);return G.cursor="default",G.supportCSSTransform=!1,G},S.prototype.initContainer=function(){var G=this.get("container");(0,St.HD)(G)&&(G=document.getElementById(G),this.set("container",G))},S.prototype.initDom=function(){var G=this.createDom();this.set("el",G),this.get("container").appendChild(G),this.setDOMSize(this.get("width"),this.get("height"))},S.prototype.initEvents=function(){var G=new vt({canvas:this});G.init(),this.set("eventController",G)},S.prototype.initTimeline=function(){var G=new Et(this);this.set("timeline",G)},S.prototype.setDOMSize=function(G,z){var Q=this.get("el");St.jU&&(Q.style.width=G+"px",Q.style.height=z+"px")},S.prototype.changeSize=function(G,z){this.setDOMSize(G,z),this.set("width",G),this.set("height",z),this.onCanvasChange("changeSize")},S.prototype.getRenderer=function(){return this.get("renderer")},S.prototype.getCursor=function(){return this.get("cursor")},S.prototype.setCursor=function(G){this.set("cursor",G);var z=this.get("el");St.jU&&z&&(z.style.cursor=G)},S.prototype.getPointByEvent=function(G){if(this.get("supportCSSTransform")){if(mt&&!(0,St.kK)(G.layerX)&&G.layerX!==G.offsetX)return{x:G.layerX,y:G.layerY};if(!(0,St.kK)(G.offsetX))return{x:G.offsetX,y:G.offsetY}}var Q=this.getClientByEvent(G);return this.getPointByClient(Q.x,Q.y)},S.prototype.getClientByEvent=function(G){var z=G;return G.touches&&(z="touchend"===G.type?G.changedTouches[0]:G.touches[0]),{x:z.clientX,y:z.clientY}},S.prototype.getPointByClient=function(G,z){var Bt=this.get("el").getBoundingClientRect();return{x:G-Bt.left,y:z-Bt.top}},S.prototype.getClientByPoint=function(G,z){var Bt=this.get("el").getBoundingClientRect();return{x:G+Bt.left,y:z+Bt.top}},S.prototype.draw=function(){},S.prototype.removeDom=function(){var G=this.get("el");G.parentNode.removeChild(G)},S.prototype.clearEvents=function(){this.get("eventController").destroy()},S.prototype.isCanvas=function(){return!0},S.prototype.getParent=function(){return null},S.prototype.destroy=function(){var G=this.get("timeline");this.get("destroyed")||(this.clear(),G&&G.stop(),this.clearEvents(),this.removeDom(),C.prototype.destroy.call(this))},S}(ee.Z)},3213:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>jt});var Vt=K(1095),_t=K(7524),ee=K(9642),St=K(5998),It={},yt="_INDEX";function Tt(Ft,xt){if(Ft.set("canvas",xt),Ft.isGroup()){var dt=Ft.get("children");dt.length&&dt.forEach(function(Et){Tt(Et,xt)})}}function ft(Ft,xt){if(Ft.set("timeline",xt),Ft.isGroup()){var dt=Ft.get("children");dt.length&&dt.forEach(function(Et){ft(Et,xt)})}}const jt=function(Ft){function xt(){return null!==Ft&&Ft.apply(this,arguments)||this}return(0,Vt.ZT)(xt,Ft),xt.prototype.isCanvas=function(){return!1},xt.prototype.getBBox=function(){var dt=1/0,Et=-1/0,Ht=1/0,At=-1/0,J=[],p=[],j=this.getChildren().filter(function(st){return st.get("visible")&&(!st.isGroup()||st.isGroup()&&st.getChildren().length>0)});return j.length>0?((0,St.S6)(j,function(st){var Ot=st.getBBox();J.push(Ot.minX,Ot.maxX),p.push(Ot.minY,Ot.maxY)}),dt=(0,_t.VV)(J),Et=(0,_t.Fp)(J),Ht=(0,_t.VV)(p),At=(0,_t.Fp)(p)):(dt=0,Et=0,Ht=0,At=0),{x:dt,y:Ht,minX:dt,minY:Ht,maxX:Et,maxY:At,width:Et-dt,height:At-Ht}},xt.prototype.getCanvasBBox=function(){var dt=1/0,Et=-1/0,Ht=1/0,At=-1/0,J=[],p=[],j=this.getChildren().filter(function(st){return st.get("visible")&&(!st.isGroup()||st.isGroup()&&st.getChildren().length>0)});return j.length>0?((0,St.S6)(j,function(st){var Ot=st.getCanvasBBox();J.push(Ot.minX,Ot.maxX),p.push(Ot.minY,Ot.maxY)}),dt=(0,_t.VV)(J),Et=(0,_t.Fp)(J),Ht=(0,_t.VV)(p),At=(0,_t.Fp)(p)):(dt=0,Et=0,Ht=0,At=0),{x:dt,y:Ht,minX:dt,minY:Ht,maxX:Et,maxY:At,width:Et-dt,height:At-Ht}},xt.prototype.getDefaultCfg=function(){var dt=Ft.prototype.getDefaultCfg.call(this);return dt.children=[],dt},xt.prototype.onAttrChange=function(dt,Et,Ht){if(Ft.prototype.onAttrChange.call(this,dt,Et,Ht),"matrix"===dt){var At=this.getTotalMatrix();this._applyChildrenMarix(At)}},xt.prototype.applyMatrix=function(dt){var Et=this.getTotalMatrix();Ft.prototype.applyMatrix.call(this,dt);var Ht=this.getTotalMatrix();Ht!==Et&&this._applyChildrenMarix(Ht)},xt.prototype._applyChildrenMarix=function(dt){var Et=this.getChildren();(0,St.S6)(Et,function(Ht){Ht.applyMatrix(dt)})},xt.prototype.addShape=function(){for(var dt=[],Et=0;Et<arguments.length;Et++)dt[Et]=arguments[Et];var Ht=dt[0],At=dt[1];(0,St.Kn)(Ht)?At=Ht:At.type=Ht;var J=It[At.type];J||(J=(0,St.jC)(At.type),It[At.type]=J);var p=this.getShapeBase(),j=new p[J](At);return this.add(j),j},xt.prototype.addGroup=function(){for(var dt=[],Et=0;Et<arguments.length;Et++)dt[Et]=arguments[Et];var J,Ht=dt[0],At=dt[1];if((0,St.mf)(Ht))J=new Ht(At||{parent:this});else{var p=Ht||{},j=this.getGroupBase();J=new j(p)}return this.add(J),J},xt.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},xt.prototype.getShape=function(dt,Et,Ht){if(!(0,St.pP)(this))return null;var J,At=this.getChildren();if(this.isCanvas())J=this._findShape(At,dt,Et,Ht);else{var p=[dt,Et,1];p=this.invertFromMatrix(p),this.isClipped(p[0],p[1])||(J=this._findShape(At,p[0],p[1],Ht))}return J},xt.prototype._findShape=function(dt,Et,Ht,At){for(var J=null,p=dt.length-1;p>=0;p--){var j=dt[p];if((0,St.pP)(j)&&(j.isGroup()?J=j.getShape(Et,Ht,At):j.isHit(Et,Ht)&&(J=j)),J)break}return J},xt.prototype.add=function(dt){var Et=this.getCanvas(),Ht=this.getChildren(),At=this.get("timeline"),J=dt.getParent();J&&function(Ft,xt,dt){void 0===dt&&(dt=!0),dt?xt.destroy():(xt.set("parent",null),xt.set("canvas",null)),(0,St.As)(Ft.getChildren(),xt)}(J,dt,!1),dt.set("parent",this),Et&&Tt(dt,Et),At&&ft(dt,At),Ht.push(dt),dt.onCanvasChange("add"),this._applyElementMatrix(dt)},xt.prototype._applyElementMatrix=function(dt){var Et=this.getTotalMatrix();Et&&dt.applyMatrix(Et)},xt.prototype.getChildren=function(){return this.get("children")},xt.prototype.sort=function(){var dt=this.getChildren();(0,St.S6)(dt,function(Et,Ht){return Et[yt]=Ht,Et}),dt.sort(function(xt,dt){var Et=function(Et,Ht){return Et.get("zIndex")-Ht.get("zIndex")}(xt,dt);return 0===Et?xt[yt]-dt[yt]:Et}),this.onCanvasChange("sort")},xt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var dt=this.getChildren(),Et=dt.length-1;Et>=0;Et--)dt[Et].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},xt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Ft.prototype.destroy.call(this))},xt.prototype.getFirst=function(){return this.getChildByIndex(0)},xt.prototype.getLast=function(){var dt=this.getChildren();return this.getChildByIndex(dt.length-1)},xt.prototype.getChildByIndex=function(dt){return this.getChildren()[dt]},xt.prototype.getCount=function(){return this.getChildren().length},xt.prototype.contain=function(dt){return this.getChildren().indexOf(dt)>-1},xt.prototype.removeChild=function(dt,Et){void 0===Et&&(Et=!0),this.contain(dt)&&dt.remove(Et)},xt.prototype.findAll=function(dt){var Et=[],Ht=this.getChildren();return(0,St.S6)(Ht,function(At){dt(At)&&Et.push(At),At.isGroup()&&(Et=Et.concat(At.findAll(dt)))}),Et},xt.prototype.find=function(dt){var Et=null,Ht=this.getChildren();return(0,St.S6)(Ht,function(At){if(dt(At)?Et=At:At.isGroup()&&(Et=At.find(dt)),Et)return!1}),Et},xt.prototype.findById=function(dt){return this.find(function(Et){return Et.get("id")===dt})},xt.prototype.findByClassName=function(dt){return this.find(function(Et){return Et.get("className")===dt})},xt.prototype.findAllByName=function(dt){return this.findAll(function(Et){return Et.get("name")===dt})},xt}(ee.Z)},9642:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>Ht});var Vt=K(1095),_t=K(7524),ee=K(3882),St=K(5998),It=K(1343),yt=K(2370),Tt=ee.vs,ft="matrix",Nt=["zIndex","capture","visible","type"],zt=["repeat"];function Ft(At,J){var p={},j=J.attrs;for(var at in At)p[at]=j[at];return p}function xt(At,J){var p={},j=J.attr();return(0,_t.S6)(At,function(at,st){-1===zt.indexOf(st)&&!(0,_t.Xy)(j[st],at)&&(p[st]=at)}),p}function dt(At,J){if(J.onFrame)return At;var p=J.startTime,j=J.delay,at=J.duration,st=Object.prototype.hasOwnProperty;return(0,_t.S6)(At,function(Ot){p+j<Ot.startTime+Ot.delay+Ot.duration&&at>Ot.delay&&(0,_t.S6)(J.toAttrs,function(te,vt){st.call(Ot.toAttrs,vt)&&(delete Ot.toAttrs[vt],delete Ot.fromAttrs[vt])})}),At}const Ht=function(At){function J(p){var j=At.call(this,p)||this;j.attrs={};var at=j.getDefaultAttrs();return(0,_t.CD)(at,p.attrs),j.attrs=at,j.initAttrs(at),j.initAnimate(),j}return(0,Vt.ZT)(J,At),J.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},J.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},J.prototype.onCanvasChange=function(p){},J.prototype.initAttrs=function(p){},J.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},J.prototype.isGroup=function(){return!1},J.prototype.getParent=function(){return this.get("parent")},J.prototype.getCanvas=function(){return this.get("canvas")},J.prototype.attr=function(){for(var p,j=[],at=0;at<arguments.length;at++)j[at]=arguments[at];var st=j[0],Ot=j[1];if(!st)return this.attrs;if((0,_t.Kn)(st)){for(var te in st)this.setAttr(te,st[te]);return this.afterAttrsChange(st),this}return 2===j.length?(this.setAttr(st,Ot),this.afterAttrsChange(((p={})[st]=Ot,p)),this):this.attrs[st]},J.prototype.isClipped=function(p,j){var at=this.getClip();return at&&!at.isHit(p,j)},J.prototype.setAttr=function(p,j){var at=this.attrs[p];at!==j&&(this.attrs[p]=j,this.onAttrChange(p,j,at))},J.prototype.onAttrChange=function(p,j,at){"matrix"===p&&this.set("totalMatrix",null)},J.prototype.afterAttrsChange=function(p){if(this.cfg.isClipShape){var j=this.cfg.applyTo;j&&j.onCanvasChange("clip")}else this.onCanvasChange("attr")},J.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},J.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},J.prototype.setZIndex=function(p){this.set("zIndex",p);var j=this.getParent();return j&&j.sort(),this},J.prototype.toFront=function(){var p=this.getParent();if(p){var j=p.getChildren(),st=(this.get("el"),j.indexOf(this));j.splice(st,1),j.push(this),this.onCanvasChange("zIndex")}},J.prototype.toBack=function(){var p=this.getParent();if(p){var j=p.getChildren(),st=(this.get("el"),j.indexOf(this));j.splice(st,1),j.unshift(this),this.onCanvasChange("zIndex")}},J.prototype.remove=function(p){void 0===p&&(p=!0);var j=this.getParent();j?((0,St.As)(j.getChildren(),this),j.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),p&&this.destroy()},J.prototype.resetMatrix=function(){this.attr(ft,this.getDefaultMatrix()),this.onCanvasChange("matrix")},J.prototype.getMatrix=function(){return this.attr(ft)},J.prototype.setMatrix=function(p){this.attr(ft,p),this.onCanvasChange("matrix")},J.prototype.getTotalMatrix=function(){var p=this.cfg.totalMatrix;if(!p){var j=this.attr("matrix"),at=this.cfg.parentMatrix;p=at&&j?(0,It.xq)(at,j):j||at,this.set("totalMatrix",p)}return p},J.prototype.applyMatrix=function(p){var at,j=this.attr("matrix");at=p&&j?(0,It.xq)(p,j):j||p,this.set("totalMatrix",at),this.set("parentMatrix",p)},J.prototype.getDefaultMatrix=function(){return null},J.prototype.applyToMatrix=function(p){var j=this.attr("matrix");return j?(0,It.rG)(j,p):p},J.prototype.invertFromMatrix=function(p){var j=this.attr("matrix");if(j){var at=(0,It.U_)(j);if(at)return(0,It.rG)(at,p)}return p},J.prototype.setClip=function(p){var j=this.getCanvas(),at=null;if(p){var te=this.getShapeBase()[(0,_t.jC)(p.type)];te&&(at=new te({type:p.type,isClipShape:!0,applyTo:this,attrs:p.attrs,canvas:j}))}return this.set("clipShape",at),this.onCanvasChange("clip"),at},J.prototype.getClip=function(){return this.cfg.clipShape||null},J.prototype.clone=function(){var p=this,j=this.attrs,at={};(0,_t.S6)(j,function(te,vt){at[vt]=(0,_t.kJ)(j[vt])?function(At){for(var J=[],p=0;p<At.length;p++)(0,_t.kJ)(At[p])?J.push([].concat(At[p])):J.push(At[p]);return J}(j[vt]):j[vt]});var Ot=new(0,this.constructor)({attrs:at});return(0,_t.S6)(Nt,function(te){Ot.set(te,p.get(te))}),Ot},J.prototype.destroy=function(){this.destroyed||(this.attrs={},At.prototype.destroy.call(this))},J.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},J.prototype.animate=function(){for(var p=[],j=0;j<arguments.length;j++)p[j]=arguments[j];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var at=this.get("timeline");at||(at=this.get("canvas").get("timeline"),this.set("timeline",at));var st=this.get("animations")||[];at.timer||at.initTimer();var C,S,G,z,Q,Ot=p[0],te=p[1],vt=p[2],lt=void 0===vt?"easeLinear":vt,bt=p[3],mt=void 0===bt?_t.ZT:bt,Ut=p[4],Ct=void 0===Ut?0:Ut;(0,_t.mf)(Ot)?(C=Ot,Ot={}):(0,_t.Kn)(Ot)&&Ot.onFrame&&(C=Ot.onFrame,S=Ot.repeat),(0,_t.Kn)(te)?(te=(Q=te).duration,lt=Q.easing||"easeLinear",Ct=Q.delay||0,S=Q.repeat||S||!1,mt=Q.callback||_t.ZT,G=Q.pauseCallback||_t.ZT,z=Q.resumeCallback||_t.ZT):((0,_t.hj)(mt)&&(Ct=mt,mt=null),(0,_t.mf)(lt)?(mt=lt,lt="easeLinear"):lt=lt||"easeLinear");var Bt=xt(Ot,this),_={fromAttrs:Ft(Bt,this),toAttrs:Bt,duration:te,easing:lt,repeat:S,callback:mt,pauseCallback:G,resumeCallback:z,delay:Ct,startTime:at.getTime(),id:(0,_t.EL)(),onFrame:C,pathFormatted:!1};st.length>0?st=dt(st,_):at.addAnimator(this),st.push(_),this.set("animations",st),this.set("_pause",{isPaused:!1})}},J.prototype.stopAnimate=function(p){var j=this;void 0===p&&(p=!0);var at=this.get("animations");(0,_t.S6)(at,function(st){p&&j.attr(st.onFrame?st.onFrame(1):st.toAttrs),st.callback&&st.callback()}),this.set("animating",!1),this.set("animations",[])},J.prototype.pauseAnimate=function(){var p=this.get("timeline"),j=this.get("animations"),at=p.getTime();return(0,_t.S6)(j,function(st){st._paused=!0,st._pauseTime=at,st.pauseCallback&&st.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:at}),this},J.prototype.resumeAnimate=function(){var j=this.get("timeline").getTime(),at=this.get("animations"),st=this.get("_pause").pauseTime;return(0,_t.S6)(at,function(Ot){Ot.startTime=Ot.startTime+(j-st),Ot._paused=!1,Ot._pauseTime=null,Ot.resumeCallback&&Ot.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",at),this},J.prototype.emitDelegation=function(p,j){var te,at=this,st=j.propagationPath;this.getEvents(),"mouseenter"===p?te=j.fromShape:"mouseleave"===p&&(te=j.toShape);for(var vt=function(Ut){var Ct=st[Ut],C=Ct.get("name");if(C){if((Ct.isGroup()||Ct.isCanvas&&Ct.isCanvas())&&te&&(0,St.UY)(Ct,te))return"break";(0,_t.kJ)(C)?(0,_t.S6)(C,function(S){at.emitDelegateEvent(Ct,S,j)}):lt.emitDelegateEvent(Ct,C,j)}},lt=this,bt=0;bt<st.length&&"break"!==vt(bt);bt++);},J.prototype.emitDelegateEvent=function(p,j,at){var st=this.getEvents(),Ot=j+":"+at.type;(st[Ot]||st["*"])&&(at.name=Ot,at.currentTarget=p,at.delegateTarget=this,at.delegateObject=p.get("delegateObject"),this.emit(Ot,at))},J.prototype.translate=function(p,j){void 0===p&&(p=0),void 0===j&&(j=0);var at=this.getMatrix(),st=Tt(at,[["t",p,j]]);return this.setMatrix(st),this},J.prototype.move=function(p,j){var at=this.attr("x")||0,st=this.attr("y")||0;return this.translate(p-at,j-st),this},J.prototype.moveTo=function(p,j){return this.move(p,j)},J.prototype.scale=function(p,j){var at=this.getMatrix(),st=Tt(at,[["s",p,j||p]]);return this.setMatrix(st),this},J.prototype.rotate=function(p){var j=this.getMatrix(),at=Tt(j,[["r",p]]);return this.setMatrix(at),this},J.prototype.rotateAtStart=function(p){var j=this.attr(),at=j.x,st=j.y,Ot=this.getMatrix(),te=Tt(Ot,[["t",-at,-st],["r",p],["t",at,st]]);return this.setMatrix(te),this},J.prototype.rotateAtPoint=function(p,j,at){var st=this.getMatrix(),Ot=Tt(st,[["t",-p,-j],["r",at],["t",p,j]]);return this.setMatrix(Ot),this},J}(yt.Z)},6147:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>St});var Vt=K(1095);const St=function(It){function yt(){return null!==It&&It.apply(this,arguments)||this}return(0,Vt.ZT)(yt,It),yt.prototype.isGroup=function(){return!0},yt.prototype.isEntityGroup=function(){return!1},yt.prototype.clone=function(){for(var Tt=It.prototype.clone.call(this),ft=this.getChildren(),Nt=0;Nt<ft.length;Nt++)Tt.add(ft[Nt].clone());return Tt},yt}(K(3213).Z)},6389:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>It});var Vt=K(1095),_t=K(9642),ee=K(1343);const It=function(yt){function Tt(ft){return yt.call(this,ft)||this}return(0,Vt.ZT)(Tt,yt),Tt.prototype._isInBBox=function(ft,Nt){var zt=this.getBBox();return zt.minX<=ft&&zt.maxX>=ft&&zt.minY<=Nt&&zt.maxY>=Nt},Tt.prototype.afterAttrsChange=function(ft){yt.prototype.afterAttrsChange.call(this,ft),this.clearCacheBBox()},Tt.prototype.getBBox=function(){var ft=this.cfg.bbox;return ft||(ft=this.calculateBBox(),this.set("bbox",ft)),ft},Tt.prototype.getCanvasBBox=function(){var ft=this.cfg.canvasBBox;return ft||(ft=this.calculateCanvasBBox(),this.set("canvasBBox",ft)),ft},Tt.prototype.applyMatrix=function(ft){yt.prototype.applyMatrix.call(this,ft),this.set("canvasBBox",null)},Tt.prototype.calculateCanvasBBox=function(){var ft=this.getBBox(),Nt=this.getTotalMatrix(),zt=ft.minX,kt=ft.minY,Wt=ft.maxX,jt=ft.maxY;if(Nt){var Ft=(0,ee.rG)(Nt,[ft.minX,ft.minY]),xt=(0,ee.rG)(Nt,[ft.maxX,ft.minY]),dt=(0,ee.rG)(Nt,[ft.minX,ft.maxY]),Et=(0,ee.rG)(Nt,[ft.maxX,ft.maxY]);zt=Math.min(Ft[0],xt[0],dt[0],Et[0]),Wt=Math.max(Ft[0],xt[0],dt[0],Et[0]),kt=Math.min(Ft[1],xt[1],dt[1],Et[1]),jt=Math.max(Ft[1],xt[1],dt[1],Et[1])}var Ht=this.attrs;if(Ht.shadowColor){var At=Ht.shadowBlur,J=void 0===At?0:At,p=Ht.shadowOffsetX,j=void 0===p?0:p,at=Ht.shadowOffsetY,st=void 0===at?0:at,te=Wt+J+j,vt=kt-J+st,lt=jt+J+st;zt=Math.min(zt,zt-J+j),Wt=Math.max(Wt,te),kt=Math.min(kt,vt),jt=Math.max(jt,lt)}return{x:zt,y:kt,minX:zt,minY:kt,maxX:Wt,maxY:jt,width:Wt-zt,height:jt-kt}},Tt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},Tt.prototype.isClipShape=function(){return this.get("isClipShape")},Tt.prototype.isInShape=function(ft,Nt){return!1},Tt.prototype.isOnlyHitBox=function(){return!1},Tt.prototype.isHit=function(ft,Nt){var zt=this.get("startArrowShape"),kt=this.get("endArrowShape"),Wt=[ft,Nt,1],jt=(Wt=this.invertFromMatrix(Wt))[0],Ft=Wt[1],xt=this._isInBBox(jt,Ft);return this.isOnlyHitBox()?xt:!(!xt||this.isClipped(jt,Ft)||!(this.isInShape(jt,Ft)||zt&&zt.isHit(jt,Ft)||kt&&kt.isHit(jt,Ft)))},Tt}(_t.Z)},735:(Le,se,K)=>{"use strict";K.d(se,{b:()=>ee});var Vt=new Map;function _t(J,p){Vt.set(J,p)}function ee(J){return Vt.get(J)}function St(J){var p=J.attr();return{x:p.x,y:p.y,width:p.width,height:p.height}}function It(J){var p=J.attr(),st=p.r;return{x:p.x-st,y:p.y-st,width:2*st,height:2*st}}var yt=K(9174);function Tt(J,p){return J&&p?{minX:Math.min(J.minX,p.minX),minY:Math.min(J.minY,p.minY),maxX:Math.max(J.maxX,p.maxX),maxY:Math.max(J.maxY,p.maxY)}:J||p}function ft(J,p){var j=J.get("startArrowShape"),at=J.get("endArrowShape");return j&&(p=Tt(p,j.getCanvasBBox())),at&&(p=Tt(p,at.getCanvasBBox())),p}var kt=K(1518),jt=K(2759),Ft=K(7524);function dt(J,p){var j=J.prePoint,at=J.currentPoint,st=J.nextPoint,Ot=Math.pow(at[0]-j[0],2)+Math.pow(at[1]-j[1],2),te=Math.pow(at[0]-st[0],2)+Math.pow(at[1]-st[1],2),vt=Math.pow(j[0]-st[0],2)+Math.pow(j[1]-st[1],2),lt=Math.acos((Ot+te-vt)/(2*Math.sqrt(Ot)*Math.sqrt(te)));if(!lt||0===Math.sin(lt)||(0,Ft.vQ)(lt,0))return{xExtra:0,yExtra:0};var bt=Math.abs(Math.atan2(st[1]-at[1],st[0]-at[0])),mt=Math.abs(Math.atan2(st[0]-at[0],st[1]-at[1]));return bt=bt>Math.PI/2?Math.PI-bt:bt,mt=mt>Math.PI/2?Math.PI-mt:mt,{xExtra:Math.cos(lt/2-bt)*(p/2*(1/Math.sin(lt/2)))-p/2||0,yExtra:Math.cos(mt-lt/2)*(p/2*(1/Math.sin(lt/2)))-p/2||0}}_t("rect",St),_t("image",St),_t("circle",It),_t("marker",It),_t("polyline",function(J){for(var j=J.attr().points,at=[],st=[],Ot=0;Ot<j.length;Ot++){var te=j[Ot];at.push(te[0]),st.push(te[1])}var vt=yt.Zr.getBBoxByArray(at,st),lt=vt.x,bt=vt.y,Ct={minX:lt,minY:bt,maxX:lt+vt.width,maxY:bt+vt.height};return{x:(Ct=ft(J,Ct)).minX,y:Ct.minY,width:Ct.maxX-Ct.minX,height:Ct.maxY-Ct.minY}}),_t("polygon",function(J){for(var j=J.attr().points,at=[],st=[],Ot=0;Ot<j.length;Ot++){var te=j[Ot];at.push(te[0]),st.push(te[1])}return yt.Zr.getBBoxByArray(at,st)}),_t("text",function(J){var p=J.attr(),j=p.x,at=p.y,st=p.text,Ot=p.fontSize,te=p.lineHeight,vt=p.font;vt||(vt=(0,kt.$O)(p));var bt,lt=(0,kt.mY)(st,vt);if(lt){var mt=p.textAlign,Ut=p.textBaseline,Ct=(0,kt.FE)(st,Ot,te),C={x:j,y:at-Ct};mt&&("end"===mt||"right"===mt?C.x-=lt:"center"===mt&&(C.x-=lt/2)),Ut&&("top"===Ut?C.y+=Ct:"middle"===Ut&&(C.y+=Ct/2)),bt={x:C.x,y:C.y,width:lt,height:Ct}}else bt={x:j,y:at,width:0,height:0};return bt}),_t("path",function(J){var p=J.attr(),j=p.path,st=p.stroke?p.lineWidth:0,te=function(J,p){for(var j=[],at=[],st=[],Ot=0;Ot<J.length;Ot++){var vt=(te=J[Ot]).currentPoint,lt=te.params,bt=te.prePoint,mt=void 0;switch(te.command){case"Q":mt=yt.lD.box(bt[0],bt[1],lt[1],lt[2],lt[3],lt[4]);break;case"C":mt=yt.Ll.box(bt[0],bt[1],lt[1],lt[2],lt[3],lt[4],lt[5],lt[6]);break;case"A":var Ut=te.arcParams;mt=yt.wN.box(Ut.cx,Ut.cy,Ut.rx,Ut.ry,Ut.xRotation,Ut.startAngle,Ut.endAngle);break;default:j.push(vt[0]),at.push(vt[1])}mt&&(te.box=mt,j.push(mt.x,mt.x+mt.width),at.push(mt.y,mt.y+mt.height)),p&&("L"===te.command||"M"===te.command)&&te.prePoint&&te.nextPoint&&st.push(te)}j=j.filter(function(Q){return!Number.isNaN(Q)}),at=at.filter(function(Q){return!Number.isNaN(Q)});var Ct=(0,Ft.VV)(j),C=(0,Ft.VV)(at),S=(0,Ft.Fp)(j),G=(0,Ft.Fp)(at);if(0===st.length)return{x:Ct,y:C,width:S-Ct,height:G-C};for(Ot=0;Ot<st.length;Ot++){var te;(vt=(te=st[Ot]).currentPoint)[0]===Ct?Ct-=dt(te,p).xExtra:vt[0]===S&&(S+=dt(te,p).xExtra),vt[1]===C?C-=dt(te,p).yExtra:vt[1]===G&&(G+=dt(te,p).yExtra)}return{x:Ct,y:C,width:S-Ct,height:G-C}}(J.get("segments")||(0,jt.zx)(j),st),vt=te.x,lt=te.y,Ut={minX:vt,minY:lt,maxX:vt+te.width,maxY:lt+te.height};return{x:(Ut=ft(J,Ut)).minX,y:Ut.minY,width:Ut.maxX-Ut.minX,height:Ut.maxY-Ut.minY}}),_t("line",function(J){var p=J.attr(),j=p.x1,at=p.y1,st=p.x2,Ot=p.y2,mt={minX:Math.min(j,st),maxX:Math.max(j,st),minY:Math.min(at,Ot),maxY:Math.max(at,Ot)};return{x:(mt=ft(J,mt)).minX,y:mt.minY,width:mt.maxX-mt.minX,height:mt.maxY-mt.minY}}),_t("ellipse",function(J){var p=J.attr(),st=p.rx,Ot=p.ry;return{x:p.x-st,y:p.y-Ot,width:2*st,height:2*Ot}})},3128:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>_t});const _t=function(){function ee(St,It){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=St,this.name=St,this.originalEvent=It,this.timeStamp=It.timeStamp}return ee.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},ee.prototype.stopPropagation=function(){this.propagationStopped=!0},ee.prototype.toString=function(){return"[Event (type="+this.type+")]"},ee.prototype.save=function(){},ee.prototype.restore=function(){},ee}()},8621:(Le,se,K)=>{"use strict";K.r(se),K.d(se,{Event:()=>Tt.Z,Base:()=>ft.Z,AbstractCanvas:()=>Nt.Z,AbstractGroup:()=>zt.Z,AbstractShape:()=>kt.Z,PathUtil:()=>Vt,getBBoxMethod:()=>Wt.b,getTextHeight:()=>jt.FE,assembleFont:()=>jt.$O,isAllowCapture:()=>Ft.pP,multiplyVec2:()=>xt.rG,invert:()=>xt.U_,getOffScreenContext:()=>dt.L,version:()=>Et});var Vt=K(994),_t=K(353),St={};for(const Ht in _t)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(Ht)<0&&(St[Ht]=()=>_t[Ht]);K.d(se,St);var It=K(3482);St={};for(const Ht in It)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(Ht)<0&&(St[Ht]=()=>It[Ht]);K.d(se,St);var Tt=K(3128),ft=K(2370),Nt=K(5133),zt=K(6147),kt=K(6389),Wt=K(735),jt=K(1518),Ft=K(5998),xt=K(1343),dt=K(865),Et="0.5.6"},3482:()=>{},353:()=>{},1343:(Le,se,K)=>{"use strict";function Vt(St,It){var yt=[],Tt=St[0],ft=St[1],Nt=St[2],zt=St[3],kt=St[4],Wt=St[5],jt=St[6],Ft=St[7],xt=St[8],dt=It[0],Et=It[1],Ht=It[2],At=It[3],J=It[4],p=It[5],j=It[6],at=It[7],st=It[8];return yt[0]=dt*Tt+Et*zt+Ht*jt,yt[1]=dt*ft+Et*kt+Ht*Ft,yt[2]=dt*Nt+Et*Wt+Ht*xt,yt[3]=At*Tt+J*zt+p*jt,yt[4]=At*ft+J*kt+p*Ft,yt[5]=At*Nt+J*Wt+p*xt,yt[6]=j*Tt+at*zt+st*jt,yt[7]=j*ft+at*kt+st*Ft,yt[8]=j*Nt+at*Wt+st*xt,yt}function _t(St,It){var yt=[],Tt=It[0],ft=It[1];return yt[0]=St[0]*Tt+St[3]*ft+St[6],yt[1]=St[1]*Tt+St[4]*ft+St[7],yt}function ee(St){var It=[],yt=St[0],Tt=St[1],ft=St[2],Nt=St[3],zt=St[4],kt=St[5],Wt=St[6],jt=St[7],Ft=St[8],xt=Ft*zt-kt*jt,dt=-Ft*Nt+kt*Wt,Et=jt*Nt-zt*Wt,Ht=yt*xt+Tt*dt+ft*Et;return Ht?(It[0]=xt*(Ht=1/Ht),It[1]=(-Ft*Tt+ft*jt)*Ht,It[2]=(kt*Tt-ft*zt)*Ht,It[3]=dt*Ht,It[4]=(Ft*yt-ft*Wt)*Ht,It[5]=(-kt*yt+ft*Nt)*Ht,It[6]=Et*Ht,It[7]=(-jt*yt+Tt*Wt)*Ht,It[8]=(zt*yt-Tt*Nt)*Ht,It):null}K.d(se,{xq:()=>Vt,rG:()=>_t,U_:()=>ee})},865:(Le,se,K)=>{"use strict";K.d(se,{L:()=>_t});var Vt=null;function _t(){if(!Vt){var ee=document.createElement("canvas");ee.width=1,ee.height=1,Vt=ee.getContext("2d")}return Vt}},994:(Le,se,K)=>{"use strict";K.r(se),K.d(se,{catmullRomToBezier:()=>yt,fillPath:()=>Ut,fillPathByDiff:()=>G,formatPath:()=>Bt,intersection:()=>vt,parsePathArray:()=>Ft,parsePathString:()=>It,pathToAbsolute:()=>ft,pathToCurve:()=>Wt,rectPath:()=>J});var Vt=K(7524),_t="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",ee=new RegExp("([a-z])["+_t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+_t+"]*,?["+_t+"]*)+)","ig"),St=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+_t+"]*,?["+_t+"]*","ig"),It=function(_){if(!_)return null;if((0,Vt.kJ)(_))return _;var k={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},N=[];return String(_).replace(ee,function(F,rt,ot){var wt=[],B=rt.toLowerCase();if(ot.replace(St,function(y,b){b&&wt.push(+b)}),"m"===B&&wt.length>2&&(N.push([rt].concat(wt.splice(0,2))),B="l",rt="m"===rt?"l":"L"),"o"===B&&1===wt.length&&N.push([rt,wt[0]]),"r"===B)N.push([rt].concat(wt));else for(;wt.length>=k[B]&&(N.push([rt].concat(wt.splice(0,k[B]))),k[B]););return _}),N},yt=function(_,k){for(var N=[],F=0,rt=_.length;rt-2*!k>F;F+=2){var ot=[{x:+_[F-2],y:+_[F-1]},{x:+_[F],y:+_[F+1]},{x:+_[F+2],y:+_[F+3]},{x:+_[F+4],y:+_[F+5]}];k?F?rt-4===F?ot[3]={x:+_[0],y:+_[1]}:rt-2===F&&(ot[2]={x:+_[0],y:+_[1]},ot[3]={x:+_[2],y:+_[3]}):ot[0]={x:+_[rt-2],y:+_[rt-1]}:rt-4===F?ot[3]=ot[2]:F||(ot[0]={x:+_[F],y:+_[F+1]}),N.push(["C",(6*ot[1].x-ot[0].x+ot[2].x)/6,(6*ot[1].y-ot[0].y+ot[2].y)/6,(ot[1].x+6*ot[2].x-ot[3].x)/6,(ot[1].y+6*ot[2].y-ot[3].y)/6,ot[2].x,ot[2].y])}return N},Tt=function(_,k,N,F,rt){var ot=[];if(null===rt&&null===F&&(F=N),_=+_,k=+k,N=+N,F=+F,null!==rt){var wt=Math.PI/180,B=_+N*Math.cos(-F*wt),y=_+N*Math.cos(-rt*wt);ot=[["M",B,k+N*Math.sin(-F*wt)],["A",N,N,0,+(rt-F>180),0,y,k+N*Math.sin(-rt*wt)]]}else ot=[["M",_,k],["m",0,-F],["a",N,F,0,1,1,0,2*F],["a",N,F,0,1,1,0,-2*F],["z"]];return ot},ft=function(_){if(!(_=It(_))||!_.length)return[["M",0,0]];var B,y,k=[],N=0,F=0,rt=0,ot=0,wt=0;"M"===_[0][0]&&(rt=N=+_[0][1],ot=F=+_[0][2],wt++,k[0]=["M",N,F]);for(var b=3===_.length&&"M"===_[0][0]&&"R"===_[1][0].toUpperCase()&&"Z"===_[2][0].toUpperCase(),T=void 0,O=void 0,X=wt,W=_.length;X<W;X++){if(k.push(T=[]),(B=(O=_[X])[0])!==B.toUpperCase())switch(T[0]=B.toUpperCase(),T[0]){case"A":T[1]=O[1],T[2]=O[2],T[3]=O[3],T[4]=O[4],T[5]=O[5],T[6]=+O[6]+N,T[7]=+O[7]+F;break;case"V":T[1]=+O[1]+F;break;case"H":T[1]=+O[1]+N;break;case"R":for(var $=2,gt=(y=[N,F].concat(O.slice(1))).length;$<gt;$++)y[$]=+y[$]+N,y[++$]=+y[$]+F;k.pop(),k=k.concat(yt(y,b));break;case"O":k.pop(),(y=Tt(N,F,O[1],O[2])).push(y[0]),k=k.concat(y);break;case"U":k.pop(),k=k.concat(Tt(N,F,O[1],O[2],O[3])),T=["U"].concat(k[k.length-1].slice(-2));break;case"M":rt=+O[1]+N,ot=+O[2]+F;break;default:for($=1,gt=O.length;$<gt;$++)T[$]=+O[$]+($%2?N:F)}else if("R"===B)y=[N,F].concat(O.slice(1)),k.pop(),k=k.concat(yt(y,b)),T=["R"].concat(O.slice(-2));else if("O"===B)k.pop(),(y=Tt(N,F,O[1],O[2])).push(y[0]),k=k.concat(y);else if("U"===B)k.pop(),k=k.concat(Tt(N,F,O[1],O[2],O[3])),T=["U"].concat(k[k.length-1].slice(-2));else for(var Rt=0,Kt=O.length;Rt<Kt;Rt++)T[Rt]=O[Rt];if("O"!==(B=B.toUpperCase()))switch(T[0]){case"Z":N=+rt,F=+ot;break;case"H":N=T[1];break;case"V":F=T[1];break;case"M":rt=T[T.length-2],ot=T[T.length-1];break;default:N=T[T.length-2],F=T[T.length-1]}}return k},Nt=function(_,k,N,F){return[_,k,N,F,N,F]},zt=function(_,k,N,F,rt,ot){var wt=1/3,B=2/3;return[wt*_+B*N,wt*k+B*F,wt*rt+B*N,wt*ot+B*F,rt,ot]},kt=function(_,k,N,F,rt,ot,wt,B,y,b){N===F&&(N+=1);var W,$,gt,Rt,Kt,T=120*Math.PI/180,O=Math.PI/180*(+rt||0),X=[],ht=function(c,le,Dt){return{x:c*Math.cos(Dt)-le*Math.sin(Dt),y:c*Math.sin(Dt)+le*Math.cos(Dt)}};if(b)$=b[0],gt=b[1],Rt=b[2],Kt=b[3];else{_=(W=ht(_,k,-O)).x,k=W.y,y=(W=ht(B,y,-O)).y,_===(B=W.x)&&k===y&&(B+=1,y+=1);var m=(_-B)/2,H=(k-y)/2,M=m*m/(N*N)+H*H/(F*F);M>1&&(N*=M=Math.sqrt(M),F*=M);var P=N*N,U=F*F,Z=(ot===wt?-1:1)*Math.sqrt(Math.abs((P*U-P*H*H-U*m*m)/(P*H*H+U*m*m)));Rt=Z*N*H/F+(_+B)/2,Kt=Z*-F*m/N+(k+y)/2,$=Math.asin(((k-Kt)/F).toFixed(9)),gt=Math.asin(((y-Kt)/F).toFixed(9)),$=_<Rt?Math.PI-$:$,gt=B<Rt?Math.PI-gt:gt,$<0&&($=2*Math.PI+$),gt<0&&(gt=2*Math.PI+gt),wt&&$>gt&&($-=2*Math.PI),!wt&&gt>$&&(gt-=2*Math.PI)}var tt=gt-$;if(Math.abs(tt)>T){var it=gt,pt=B,Mt=y;gt=$+T*(wt&&gt>$?1:-1),B=Rt+N*Math.cos(gt),y=Kt+F*Math.sin(gt),X=kt(B,y,N,F,rt,0,wt,pt,Mt,[gt,it,Rt,Kt])}tt=gt-$;var ut=Math.cos($),Yt=Math.sin($),Lt=Math.cos(gt),Zt=Math.sin(gt),ie=Math.tan(tt/4),Qt=4/3*N*ie,ne=4/3*F*ie,re=[_,k],ae=[_+Qt*Yt,k-ne*ut],$t=[B+Qt*Zt,y-ne*Lt],ue=[B,y];if(ae[0]=2*re[0]-ae[0],ae[1]=2*re[1]-ae[1],b)return[ae,$t,ue].concat(X);for(var ve=[],he=0,fe=(X=[ae,$t,ue].concat(X).join().split(",")).length;he<fe;he++)ve[he]=he%2?ht(X[he-1],X[he],O).y:ht(X[he],X[he+1],O).x;return ve},Wt=function(_,k){var T,N=ft(_),F=k&&ft(k),rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ot={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},wt=[],B=[],y="",b="",O=function(m,H,M){var P,U;if(!m)return["C",H.x,H.y,H.x,H.y,H.x,H.y];switch(!(m[0]in{T:1,Q:1})&&(H.qx=H.qy=null),m[0]){case"M":H.X=m[1],H.Y=m[2];break;case"A":m=["C"].concat(kt.apply(0,[H.x,H.y].concat(m.slice(1))));break;case"S":"C"===M||"S"===M?(P=2*H.x-H.bx,U=2*H.y-H.by):(P=H.x,U=H.y),m=["C",P,U].concat(m.slice(1));break;case"T":"Q"===M||"T"===M?(H.qx=2*H.x-H.qx,H.qy=2*H.y-H.qy):(H.qx=H.x,H.qy=H.y),m=["C"].concat(zt(H.x,H.y,H.qx,H.qy,m[1],m[2]));break;case"Q":H.qx=m[1],H.qy=m[2],m=["C"].concat(zt(H.x,H.y,m[1],m[2],m[3],m[4]));break;case"L":m=["C"].concat(Nt(H.x,H.y,m[1],m[2]));break;case"H":m=["C"].concat(Nt(H.x,H.y,m[1],H.y));break;case"V":m=["C"].concat(Nt(H.x,H.y,H.x,m[1]));break;case"Z":m=["C"].concat(Nt(H.x,H.y,H.X,H.Y))}return m},X=function(m,H){if(m[H].length>7){m[H].shift();for(var M=m[H];M.length;)wt[H]="A",F&&(B[H]="A"),m.splice(H++,0,["C"].concat(M.splice(0,6)));m.splice(H,1),T=Math.max(N.length,F&&F.length||0)}},W=function(m,H,M,P,U){m&&H&&"M"===m[U][0]&&"M"!==H[U][0]&&(H.splice(U,0,["M",P.x,P.y]),M.bx=0,M.by=0,M.x=m[U][1],M.y=m[U][2],T=Math.max(N.length,F&&F.length||0))};T=Math.max(N.length,F&&F.length||0);for(var $=0;$<T;$++){N[$]&&(y=N[$][0]),"C"!==y&&(wt[$]=y,$&&(b=wt[$-1])),N[$]=O(N[$],rt,b),"A"!==wt[$]&&"C"===y&&(wt[$]="C"),X(N,$),F&&(F[$]&&(y=F[$][0]),"C"!==y&&(B[$]=y,$&&(b=B[$-1])),F[$]=O(F[$],ot,b),"A"!==B[$]&&"C"===y&&(B[$]="C"),X(F,$)),W(N,F,rt,ot,$),W(F,N,ot,rt,$);var gt=N[$],Rt=F&&F[$],Kt=gt.length,ht=F&&Rt.length;rt.x=gt[Kt-2],rt.y=gt[Kt-1],rt.bx=parseFloat(gt[Kt-4])||rt.x,rt.by=parseFloat(gt[Kt-3])||rt.y,ot.bx=F&&(parseFloat(Rt[ht-4])||ot.x),ot.by=F&&(parseFloat(Rt[ht-3])||ot.y),ot.x=F&&Rt[ht-2],ot.y=F&&Rt[ht-1]}return F?[N,F]:N},jt=/,?([a-z]),?/gi,Ft=function(_){return _.join(",").replace(jt,"$1")},xt=function(_,k,N,F,rt){return _*(_*(-3*k+9*N-9*F+3*rt)+6*k-12*N+6*F)-3*k+3*N},dt=function(_,k,N,F,rt,ot,wt,B,y){null===y&&(y=1);for(var b=(y=y>1?1:y<0?0:y)/2,O=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],X=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0,$=0;$<12;$++){var gt=b*O[$]+b,Rt=xt(gt,_,N,rt,wt),Kt=xt(gt,k,F,ot,B);W+=X[$]*Math.sqrt(Rt*Rt+Kt*Kt)}return b*W},Et=function(_,k,N,F,rt,ot,wt,B){for(var T,O,X,W,y=[],b=[[],[]],$=0;$<2;++$)if(0===$?(O=6*_-12*N+6*rt,T=-3*_+9*N-9*rt+3*wt,X=3*N-3*_):(O=6*k-12*F+6*ot,T=-3*k+9*F-9*ot+3*B,X=3*F-3*k),Math.abs(T)<1e-12){if(Math.abs(O)<1e-12)continue;(W=-X/O)>0&&W<1&&y.push(W)}else{var gt=O*O-4*X*T,Rt=Math.sqrt(gt);if(!(gt<0)){var Kt=(-O+Rt)/(2*T);Kt>0&&Kt<1&&y.push(Kt);var ht=(-O-Rt)/(2*T);ht>0&&ht<1&&y.push(ht)}}for(var M,m=y.length,H=m;m--;)b[0][m]=(M=1-(W=y[m]))*M*M*_+3*M*M*W*N+3*M*W*W*rt+W*W*W*wt,b[1][m]=M*M*M*k+3*M*M*W*F+3*M*W*W*ot+W*W*W*B;return b[0][H]=_,b[1][H]=k,b[0][H+1]=wt,b[1][H+1]=B,b[0].length=b[1].length=H+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}},Ht=function(_,k,N,F,rt,ot,wt,B){if(!(Math.max(_,N)<Math.min(rt,wt)||Math.min(_,N)>Math.max(rt,wt)||Math.max(k,F)<Math.min(ot,B)||Math.min(k,F)>Math.max(ot,B))){var T=(_-N)*(ot-B)-(k-F)*(rt-wt);if(T){var O=((_*F-k*N)*(rt-wt)-(_-N)*(rt*B-ot*wt))/T,X=((_*F-k*N)*(ot-B)-(k-F)*(rt*B-ot*wt))/T,W=+O.toFixed(2),$=+X.toFixed(2);if(!(W<+Math.min(_,N).toFixed(2)||W>+Math.max(_,N).toFixed(2)||W<+Math.min(rt,wt).toFixed(2)||W>+Math.max(rt,wt).toFixed(2)||$<+Math.min(k,F).toFixed(2)||$>+Math.max(k,F).toFixed(2)||$<+Math.min(ot,B).toFixed(2)||$>+Math.max(ot,B).toFixed(2)))return{x:O,y:X}}}},At=function(_,k,N){return k>=_.x&&k<=_.x+_.width&&N>=_.y&&N<=_.y+_.height},J=function(_,k,N,F,rt){if(rt)return[["M",+_+ +rt,k],["l",N-2*rt,0],["a",rt,rt,0,0,1,rt,rt],["l",0,F-2*rt],["a",rt,rt,0,0,1,-rt,rt],["l",2*rt-N,0],["a",rt,rt,0,0,1,-rt,-rt],["l",0,2*rt-F],["a",rt,rt,0,0,1,rt,-rt],["z"]];var ot=[["M",_,k],["l",N,0],["l",0,F],["l",-N,0],["z"]];return ot.parsePathArray=Ft,ot},p=function(_,k,N,F){return null===_&&(_=k=N=F=0),null===k&&(k=_.y,N=_.width,F=_.height,_=_.x),{x:_,y:k,width:N,w:N,height:F,h:F,x2:_+N,y2:k+F,cx:_+N/2,cy:k+F/2,r1:Math.min(N,F)/2,r2:Math.max(N,F)/2,r0:Math.sqrt(N*N+F*F)/2,path:J(_,k,N,F),vb:[_,k,N,F].join(" ")}},at=function(_,k,N,F,rt,ot,wt,B){(0,Vt.kJ)(_)||(_=[_,k,N,F,rt,ot,wt,B]);var y=Et.apply(null,_);return p(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},st=function(_,k,N,F,rt,ot,wt,B,y){var b=1-y,T=Math.pow(b,3),O=Math.pow(b,2),X=y*y,W=X*y,Rt=_+2*y*(N-_)+X*(rt-2*N+_),Kt=k+2*y*(F-k)+X*(ot-2*F+k),ht=N+2*y*(rt-N)+X*(wt-2*rt+N),m=F+2*y*(ot-F)+X*(B-2*ot+F);return{x:T*_+3*O*y*N+3*b*y*y*rt+W*wt,y:T*k+3*O*y*F+3*b*y*y*ot+W*B,m:{x:Rt,y:Kt},n:{x:ht,y:m},start:{x:b*_+y*N,y:b*k+y*F},end:{x:b*rt+y*wt,y:b*ot+y*B},alpha:90-180*Math.atan2(Rt-ht,Kt-m)/Math.PI}},Ot=function(_,k,N){if(!function(_,k){return _=p(_),k=p(k),At(k,_.x,_.y)||At(k,_.x2,_.y)||At(k,_.x,_.y2)||At(k,_.x2,_.y2)||At(_,k.x,k.y)||At(_,k.x2,k.y)||At(_,k.x,k.y2)||At(_,k.x2,k.y2)||(_.x<k.x2&&_.x>k.x||k.x<_.x2&&k.x>_.x)&&(_.y<k.y2&&_.y>k.y||k.y<_.y2&&k.y>_.y)}(at(_),at(k)))return N?0:[];for(var B=~~(dt.apply(0,_)/8),y=~~(dt.apply(0,k)/8),b=[],T=[],O={},X=N?0:[],W=0;W<B+1;W++){var $=st.apply(0,_.concat(W/B));b.push({x:$.x,y:$.y,t:W/B})}for(W=0;W<y+1;W++)$=st.apply(0,k.concat(W/y)),T.push({x:$.x,y:$.y,t:W/y});for(W=0;W<B;W++)for(var gt=0;gt<y;gt++){var Rt=b[W],Kt=b[W+1],ht=T[gt],m=T[gt+1],H=Math.abs(Kt.x-Rt.x)<.001?"y":"x",M=Math.abs(m.x-ht.x)<.001?"y":"x",P=Ht(Rt.x,Rt.y,Kt.x,Kt.y,ht.x,ht.y,m.x,m.y);if(P){if(O[P.x.toFixed(4)]===P.y.toFixed(4))continue;O[P.x.toFixed(4)]=P.y.toFixed(4);var U=Rt.t+Math.abs((P[H]-Rt[H])/(Kt[H]-Rt[H]))*(Kt.t-Rt.t),Z=ht.t+Math.abs((P[M]-ht[M])/(m[M]-ht[M]))*(m.t-ht.t);U>=0&&U<=1&&Z>=0&&Z<=1&&(N?X+=1:X.push({x:P.x,y:P.y,t1:U,t2:Z}))}}return X},vt=function(_,k){return function(_,k,N){_=Wt(_),k=Wt(k);for(var F,rt,ot,wt,B,y,b,T,O,X,W=[],$=0,gt=_.length;$<gt;$++){var Rt=_[$];if("M"===Rt[0])F=B=Rt[1],rt=y=Rt[2];else{"C"===Rt[0]?(O=[F,rt].concat(Rt.slice(1)),F=O[6],rt=O[7]):(O=[F,rt,F,rt,B,y,B,y],F=B,rt=y);for(var Kt=0,ht=k.length;Kt<ht;Kt++){var m=k[Kt];if("M"===m[0])ot=b=m[1],wt=T=m[2];else{"C"===m[0]?(X=[ot,wt].concat(m.slice(1)),ot=X[6],wt=X[7]):(X=[ot,wt,ot,wt,b,T,b,T],ot=b,wt=T);for(var H=Ot(O,X,N),M=0,P=H.length;M<P;M++)H[M].segment1=$,H[M].segment2=Kt,H[M].bez1=O,H[M].bez2=X;W=W.concat(H)}}}}return W}(_,k)};function lt(_,k){var N=[],F=[];return _.length&&function rt(ot,wt){if(1===ot.length)N.push(ot[0]),F.push(ot[0]);else{for(var B=[],y=0;y<ot.length-1;y++)0===y&&N.push(ot[0]),y===ot.length-2&&F.push(ot[y+1]),B[y]=[(1-wt)*ot[y][0]+wt*ot[y+1][0],(1-wt)*ot[y][1]+wt*ot[y+1][1]];rt(B,wt)}}(_,k),{left:N,right:F.reverse()}}var Ut=function(_,k){if(1===_.length)return _;var N=_.length-1,F=k.length-1,rt=N/F,ot=[];if(1===_.length&&"M"===_[0][0]){for(var wt=0;wt<F-N;wt++)_.push(_[0]);return _}for(wt=0;wt<F;wt++){var B=Math.floor(rt*wt);ot[B]=(ot[B]||0)+1}var y=ot.reduce(function(b,T,O){return b.concat(O===N?_[N]:function(_,k,N){if(1===N)return[[].concat(_)];var F=[];if("L"===k[0]||"C"===k[0]||"Q"===k[0])F=F.concat(function(_,k,N){var F=[[_[1],_[2]]];N=N||2;var rt=[];"A"===k[0]?(F.push(k[6]),F.push(k[7])):"C"===k[0]?(F.push([k[1],k[2]]),F.push([k[3],k[4]]),F.push([k[5],k[6]])):"S"===k[0]||"Q"===k[0]?(F.push([k[1],k[2]]),F.push([k[3],k[4]])):F.push([k[1],k[2]]);for(var ot=F,wt=1/N,B=0;B<N-1;B++){var b=lt(ot,wt/(1-wt*B));rt.push(b.left),ot=b.right}return rt.push(ot),rt.map(function(O){var X=[];return 4===O.length&&(X.push("C"),X=X.concat(O[2])),O.length>=3&&(3===O.length&&X.push("Q"),X=X.concat(O[1])),2===O.length&&X.push("L"),X.concat(O[O.length-1])})}(_,k,N));else{var rt=[].concat(_);"M"===rt[0]&&(rt[0]="L");for(var ot=0;ot<=N-1;ot++)F.push(rt)}return F}(_[O],_[O+1],T))},[]);return y.unshift(_[0]),("Z"===k[F]||"z"===k[F])&&y.push("Z"),y},Ct=function(_,k){if(_.length!==k.length)return!1;var N=!0;return(0,Vt.S6)(_,function(F,rt){if(F!==k[rt])return N=!1,!1}),N};function C(_,k,N){var F=null,rt=N;return k<rt&&(rt=k,F="add"),_<rt&&(rt=_,F="del"),{type:F,min:rt}}var G=function(_,k){var N=function(_,k){var rt,N=_.length,F=k.length,wt=0;if(0===N||0===F)return null;for(var B=[],y=0;y<=N;y++)B[y]=[],B[y][0]={min:y};for(var b=0;b<=F;b++)B[0][b]={min:b};for(y=1;y<=N;y++)for(rt=_[y-1],b=1;b<=F;b++)wt=Ct(rt,k[b-1])?0:1,B[y][b]=C(B[y-1][b].min+1,B[y][b-1].min+1,B[y-1][b-1].min+wt);return B}(_,k),F=_.length,rt=k.length,ot=[],wt=1,B=1;if(N[F][rt].min!==F){for(var y=1;y<=F;y++){var b=N[y][y].min;B=y;for(var T=wt;T<=rt;T++)N[y][T].min<b&&(b=N[y][T].min,B=T);N[y][wt=B].type&&ot.push({index:y-1,type:N[y][wt].type})}for(y=ot.length-1;y>=0;y--)wt=ot[y].index,"add"===ot[y].type?_.splice(wt,0,[].concat(_[wt])):_.splice(wt,1)}var O=rt-(F=_.length);if(F<rt)for(y=0;y<O;y++)"z"===_[F-1][0]||"Z"===_[F-1][0]?_.splice(F-2,0,_[F-2]):_.push(_[F-1]),F+=1;return _};function z(_,k,N){for(var rt,F=[].concat(_),ot=1/(N+1),wt=Q(k)[0],B=1;B<=N;B++)ot*=B,0===(rt=Math.floor(_.length*ot))?F.unshift([wt[0]*ot+_[rt][0]*(1-ot),wt[1]*ot+_[rt][1]*(1-ot)]):F.splice(rt,0,[wt[0]*ot+_[rt][0]*(1-ot),wt[1]*ot+_[rt][1]*(1-ot)]);return F}function Q(_){var k=[];switch(_[0]){case"M":case"L":case"T":k.push([_[1],_[2]]);break;case"A":k.push([_[6],_[7]]);break;case"Q":case"S":k.push([_[3],_[4]]),k.push([_[1],_[2]]);break;case"C":k.push([_[5],_[6]]),k.push([_[1],_[2]]),k.push([_[3],_[4]]);break;case"H":case"V":k.push([_[1],_[1]])}return k}var Bt=function(_,k){if(_.length<=1)return _;for(var N,F=0;F<k.length;F++)if(_[F][0]!==k[F][0])switch(N=Q(_[F]),k[F][0]){case"M":_[F]=["M"].concat(N[0]);break;case"L":_[F]=["L"].concat(N[0]);break;case"A":_[F]=[].concat(k[F]),_[F][6]=N[0][0],_[F][7]=N[0][1];break;case"Q":if(N.length<2){if(!(F>0)){_[F]=k[F];break}N=z(N,_[F-1],1)}_[F]=["Q"].concat(N.reduce(function(rt,ot){return rt.concat(ot)},[]));break;case"T":_[F]=["T"].concat(N[0]);break;case"C":if(N.length<3){if(!(F>0)){_[F]=k[F];break}N=z(N,_[F-1],2)}_[F]=["C"].concat(N.reduce(function(rt,ot){return rt.concat(ot)},[]));break;case"S":if(N.length<2){if(!(F>0)){_[F]=k[F];break}N=z(N,_[F-1],1)}_[F]=["S"].concat(N.reduce(function(rt,ot){return rt.concat(ot)},[]));break;default:_[F]=k[F]}return _}},1518:(Le,se,K)=>{"use strict";K.d(se,{FE:()=>ee,mY:()=>It,$O:()=>yt});var Vt=K(5998),_t=K(865);function ee(Tt,ft,Nt){var zt=1;if((0,Vt.HD)(Tt)&&(zt=Tt.split("\n").length),zt>1){var kt=function(Tt,ft){return ft?ft-Tt:.14*Tt}(ft,Nt);return ft*zt+kt*(zt-1)}return ft}function It(Tt,ft){var Nt=(0,_t.L)(),zt=0;if((0,Vt.kK)(Tt)||""===Tt)return zt;if(Nt.save(),Nt.font=ft,(0,Vt.HD)(Tt)&&Tt.includes("\n")){var kt=Tt.split("\n");(0,Vt.S6)(kt,function(Wt){var jt=Nt.measureText(Wt).width;zt<jt&&(zt=jt)})}else zt=Nt.measureText(Tt).width;return Nt.restore(),zt}function yt(Tt){return[Tt.fontStyle,Tt.fontVariant,Tt.fontWeight,Tt.fontSize+"px",Tt.fontFamily].join(" ").trim()}},5998:(Le,se,K)=>{"use strict";K.d(se,{As:()=>_t,jU:()=>ee,kK:()=>Vt.UM,mf:()=>Vt.mf,HD:()=>Vt.HD,Kn:()=>Vt.Kn,CD:()=>Vt.CD,S6:()=>Vt.S6,jC:()=>Vt.jC,UY:()=>St,pP:()=>It});var Vt=K(7524);function _t(yt,Tt){var ft=yt.indexOf(Tt);-1!==ft&&yt.splice(ft,1)}var ee="undefined"!=typeof window&&void 0!==window.document;function St(yt,Tt){if(yt.isCanvas())return!0;for(var ft=Tt.getParent(),Nt=!1;ft;){if(ft===yt){Nt=!0;break}ft=ft.getParent()}return Nt}function It(yt){return yt.cfg.visible&&yt.cfg.capture}},9174:(Le,se,K)=>{"use strict";K.d(se,{wN:()=>Q,Ll:()=>Ot,x1:()=>zt,aH:()=>rt,lD:()=>At,Zr:()=>Vt});var Vt={};function _t(B){return Math.min.apply(null,B)}function ee(B){return Math.max.apply(null,B)}function St(B,y,b,T){var O=B-b,X=y-T;return Math.sqrt(O*O+X*X)}function It(B,y){return Math.abs(B-y)<.001}function yt(B,y){var b=_t(B),T=_t(y);return{x:b,y:T,width:ee(B)-b,height:ee(y)-T}}function Tt(B,y,b,T){return{minX:_t([B,b]),maxX:ee([B,b]),minY:_t([y,T]),maxY:ee([y,T])}}function ft(B){return(B+2*Math.PI)%(2*Math.PI)}K.r(Vt),K.d(Vt,{distance:()=>St,getBBoxByArray:()=>yt,getBBoxRange:()=>Tt,isNumberEqual:()=>It,piMod:()=>ft});var Nt=K(8235);const zt={box:function(B,y,b,T){return yt([B,b],[y,T])},length:function(B,y,b,T){return St(B,y,b,T)},pointAt:function(B,y,b,T,O){return{x:(1-O)*B+O*b,y:(1-O)*y+O*T}},pointDistance:function(B,y,b,T,O,X){var W=(b-B)*(O-B)+(T-y)*(X-y);return W<0?St(B,y,O,X):W>(b-B)*(b-B)+(T-y)*(T-y)?St(b,T,O,X):this.pointToLine(B,y,b,T,O,X)},pointToLine:function(B,y,b,T,O,X){var W=[b-B,T-y];if(Nt.I6(W,[0,0]))return Math.sqrt((O-B)*(O-B)+(X-y)*(X-y));var $=[-W[1],W[0]];return Nt.Fv($,$),Math.abs(Nt.AK([O-B,X-y],$))},tangentAngle:function(B,y,b,T){return Math.atan2(T-y,b-B)}};function Wt(B,y,b,T,O,X){var W,$=1/0,gt=[b,T],Rt=20;X&&X>200&&(Rt=X/10);for(var Kt=1/Rt,ht=Kt/10,m=0;m<=Rt;m++){var H=m*Kt,M=[O.apply(null,B.concat([H])),O.apply(null,y.concat([H]))];(P=St(gt[0],gt[1],M[0],M[1]))<$&&(W=H,$=P)}if(0===W)return{x:B[0],y:y[0]};if(1===W){var U=B.length;return{x:B[U-1],y:y[U-1]}}for($=1/0,m=0;m<32&&!(ht<1e-4);m++){var Z=W-ht,tt=W+ht,P=(M=[O.apply(null,B.concat([Z])),O.apply(null,y.concat([Z]))],St(gt[0],gt[1],M[0],M[1]));if(Z>=0&&P<$)W=Z,$=P;else{var it=[O.apply(null,B.concat([tt])),O.apply(null,y.concat([tt]))],pt=St(gt[0],gt[1],it[0],it[1]);tt<=1&&pt<$?(W=tt,$=pt):ht*=.5}}return{x:O.apply(null,B.concat([W])),y:O.apply(null,y.concat([W]))}}function Ft(B,y,b,T){var O=1-T;return O*O*B+2*T*O*y+T*T*b}function xt(B,y,b){var T=B+b-2*y;if(It(T,0))return[.5];var O=(B-y)/T;return O<=1&&O>=0?[O]:[]}function dt(B,y,b,T){return 2*(1-T)*(y-B)+2*T*(b-y)}function Et(B,y,b,T,O,X,W){var $=Ft(B,b,O,W),gt=Ft(y,T,X,W),Rt=zt.pointAt(B,y,b,T,W),Kt=zt.pointAt(b,T,O,X,W);return[[B,y,Rt.x,Rt.y,$,gt],[$,gt,Kt.x,Kt.y,O,X]]}function Ht(B,y,b,T,O,X,W){if(0===W)return(St(B,y,b,T)+St(b,T,O,X)+St(B,y,O,X))/2;var $=Et(B,y,b,T,O,X,.5),gt=$[0],Rt=$[1];return gt.push(W-1),Rt.push(W-1),Ht.apply(null,gt)+Ht.apply(null,Rt)}const At={box:function(B,y,b,T,O,X){var W=xt(B,b,O)[0],$=xt(y,T,X)[0],gt=[B,O],Rt=[y,X];return void 0!==W&&gt.push(Ft(B,b,O,W)),void 0!==$&&Rt.push(Ft(y,T,X,$)),yt(gt,Rt)},length:function(B,y,b,T,O,X){return Ht(B,y,b,T,O,X,3)},nearestPoint:function(B,y,b,T,O,X,W,$){return Wt([B,b,O],[y,T,X],W,$,Ft)},pointDistance:function(B,y,b,T,O,X,W,$){var gt=this.nearestPoint(B,y,b,T,O,X,W,$);return St(gt.x,gt.y,W,$)},interpolationAt:Ft,pointAt:function(B,y,b,T,O,X,W){return{x:Ft(B,b,O,W),y:Ft(y,T,X,W)}},divide:function(B,y,b,T,O,X,W){return Et(B,y,b,T,O,X,W)},tangentAngle:function(B,y,b,T,O,X,W){var $=dt(B,b,O,W),gt=dt(y,T,X,W);return ft(Math.atan2(gt,$))}};function J(B,y,b,T,O){var X=1-O;return X*X*X*B+3*y*O*X*X+3*b*O*O*X+T*O*O*O}function p(B,y,b,T,O){var X=1-O;return 3*(X*X*(y-B)+2*X*O*(b-y)+O*O*(T-b))}function j(B,y,b,T){var gt,Rt,Kt,O=-3*B+9*y-9*b+3*T,X=6*B-12*y+6*b,W=3*y-3*B,$=[];if(It(O,0))It(X,0)||(gt=-W/X)>=0&&gt<=1&&$.push(gt);else{var ht=X*X-4*O*W;It(ht,0)?$.push(-X/(2*O)):ht>0&&(Rt=(-X-(Kt=Math.sqrt(ht)))/(2*O),(gt=(-X+Kt)/(2*O))>=0&&gt<=1&&$.push(gt),Rt>=0&&Rt<=1&&$.push(Rt))}return $}function at(B,y,b,T,O,X,W,$,gt){var Rt=J(B,b,O,W,gt),Kt=J(y,T,X,$,gt),ht=zt.pointAt(B,y,b,T,gt),m=zt.pointAt(b,T,O,X,gt),H=zt.pointAt(O,X,W,$,gt),M=zt.pointAt(ht.x,ht.y,m.x,m.y,gt),P=zt.pointAt(m.x,m.y,H.x,H.y,gt);return[[B,y,ht.x,ht.y,M.x,M.y,Rt,Kt],[Rt,Kt,P.x,P.y,H.x,H.y,W,$]]}function st(B,y,b,T,O,X,W,$,gt){if(0===gt)return function(B,y){for(var b=0,T=B.length,O=0;O<T;O++)b+=St(B[O],y[O],B[(O+1)%T],y[(O+1)%T]);return b/2}([B,b,O,W],[y,T,X,$]);var Rt=at(B,y,b,T,O,X,W,$,.5),Kt=Rt[0],ht=Rt[1];return Kt.push(gt-1),ht.push(gt-1),st.apply(null,Kt)+st.apply(null,ht)}const Ot={extrema:j,box:function(B,y,b,T,O,X,W,$){for(var gt=[B,W],Rt=[y,$],Kt=j(B,b,O,W),ht=j(y,T,X,$),m=0;m<Kt.length;m++)gt.push(J(B,b,O,W,Kt[m]));for(m=0;m<ht.length;m++)Rt.push(J(y,T,X,$,ht[m]));return yt(gt,Rt)},length:function(B,y,b,T,O,X,W,$){return st(B,y,b,T,O,X,W,$,3)},nearestPoint:function(B,y,b,T,O,X,W,$,gt,Rt,Kt){return Wt([B,b,O,W],[y,T,X,$],gt,Rt,J,Kt)},pointDistance:function(B,y,b,T,O,X,W,$,gt,Rt,Kt){var ht=this.nearestPoint(B,y,b,T,O,X,W,$,gt,Rt,Kt);return St(ht.x,ht.y,gt,Rt)},interpolationAt:J,pointAt:function(B,y,b,T,O,X,W,$,gt){return{x:J(B,b,O,W,gt),y:J(y,T,X,$,gt)}},divide:function(B,y,b,T,O,X,W,$,gt){return at(B,y,b,T,O,X,W,$,gt)},tangentAngle:function(B,y,b,T,O,X,W,$,gt){var Rt=p(B,b,O,W,gt),Kt=p(y,T,X,$,gt);return ft(Math.atan2(Kt,Rt))}};function te(B,y){var b=Math.abs(B);return y>0?b:-1*b}function Ct(B,y,b,T,O,X){return b*Math.cos(O)*Math.cos(X)-T*Math.sin(O)*Math.sin(X)+B}function C(B,y,b,T,O,X){return b*Math.sin(O)*Math.cos(X)+T*Math.cos(O)*Math.sin(X)+y}function G(B,y,b){return{x:B*Math.cos(b),y:y*Math.sin(b)}}function z(B,y,b){var T=Math.cos(b),O=Math.sin(b);return[B*T-y*O,B*O+y*T]}const Q={box:function(B,y,b,T,O,X,W){for(var $=function(B,y,b){return Math.atan(-y/B*Math.tan(b))}(b,T,O),gt=1/0,Rt=-1/0,Kt=[X,W],ht=2*-Math.PI;ht<=2*Math.PI;ht+=Math.PI){var m=$+ht;X<W?X<m&&m<W&&Kt.push(m):W<m&&m<X&&Kt.push(m)}for(ht=0;ht<Kt.length;ht++){var H=Ct(B,0,b,T,O,Kt[ht]);H<gt&&(gt=H),H>Rt&&(Rt=H)}var M=function(B,y,b){return Math.atan(y/(B*Math.tan(b)))}(b,T,O),P=1/0,U=-1/0,Z=[X,W];for(ht=2*-Math.PI;ht<=2*Math.PI;ht+=Math.PI){var tt=M+ht;X<W?X<tt&&tt<W&&Z.push(tt):W<tt&&tt<X&&Z.push(tt)}for(ht=0;ht<Z.length;ht++){var it=C(0,y,b,T,O,Z[ht]);it<P&&(P=it),it>U&&(U=it)}return{x:gt,y:P,width:Rt-gt,height:U-P}},length:function(B,y,b,T,O,X,W){},nearestPoint:function(B,y,b,T,O,X,W,$,gt){var Rt=z($-B,gt-y,-O),m=function(B,y,b,T,O,X){var W=b,$=T;if(0===W||0===$)return{x:B,y};for(var P,U,gt=O-B,Rt=X-y,Kt=Math.abs(gt),ht=Math.abs(Rt),m=W*W,H=$*$,M=Math.PI/4,Z=0;Z<4;Z++){P=W*Math.cos(M),U=$*Math.sin(M);var tt=(m-H)*Math.pow(Math.cos(M),3)/W,it=(H-m)*Math.pow(Math.sin(M),3)/$,pt=P-tt,Mt=U-it,ut=Kt-tt,Yt=ht-it,Lt=Math.hypot(Mt,pt),Zt=Math.hypot(Yt,ut);M+=Lt*Math.asin((pt*Yt-Mt*ut)/(Lt*Zt))/Math.sqrt(m+H-P*P-U*U),M=Math.min(Math.PI/2,Math.max(0,M))}return{x:B+te(P,gt),y:y+te(U,Rt)}}(0,0,b,T,Rt[0],Rt[1]),H=function(B,y,b,T){return(Math.atan2(T*B,b*y)+2*Math.PI)%(2*Math.PI)}(b,T,m.x,m.y);H<X?m=G(b,T,X):H>W&&(m=G(b,T,W));var M=z(m.x,m.y,O);return{x:M[0]+B,y:M[1]+y}},pointDistance:function(B,y,b,T,O,X,W,$,gt){var Rt=this.nearestPoint(B,y,b,T,$,gt);return St(Rt.x,Rt.y,$,gt)},pointAt:function(B,y,b,T,O,X,W,$){var gt=(W-X)*$+X;return{x:Ct(B,0,b,T,O,gt),y:C(0,y,b,T,O,gt)}},tangentAngle:function(B,y,b,T,O,X,W,$){var gt=(W-X)*$+X,Rt=function(B,y,b,T,O,X,W,$){return-1*b*Math.cos(O)*Math.sin($)-T*Math.sin(O)*Math.cos($)}(0,0,b,T,O,0,0,gt),Kt=function(B,y,b,T,O,X,W,$){return-1*b*Math.sin(O)*Math.sin($)+T*Math.cos(O)*Math.cos($)}(0,0,b,T,O,0,0,gt);return ft(Math.atan2(Kt,Rt))}};function Bt(B){for(var y=0,b=[],T=0;T<B.length-1;T++){var O=B[T],X=B[T+1],W=St(O[0],O[1],X[0],X[1]);b.push({from:O,to:X,length:W}),y+=W}return{segments:b,totalLength:y}}const rt={box:function(B){for(var y=[],b=[],T=0;T<B.length;T++){var O=B[T];y.push(O[0]),b.push(O[1])}return yt(y,b)},length:function(B){return function(B){if(B.length<2)return 0;for(var y=0,b=0;b<B.length-1;b++){var T=B[b],O=B[b+1];y+=St(T[0],T[1],O[0],O[1])}return y}(B)},pointAt:function(B,y){return function(B,y){if(y>1||y<0||B.length<2)return null;var b=Bt(B),T=b.segments,O=b.totalLength;if(0===O)return{x:B[0][0],y:B[0][1]};for(var X=0,W=null,$=0;$<T.length;$++){var gt=T[$],Rt=gt.from,Kt=gt.to,ht=gt.length/O;if(y>=X&&y<=X+ht){W=zt.pointAt(Rt[0],Rt[1],Kt[0],Kt[1],(y-X)/ht);break}X+=ht}return W}(B,y)},pointDistance:function(B,y,b){return function(B,y,b){for(var T=1/0,O=0;O<B.length-1;O++){var X=B[O],W=B[O+1],$=zt.pointDistance(X[0],X[1],W[0],W[1],y,b);$<T&&(T=$)}return T}(B,y,b)},tangentAngle:function(B,y){return function(B,y){if(y>1||y<0||B.length<2)return 0;for(var b=Bt(B),T=b.segments,O=b.totalLength,X=0,W=0,$=0;$<T.length;$++){var gt=T[$],Rt=gt.from,Kt=gt.to,ht=gt.length/O;if(y>=X&&y<=X+ht){W=Math.atan2(Kt[1]-Rt[1],Kt[0]-Rt[0]);break}X+=ht}return W}(B,y)}}},3882:(Le,se,K)=>{"use strict";K.d(se,{m$:()=>ee,zu:()=>St,lh:()=>It,vs:()=>Tt,Dg:()=>Nt});var Vt=K(7543),_t=K(8235);function ee(kt,Wt,jt){var Ft=[0,0,0,0,0,0,0,0,0];return Vt.vc(Ft,jt),Vt.Jp(kt,Ft,Wt)}function St(kt,Wt,jt){var Ft=[0,0,0,0,0,0,0,0,0];return Vt.Us(Ft,jt),Vt.Jp(kt,Ft,Wt)}function It(kt,Wt,jt){var Ft=[0,0,0,0,0,0,0,0,0];return Vt.xJ(Ft,jt),Vt.Jp(kt,Ft,Wt)}function yt(kt,Wt,jt){return Vt.Jp(kt,jt,Wt)}function Tt(kt,Wt){for(var jt=kt?[].concat(kt):[1,0,0,0,1,0,0,0,1],Ft=0,xt=Wt.length;Ft<xt;Ft++){var dt=Wt[Ft];switch(dt[0]){case"t":ee(jt,jt,[dt[1],dt[2]]);break;case"s":It(jt,jt,[dt[1],dt[2]]);break;case"r":St(jt,jt,dt[1]);break;case"m":yt(jt,jt,dt[1])}}return jt}function Nt(kt,Wt,jt){var Ft=_t.EU(kt,Wt),xt=function(kt,Wt){return kt[0]*Wt[1]-Wt[0]*kt[1]}(kt,Wt)>=0;return jt?xt?2*Math.PI-Ft:Ft:xt?Ft:2*Math.PI-Ft}},2759:(Le,se,K)=>{"use strict";K.d(se,{e9:()=>Nt,Wq:()=>H,tr:()=>dt,wb:()=>At,zx:()=>b});var Vt=K(7524),_t=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,ee=/[^\s\,]+/gi;var yt=K(8235);const Nt=function(M,P,U){void 0===P&&(P=!1),void 0===U&&(U=[[0,0],[1,1]]);for(var Z=!!P,tt=[],it=0,pt=M.length;it<pt;it+=2)tt.push([M[it],M[it+1]]);var Lt,Zt,ie,Mt=function(M,P,U,Z){var pt,Mt,ut,Yt,Lt,Zt,ie,tt=[],it=!!Z;if(it){ut=Z[0],Yt=Z[1];for(var Qt=0,ne=M.length;Qt<ne;Qt+=1)ut=yt.VV([0,0],ut,re=M[Qt]),Yt=yt.Fp([0,0],Yt,re)}Qt=0;for(var ae=M.length;Qt<ae;Qt+=1){var re=M[Qt];if(0!==Qt||U)if(Qt!==ae-1||U){var ue=[0,0];ue=yt.lu(ue,Mt=M[U?(Qt+1)%ae:Qt+1],pt=M[[Qt?Qt-1:ae-1,Qt-1][U?0:1]]),ue=yt.bA(ue,ue,.4);var ve=yt.TE(re,pt),he=yt.TE(re,Mt),fe=ve+he;0!==fe&&(ve/=fe,he/=fe);var c=yt.bA([0,0],ue,-ve),le=yt.bA([0,0],ue,he);Zt=yt.IH([0,0],re,c),Lt=yt.IH([0,0],re,le),Lt=yt.VV([0,0],Lt,yt.Fp([0,0],Mt,re)),Lt=yt.Fp([0,0],Lt,yt.VV([0,0],Mt,re)),c=yt.lu([0,0],Lt,re),c=yt.bA([0,0],c,-ve/he),Zt=yt.IH([0,0],re,c),Zt=yt.VV([0,0],Zt,yt.Fp([0,0],pt,re)),Zt=yt.Fp([0,0],Zt,yt.VV([0,0],pt,re)),le=yt.lu([0,0],re,Zt),le=yt.bA([0,0],le,he/ve),Lt=yt.IH([0,0],re,le),it&&(Zt=yt.Fp([0,0],Zt,ut),Zt=yt.VV([0,0],Zt,Yt),Lt=yt.Fp([0,0],Lt,ut),Lt=yt.VV([0,0],Lt,Yt)),tt.push(ie),tt.push(Zt),ie=Lt}else Zt=re,tt.push(ie),tt.push(Zt);else ie=re}return U&&tt.push(tt.shift()),tt}(tt,0,Z,U),ut=tt.length,Yt=[];for(it=0;it<ut-1;it+=1)Yt.push(["C",(Lt=Mt[2*it])[0],Lt[1],(Zt=Mt[2*it+1])[0],Zt[1],(ie=tt[it+1])[0],ie[1]]);return Z&&Yt.push(["C",(Lt=Mt[ut])[0],Lt[1],(Zt=Mt[ut+1])[0],Zt[1],(ie=tt[0])[0],ie[1]]),Yt};var jt="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",Ft=new RegExp("([a-z])["+jt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+jt+"]*,?["+jt+"]*)+)","ig"),xt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+jt+"]*,?["+jt+"]*","ig");function dt(M){if(!M)return null;if((0,Vt.kJ)(M))return M;var P={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},U=[];return String(M).replace(Ft,function(Z,tt,it){var pt=[],Mt=tt.toLowerCase();if(it.replace(xt,function(ut,Yt){Yt&&pt.push(+Yt)}),"m"===Mt&&pt.length>2&&(U.push([tt].concat(pt.splice(0,2))),Mt="l",tt="m"===tt?"l":"L"),"o"===Mt&&1===pt.length&&U.push([tt,pt[0]]),"r"===Mt)U.push([tt].concat(pt));else for(;pt.length>=P[Mt]&&(U.push([tt].concat(pt.splice(0,P[Mt]))),P[Mt]););return""}),U}var Et=/[a-z]/;function Ht(M,P){return[P[0]+(P[0]-M[0]),P[1]+(P[1]-M[1])]}function At(M){var P=dt(M);if(!P||!P.length)return[["M",0,0]];for(var U=!1,Z=0;Z<P.length;Z++)if(Et.test(tt=P[Z][0])||["V","H","T","S"].indexOf(tt)>=0){U=!0;break}if(!U)return P;var it=[],pt=0,Mt=0,ut=0,Yt=0,Lt=0,Qt=P[0];("M"===Qt[0]||"m"===Qt[0])&&(ut=pt=+Qt[1],Yt=Mt=+Qt[2],Lt++,it[0]=["M",pt,Mt]),Z=Lt;for(var ne=P.length;Z<ne;Z++){var tt,re=P[Z],ae=it[Z-1],$t=[],ue=(tt=re[0]).toUpperCase();if(tt!==ue)switch($t[0]=ue,ue){case"A":$t[1]=re[1],$t[2]=re[2],$t[3]=re[3],$t[4]=re[4],$t[5]=re[5],$t[6]=+re[6]+pt,$t[7]=+re[7]+Mt;break;case"V":$t[1]=+re[1]+Mt;break;case"H":$t[1]=+re[1]+pt;break;case"M":Yt=+re[2]+Mt,$t[1]=ut=+re[1]+pt,$t[2]=Yt;break;default:for(var ve=1,he=re.length;ve<he;ve++)$t[ve]=+re[ve]+(ve%2?pt:Mt)}else $t=P[Z];switch(ue){case"Z":pt=+ut,Mt=+Yt;break;case"H":$t=["L",pt=$t[1],Mt];break;case"V":$t=["L",pt,Mt=$t[1]];break;case"T":pt=$t[1],Mt=$t[2];var fe=Ht([ae[1],ae[2]],[ae[3],ae[4]]);$t=["Q",fe[0],fe[1],pt,Mt];break;case"S":pt=$t[$t.length-2],Mt=$t[$t.length-1];var c=ae.length,le=Ht([ae[c-4],ae[c-3]],[ae[c-2],ae[c-1]]);$t=["C",le[0],le[1],$t[1],$t[2],pt,Mt];break;case"M":ut=$t[$t.length-2],Yt=$t[$t.length-1];break;default:pt=$t[$t.length-2],Mt=$t[$t.length-1]}it.push($t)}return it}function F(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function rt(M,P){return F(M)*F(P)?(M[0]*P[0]+M[1]*P[1])/(F(M)*F(P)):1}function ot(M,P){return(M[0]*P[1]<M[1]*P[0]?-1:1)*Math.acos(rt(M,P))}function wt(M,P){return M[0]===P[0]&&M[1]===P[1]}function B(M,P){var U=P[1],Z=P[2],tt=(0,Vt.wQ)((0,Vt.c$)(P[3]),2*Math.PI),it=P[4],pt=P[5],Mt=M[0],ut=M[1],Yt=P[6],Lt=P[7],Zt=Math.cos(tt)*(Mt-Yt)/2+Math.sin(tt)*(ut-Lt)/2,ie=-1*Math.sin(tt)*(Mt-Yt)/2+Math.cos(tt)*(ut-Lt)/2,Qt=Zt*Zt/(U*U)+ie*ie/(Z*Z);Qt>1&&(U*=Math.sqrt(Qt),Z*=Math.sqrt(Qt));var ne=U*U*(ie*ie)+Z*Z*(Zt*Zt),re=ne?Math.sqrt((U*U*(Z*Z)-ne)/ne):1;it===pt&&(re*=-1),isNaN(re)&&(re=0);var ae=Z?re*U*ie/Z:0,$t=U?re*-Z*Zt/U:0,ue=(Mt+Yt)/2+Math.cos(tt)*ae-Math.sin(tt)*$t,ve=(ut+Lt)/2+Math.sin(tt)*ae+Math.cos(tt)*$t,he=[(Zt-ae)/U,(ie-$t)/Z],fe=[(-1*Zt-ae)/U,(-1*ie-$t)/Z],c=ot([1,0],he),le=ot(he,fe);return rt(he,fe)<=-1&&(le=Math.PI),rt(he,fe)>=1&&(le=0),0===pt&&le>0&&(le-=2*Math.PI),1===pt&&le<0&&(le+=2*Math.PI),{cx:ue,cy:ve,rx:wt(M,[Yt,Lt])?0:U,ry:wt(M,[Yt,Lt])?0:Z,startAngle:c,endAngle:c+le,xRotation:tt,arcFlag:it,sweepFlag:pt}}function y(M,P){return[P[0]+(P[0]-M[0]),P[1]+(P[1]-M[1])]}function b(M){for(var P=[],U=null,Z=null,tt=null,it=0,pt=(M=function(M){var P=M||[];return(0,Vt.kJ)(P)?P:(0,Vt.HD)(P)?(P=P.match(_t),(0,Vt.S6)(P,function(U,Z){if((U=U.match(ee))[0].length>1){var tt=U[0].charAt(0);U.splice(1,0,U[0].substr(1)),U[0]=tt}(0,Vt.S6)(U,function(it,pt){isNaN(it)||(U[pt]=+it)}),P[Z]=U}),P):void 0}(M)).length,Mt=0;Mt<pt;Mt++){var ut=M[Mt];Z=M[Mt+1];var Yt=ut[0],Lt={command:Yt,prePoint:U,params:ut,startTangent:null,endTangent:null};switch(Yt){case"M":tt=[ut[1],ut[2]],it=Mt;break;case"A":var Zt=B(U,ut);Lt.arcParams=Zt}if("Z"===Yt)U=tt,Z=M[it+1];else{var ie=ut.length;U=[ut[ie-2],ut[ie-1]]}Z&&"Z"===Z[0]&&(Z=M[it],P[it]&&(P[it].prePoint=U)),Lt.currentPoint=U,P[it]&&wt(U,P[it].currentPoint)&&(P[it].prePoint=Lt.prePoint),Lt.nextPoint=Z?[Z[Z.length-2],Z[Z.length-1]]:null;var ne=Lt.prePoint;if(["L","H","V"].includes(Yt))Lt.startTangent=[ne[0]-U[0],ne[1]-U[1]],Lt.endTangent=[U[0]-ne[0],U[1]-ne[1]];else if("Q"===Yt)Lt.startTangent=[ne[0]-(re=[ut[1],ut[2]])[0],ne[1]-re[1]],Lt.endTangent=[U[0]-re[0],U[1]-re[1]];else if("T"===Yt){var re=y((ae=P[Mt-1]).currentPoint,ne);"Q"===ae.command?(Lt.command="Q",Lt.startTangent=[ne[0]-re[0],ne[1]-re[1]],Lt.endTangent=[U[0]-re[0],U[1]-re[1]]):(Lt.command="TL",Lt.startTangent=[ne[0]-U[0],ne[1]-U[1]],Lt.endTangent=[U[0]-ne[0],U[1]-ne[1]])}else if("C"===Yt){var ue=[ut[3],ut[4]];Lt.startTangent=[ne[0]-($t=[ut[1],ut[2]])[0],ne[1]-$t[1]],Lt.endTangent=[U[0]-ue[0],U[1]-ue[1]],0===Lt.startTangent[0]&&0===Lt.startTangent[1]&&(Lt.startTangent=[$t[0]-ue[0],$t[1]-ue[1]]),0===Lt.endTangent[0]&&0===Lt.endTangent[1]&&(Lt.endTangent=[ue[0]-$t[0],ue[1]-$t[1]])}else if("S"===Yt){var ae,$t=y((ae=P[Mt-1]).currentPoint,ne);ue=[ut[1],ut[2]],"C"===ae.command?(Lt.command="C",Lt.startTangent=[ne[0]-$t[0],ne[1]-$t[1]],Lt.endTangent=[U[0]-ue[0],U[1]-ue[1]]):(Lt.command="SQ",Lt.startTangent=[ne[0]-ue[0],ne[1]-ue[1]],Lt.endTangent=[U[0]-ue[0],U[1]-ue[1]])}else if("A"===Yt){var ve=.001,he=Lt.arcParams||{},fe=he.cx,c=void 0===fe?0:fe,le=he.cy,Dt=void 0===le?0:le,Ee=he.rx,He=void 0===Ee?0:Ee,be=he.ry,Ke=void 0===be?0:be,Ue=he.sweepFlag,or=he.startAngle,we=void 0===or?0:or,Hr=he.endAngle,kr=void 0===Hr?0:Hr;0===(void 0===Ue?0:Ue)&&(ve*=-1);var on=He*Math.cos(we-ve)+c,sn=Ke*Math.sin(we-ve)+Dt;Lt.startTangent=[on-tt[0],sn-tt[1]];var Wi=He*Math.cos(we+kr+ve)+c,An=Ke*Math.sin(we+kr-ve)+Dt;Lt.endTangent=[ne[0]-Wi,ne[1]-An]}P.push(Lt)}return P}function O(M){return Math.abs(M)<1e-6?0:M<0?-1:1}function X(M,P,U){return(U[0]-M[0])*(P[1]-M[1])==(P[0]-M[0])*(U[1]-M[1])&&Math.min(M[0],P[0])<=U[0]&&U[0]<=Math.max(M[0],P[0])&&Math.min(M[1],P[1])<=U[1]&&U[1]<=Math.max(M[1],P[1])}function W(M,P,U){var Z=!1,tt=M.length;if(tt<=2)return!1;for(var it=0;it<tt;it++){var pt=M[it],Mt=M[(it+1)%tt];if(X(pt,Mt,[P,U]))return!0;O(pt[1]-U)>0!=O(Mt[1]-U)>0&&O(P-(U-pt[1])*(pt[0]-Mt[0])/(pt[1]-Mt[1])-pt[0])<0&&(Z=!Z)}return Z}Math;var $=function(M,P,U){return M>=P&&M<=U};function Rt(M){for(var P=[],U=M.length,Z=0;Z<U-1;Z++){var tt=M[Z],it=M[Z+1];P.push({from:{x:tt[0],y:tt[1]},to:{x:it[0],y:it[1]}})}if(P.length>1){var pt=M[0],Mt=M[U-1];P.push({from:{x:Mt[0],y:Mt[1]},to:{x:pt[0],y:pt[1]}})}return P}function ht(M){var P=M.map(function(Z){return Z[0]}),U=M.map(function(Z){return Z[1]});return{minX:Math.min.apply(null,P),maxX:Math.max.apply(null,P),minY:Math.min.apply(null,U),maxY:Math.max.apply(null,U)}}function H(M,P){if(M.length<2||P.length<2)return!1;if(!function(M,P){return!(P.minX>M.maxX||P.maxX<M.minX||P.minY>M.maxY||P.maxY<M.minY)}(ht(M),ht(P)))return!1;var tt=!1;if((0,Vt.S6)(P,function(ut){if(W(M,ut[0],ut[1]))return tt=!0,!1}),tt||((0,Vt.S6)(M,function(ut){if(W(P,ut[0],ut[1]))return tt=!0,!1}),tt))return!0;var it=Rt(M),pt=Rt(P),Mt=!1;return(0,Vt.S6)(pt,function(ut){if(function(M,P){var U=!1;return(0,Vt.S6)(M,function(Z){if(function(M,P,U,Z){var it_x=U.x-M.x,it_y=U.y-M.y,pt_x=P.x-M.x,pt_y=P.y-M.y,Mt_x=Z.x-U.x,Mt_y=Z.y-U.y,ut=pt_x*Mt_y-pt_y*Mt_x,ie=null;if(ut*ut>.001*(pt_x*pt_x+pt_y*pt_y)*(Mt_x*Mt_x+Mt_y*Mt_y)){var Qt=(it_x*Mt_y-it_y*Mt_x)/ut,ne=(it_x*pt_y-it_y*pt_x)/ut;$(Qt,0,1)&&$(ne,0,1)&&(ie={x:M.x+Qt*pt_x,y:M.y+Qt*pt_y})}return ie}(Z.from,Z.to,P.from,P.to))return U=!0,!1}),U}(it,ut))return Mt=!0,!1}),Mt}},7524:(Le,se,K)=>{"use strict";K.d(se,{Ct:()=>Xo,f0:()=>ai,uZ:()=>$t,VS:()=>Ul,d9:()=>Po,FX:()=>St,Ds:()=>Bo,b$:()=>Do,e5:()=>ft,S6:()=>Ht,yW:()=>Z,hX:()=>yt,sE:()=>lt,Wx:()=>mt,ri:()=>ve,xH:()=>Ct,U2:()=>Ro,Lo:()=>No,rx:()=>Bt,ru:()=>Lt,vM:()=>ut,Ms:()=>Yt,wH:()=>So,YM:()=>Kt,q9:()=>St,cq:()=>un,kJ:()=>xt,jn:()=>Pl,J_:()=>Bl,kK:()=>Gl,xb:()=>aa,Xy:()=>Xl,mf:()=>Wt,UM:()=>Ft,Ft:()=>Dl,hj:()=>fe,vQ:()=>or,Kn:()=>dt,PO:()=>te,HD:()=>X,o8:()=>Rl,XP:()=>J,Z$:()=>ht,vl:()=>Ao,UI:()=>zl,Q8:()=>Wl,Fp:()=>G,HP:()=>na,VV:()=>z,CD:()=>ai,wQ:()=>ln,ZT:()=>Kl,ei:()=>_n,u4:()=>b,Od:()=>O,U7:()=>Hl,t8:()=>jl,dp:()=>tu,G:()=>it,ng:()=>Eo,P2:()=>Jl,qo:()=>Ql,c$:()=>Co,BB:()=>Ne,jj:()=>gt,EL:()=>$l,jC:()=>Tn,VO:()=>Ji,I:()=>Rt});const _t=function(w){return null!==w&&"function"!=typeof w&&isFinite(w.length)},St=function(w,L){return!!_t(w)&&w.indexOf(L)>-1},yt=function(w,L){if(!_t(w))return w;for(var Y=[],V=0;V<w.length;V++){var et=w[V];L(et,V)&&Y.push(et)}return Y},ft=function(w,L){return void 0===L&&(L=[]),yt(w,function(Y){return!St(L,Y)})};var Nt={}.toString;const kt=function(w,L){return Nt.call(w)==="[object "+L+"]"},Wt=function(w){return kt(w,"Function")},Ft=function(w){return null==w},xt=function(w){return Array.isArray?Array.isArray(w):kt(w,"Array")},dt=function(w){var L=typeof w;return null!==w&&"object"===L||"function"===L},Ht=function(w,L){if(w)if(xt(w))for(var V=0,et=w.length;V<et&&!1!==L(w[V],V);V++);else if(dt(w))for(var ct in w)if(w.hasOwnProperty(ct)&&!1===L(w[ct],ct))break},J=Object.keys?function(w){return Object.keys(w)}:function(w){var L=[];return Ht(w,function(Y,V){Wt(w)&&"prototype"===V||L.push(V)}),L},st=function(w){return"object"==typeof w&&null!==w},te=function(w){if(!st(w)||!kt(w,"Object"))return!1;if(null===Object.getPrototypeOf(w))return!0;for(var L=w;null!==Object.getPrototypeOf(L);)L=Object.getPrototypeOf(L);return Object.getPrototypeOf(w)===L},lt=function(w,L){if(!xt(w))return null;var Y;if(Wt(L)&&(Y=L),te(L)&&(Y=function(et){return function(w,L){var Y=J(L),V=Y.length;if(Ft(w))return!V;for(var et=0;et<V;et+=1){var ct=Y[et];if(L[ct]!==w[ct]||!(ct in w))return!1}return!0}(et,L)}),Y)for(var V=0;V<w.length;V+=1)if(Y(w[V]))return w[V];return null},mt=function(w,L){for(var Y=null,V=0;V<w.length;V++){var ct=w[V][L];if(!Ft(ct)){Y=xt(ct)?ct[0]:ct;break}}return Y},Ct=function(w){if(!xt(w))return[];for(var L=[],Y=0;Y<w.length;Y++)L=L.concat(w[Y]);return L},G=function(w){if(xt(w))return w.reduce(function(L,Y){return Math.max(L,Y)},w[0])},z=function(w){if(xt(w))return w.reduce(function(L,Y){return Math.min(L,Y)},w[0])},Bt=function(w){var L=w.filter(function(qt){return!isNaN(qt)});if(!L.length)return{min:0,max:0};if(xt(w[0])){for(var Y=[],V=0;V<w.length;V++)Y=Y.concat(w[V]);L=Y}var et=G(L);return{min:z(L),max:et}};var ot=Array.prototype.splice;const b=function(w,L,Y){if(!xt(w)&&!te(w))return w;var V=Y;return Ht(w,function(et,ct){V=L(V,et,ct)}),V},O=function(w,L){var Y=[];if(!_t(w))return Y;for(var V=-1,et=[],ct=w.length;++V<ct;){var qt=w[V];L(qt,V,w)&&(Y.push(qt),et.push(V))}return function(L,Y){if(!_t(L))return[];for(var V=L?Y.length:0,et=V-1;V--;){var ct=void 0,qt=Y[V];(V===et||qt!==ct)&&(ct=qt,ot.call(L,qt,1))}}(w,et),Y},X=function(w){return kt(w,"String")};function gt(w,L){void 0===L&&(L=new Map);var Y=[];if(Array.isArray(w))for(var V=0,et=w.length;V<et;V++){var ct=w[V];L.has(ct)||(Y.push(ct),L.set(ct,!0))}return Y}const Rt=function(w,L){for(var Y=[],V={},et=0;et<w.length;et++){var qt=w[et][L];if(!Ft(qt)){xt(qt)||(qt=[qt]);for(var ce=0;ce<qt.length;ce++){var De=qt[ce];V[De]||(Y.push(De),V[De]=!0)}}}return Y};function Kt(w){if(_t(w))return w[0]}function ht(w){if(_t(w))return w[w.length-1]}const Z=function(w,L){for(var Y=0;Y<w.length;Y++)if(!L(w[Y],Y))return!1;return!0},it=function(w,L){for(var Y=0;Y<w.length;Y++)if(L(w[Y],Y))return!0;return!1};var pt=Object.prototype.hasOwnProperty;const ut=function(w,L){if(!L||!xt(w))return{};for(var et,Y={},V=Wt(L)?L:function(ce){return ce[L]},ct=0;ct<w.length;ct++){var qt=w[ct];et=V(qt),pt.call(Y,et)?Y[et].push(qt):Y[et]=[qt]}return Y};function Yt(w,L){if(!L)return{0:w};if(!Wt(L)){var Y=xt(L)?L:L.replace(/\s+/g,"").split("*");L=function(V){for(var et="_",ct=0,qt=Y.length;ct<qt;ct++)et+=V[Y[ct]]&&V[Y[ct]].toString();return et}}return ut(w,L)}const Lt=function(w,L){if(!L)return[w];var Y=Yt(w,L),V=[];for(var et in Y)V.push(Y[et]);return V},$t=function(w,L,Y){return w<L?L:w>Y?Y:w},ve=function(w,L){var Y=L.toString(),V=Y.indexOf(".");if(-1===V)return Math.round(w);var et=Y.substr(V+1).length;return et>20&&(et=20),parseFloat(w.toFixed(et))},fe=function(w){return kt(w,"Number")};function or(w,L,Y){return void 0===Y&&(Y=1e-5),Math.abs(w-L)<Y}const ln=function(w,L){return(w%L+L)%L};Math,parseInt;var Sr=Math.PI/180;const Co=function(w){return Sr*w},So=function(w,L){return w.hasOwnProperty(L)},Ji=Object.values?function(w){return Object.values(w)}:function(w){var L=[];return Ht(w,function(Y,V){Wt(w)&&"prototype"===V||L.push(Y)}),L},Ne=function(w){return Ft(w)?"":w.toString()},Ao=function(w){return Ne(w).toLowerCase()},Eo=function(w,L){return w&&L?w.replace(/\\?\{([^{}]+)\}/g,function(Y,V){return"\\"===Y.charAt(0)?Y.slice(1):void 0===L[V]?"":L[V]}):w},Tn=function(w){var L=Ne(w);return L.charAt(0).toUpperCase()+L.substring(1)};var Ki={}.toString;const Pl=function(w){return kt(w,"Boolean")},Bl=function(w){return kt(w,"Date")},Dl=function(w){return null===w};var ra=Object.prototype;const Rl=function(w){return void 0===w},Gl=function(w){return w instanceof Element||w instanceof HTMLDocument};function Hl(w){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Y){return setTimeout(Y,16)})(w)}function Ul(w){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(w)}var ri=function(w){if("object"!=typeof w||null===w)return w;var L;if(xt(w)){L=[];for(var Y=0,V=w.length;Y<V;Y++)L[Y]="object"==typeof w[Y]&&null!=w[Y]?ri(w[Y]):w[Y]}else for(var et in L={},w)L[et]="object"==typeof w[et]&&null!=w[et]?ri(w[et]):w[et];return L};const Po=ri,Bo=function(w,L,Y){var V;return function(){var et=this,ct=arguments,qt=function(){V=null,Y||w.apply(et,ct)},ce=Y&&!V;clearTimeout(V),V=setTimeout(qt,L),ce&&w.apply(et,ct)}},na=function(w,L){if(!Wt(w))throw new TypeError("Expected a function");var Y=function(){for(var V=[],et=0;et<arguments.length;et++)V[et]=arguments[et];var ct=L?L.apply(this,V):V[0],qt=Y.cache;if(qt.has(ct))return qt.get(ct);var ce=w.apply(this,V);return qt.set(ct,ce),ce};return Y.cache=new Map,Y};function ia(w,L,Y,V){for(var et in Y=Y||0,V=V||5,L)if(L.hasOwnProperty(et)){var ct=L[et];null!==ct&&te(ct)?(te(w[et])||(w[et]={}),Y<V?ia(w[et],ct,Y+1,V):w[et]=L[et]):xt(ct)?(w[et]=[],w[et]=w[et].concat(ct)):void 0!==ct&&(w[et]=ct)}}const Do=function(w){for(var L=[],Y=1;Y<arguments.length;Y++)L[Y-1]=arguments[Y];for(var V=0;V<L.length;V+=1)ia(w,L[V]);return w},un=function(w,L){if(!_t(w))return-1;var Y=Array.prototype.indexOf;if(Y)return Y.call(w,L);for(var V=-1,et=0;et<w.length;et++)if(w[et]===L){V=et;break}return V};var ii=Object.prototype.hasOwnProperty;const aa=function(w){if(Ft(w))return!0;if(_t(w))return!w.length;var L=function(w){return Ki.call(w).replace(/^\[object /,"").replace(/]$/,"")}(w);if("Map"===L||"Set"===L)return!w.size;if(function(w){var L=w&&w.constructor;return w===("function"==typeof L&&L.prototype||ra)}(w))return!Object.keys(w).length;for(var Y in w)if(ii.call(w,Y))return!1;return!0};var oa=function(w,L){if(w===L)return!0;if(!w||!L||X(w)||X(L))return!1;if(_t(w)||_t(L)){if(w.length!==L.length)return!1;for(var Y=!0,V=0;V<w.length&&(Y=oa(w[V],L[V]));V++);return Y}if(st(w)||st(L)){var et=Object.keys(w),ct=Object.keys(L);if(et.length!==ct.length)return!1;for(Y=!0,V=0;V<et.length&&(Y=oa(w[et[V]],L[et[V]]));V++);return Y}return!1};const Xl=oa,zl=function(w,L){if(!_t(w))return w;for(var Y=[],V=0;V<w.length;V++)Y.push(L(w[V],V));return Y};var Zl=function(w){return w};const Wl=function(w,L){void 0===L&&(L=Zl);var Y={};return dt(w)&&!Ft(w)&&Object.keys(w).forEach(function(V){Y[V]=L(w[V],V)}),Y};function sa(w,L){for(var Y in L)L.hasOwnProperty(Y)&&"constructor"!==Y&&void 0!==L[Y]&&(w[Y]=L[Y])}function ai(w,L,Y,V){return L&&sa(w,L),Y&&sa(w,Y),V&&sa(w,V),w}const Ro=function(w,L,Y){for(var V=0,et=X(L)?L.split("."):L;w&&V<et.length;)w=w[et[V++]];return void 0===w||V<et.length?Y:w},jl=function(w,L,Y){var V=w,et=X(L)?L.split("."):L;return et.forEach(function(ct,qt){qt<et.length-1?(dt(V[ct])||(V[ct]=fe(et[qt+1])?[]:{}),V=V[ct]):V[ct]=Y}),w};var ql=Object.prototype.hasOwnProperty;const _n=function(w,L){if(null===w||!te(w))return{};var Y={};return Ht(L,function(V){ql.call(w,V)&&(Y[V]=w[V])}),Y},Jl=function(w,L,Y){var V,et,ct,qt,ce=0;Y||(Y={});var De=function(){ce=!1===Y.leading?0:Date.now(),V=null,qt=w.apply(et,ct),V||(et=ct=null)},pe=function(){var Pe=Date.now();!ce&&!1===Y.leading&&(ce=Pe);var mr=L-(Pe-ce);return et=this,ct=arguments,mr<=0||mr>L?(V&&(clearTimeout(V),V=null),ce=Pe,qt=w.apply(et,ct),V||(et=ct=null)):!V&&!1!==Y.trailing&&(V=setTimeout(De,mr)),qt};return pe.cancel=function(){clearTimeout(V),ce=0,V=et=ct=null},pe},Ql=function(w){return _t(w)?Array.prototype.slice.call(w):[]};var oi={};const $l=function(w){return oi[w=w||"g"]?oi[w]+=1:oi[w]=1,w+oi[w]},Kl=function(){};function tu(w){return Ft(w)?0:_t(w)?w.length:Object.keys(w).length}var Pn;const cn=na(function(w,L){void 0===L&&(L={});var Y=L.fontSize,V=L.fontFamily,et=L.fontWeight,ct=L.fontStyle,qt=L.fontVariant;return Pn||(Pn=document.createElement("canvas").getContext("2d")),Pn.font=[ct,qt,et,Y+"px",V].join(" "),Pn.measureText(X(w)?w:"").width},function(w,L){return void 0===L&&(L={}),function(){for(var w=0,L=0,Y=arguments.length;L<Y;L++)w+=arguments[L].length;var V=Array(w),et=0;for(L=0;L<Y;L++)for(var ct=arguments[L],qt=0,ce=ct.length;qt<ce;qt++,et++)V[et]=ct[qt];return V}([w],Ji(L)).join("")}),No=function(w,L,Y,V){void 0===V&&(V="...");var pe,Pe,ct=cn(V,Y),qt=X(w)?w:Ne(w),ce=L,De=[];if(cn(w,Y)<=L)return w;for(;pe=qt.substr(0,16),!((Pe=cn(pe,Y))+ct>ce&&Pe>ce);)if(De.push(pe),ce-=Pe,!(qt=qt.substr(16)))return De.join("");for(;pe=qt.substr(0,1),!((Pe=cn(pe,Y))+ct>ce);)if(De.push(pe),ce-=Pe,!(qt=qt.substr(1)))return De.join("");return""+De.join("")+V},Xo=function(){function w(){this.map={}}return w.prototype.has=function(L){return void 0!==this.map[L]},w.prototype.get=function(L,Y){var V=this.map[L];return void 0===V?Y:V},w.prototype.set=function(L,Y){this.map[L]=Y},w.prototype.clear=function(){this.map={}},w.prototype.delete=function(L){delete this.map[L]},w.prototype.size=function(){return Object.keys(this.map).length},w}()},9317:(Le,se,K)=>{"use strict";K.r(se),K.d(se,{ReportsModule:()=>NS});var Vt={};K.r(Vt),K.d(Vt,{assign:()=>Vr,default:()=>Bu,defaultI18n:()=>Vo,format:()=>Pu,parse:()=>Ou,setGlobalDateI18n:()=>Mu,setGlobalDateMasks:()=>Lu});var _t={};K.r(_t),K.d(_t,{Arc:()=>Hd,DataMarker:()=>Zd,DataRegion:()=>jd,Html:()=>a0,Image:()=>Vd,Line:()=>kd,Region:()=>Nd,RegionFilter:()=>Jd,Shape:()=>$d,Text:()=>Yd});var ee={};K.r(ee),K.d(ee,{ellipsisHead:()=>l0,ellipsisMiddle:()=>u0,ellipsisTail:()=>jh,getDefault:()=>s0});var St={};K.r(St),K.d(St,{equidistance:()=>Qh,equidistanceWithReverseBoth:()=>g0,getDefault:()=>c0,reserveBoth:()=>p0,reserveFirst:()=>f0,reserveLast:()=>v0});var It={};K.r(It),K.d(It,{fixedAngle:()=>Kh,getDefault:()=>y0,unfixedAngle:()=>m0});var yt={};K.r(yt),K.d(yt,{autoEllipsis:()=>ee,autoHide:()=>St,autoRotate:()=>It});var Tt={};K.r(Tt),K.d(Tt,{Base:()=>gs,Circle:()=>T0,Html:()=>L0,Line:()=>tc});var ft={};K.r(ft),K.d(ft,{CONTAINER_CLASS:()=>Fn,CROSSHAIR_X:()=>xs,CROSSHAIR_Y:()=>ws,LIST_CLASS:()=>Si,LIST_ITEM_CLASS:()=>Da,MARKER_CLASS:()=>Fa,NAME_CLASS:()=>ic,TITLE_CLASS:()=>kn,VALUE_CLASS:()=>ka});var Nt={};K.r(Nt),K.d(Nt,{Base:()=>Mr,Circle:()=>Tx,Ellipse:()=>_x,Image:()=>Px,Line:()=>Bx,Marker:()=>Fx,Path:()=>tl,Polygon:()=>Vx,Polyline:()=>Zx,Rect:()=>Jx,Text:()=>$x});var zt={};K.r(zt),K.d(zt,{Canvas:()=>e1,Group:()=>$s,Shape:()=>Nt,getArcParams:()=>$a,version:()=>r1});var kt={};K.r(kt),K.d(kt,{Base:()=>gr,Circle:()=>h1,Dom:()=>f1,Ellipse:()=>p1,Image:()=>d1,Line:()=>m1,Marker:()=>w1,Path:()=>M1,Polygon:()=>S1,Polyline:()=>T1,Rect:()=>O1,Text:()=>k1});var Wt={};K.r(Wt),K.d(Wt,{Canvas:()=>nw,Group:()=>nl,Shape:()=>kt,version:()=>iw});var jt=K(9808),Ft=K(7672),xt=K(3075),dt=K(9661),Et=K(6696),Ht=K(655),At=K(5439),J=K(6842),p=K(5e3),j=K(2340),at=K(520);let st=(()=>{class n{constructor(t){this.http=t}getGraphData(t){return this.http.post(`${j.N.apiUrl}/lead-analytic/graphData`,t)}getLeadStatusLineData(t=2021){return this.http.post(`${j.N.apiUrl}/lead-analytic/leadStatusLineData?year=${t}`,{})}getOpenClosedLeadCount(t){return this.http.post(`${j.N.apiUrl}/lead-analytic/openClosedLeadCount?${t}`,t)}campaignWiseLeadCount(t){return this.http.post(`${j.N.apiUrl}/lead-analytic/campaignWiseLeadCount`,t)}campaignWiseLeadCountPerCategory(t){return this.http.post(`${j.N.apiUrl}/lead-analytic/campaignWiseLeadCountPerCategory`,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(at.eN))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();var Ot=K(9247),te=K(3621),vt=K(942),lt=K(9224),bt=K(2638),mt=K(4594),Ut=K(5245),Ct=K(7322),C=K(4107),S=K(508),G=K(1004),z=K(7423),Q=K(8279);function Bt(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Email "),p.qZA())}function _(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.email," ")}}function k(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Total "),p.qZA())}function N(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.total," ")}}function F(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Answered "),p.qZA())}function rt(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.answered," ")}}function ot(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Not Answered "),p.qZA())}function wt(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.unAnswered," ")}}function B(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Total Calls "),p.qZA())}function y(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.unAnswered+t.answered," ")}}function b(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Total Talktime "),p.qZA())}function T(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.totalTalktime," ")}}function O(n,r){1&n&&(p.TgZ(0,"th",14),p._uU(1," Average Talktime "),p.qZA())}function X(n,r){if(1&n&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.hij(" ",t.totalTalktime/t.answered," ")}}function W(n,r){1&n&&p._UZ(0,"tr",16)}function $(n,r){1&n&&p._UZ(0,"tr",17)}let gt=(()=>{class n{constructor(){this.displayedColumns=["email","answered","unAnswered","totalCalls","totalTalktime","averageTalktime"],this.dataSource=[]}ngOnChanges(t){console.log(this.dataSource)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-telecaller-talktime"]],inputs:{dataSource:"dataSource"},features:[p.TTD],decls:27,vars:3,consts:[[2,"width","100%"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","total"],[2,"margin","0 auto","margin-bottom","25px"],["matColumnDef","answered"],["matColumnDef","unAnswered"],["matColumnDef","totalCalls"],["matColumnDef","totalTalktime"],["matColumnDef","averageTalktime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"table",1),p.ynx(2,2),p.YNc(3,Bt,2,0,"th",3),p.YNc(4,_,2,1,"td",4),p.BQk(),p.ynx(5,5),p.YNc(6,k,2,0,"th",3),p.YNc(7,N,2,1,"td",4),p.BQk(),p.TgZ(8,"h2",6),p._uU(9,"Telecaller Reports"),p.qZA(),p.ynx(10,7),p.YNc(11,F,2,0,"th",3),p.YNc(12,rt,2,1,"td",4),p.BQk(),p.ynx(13,8),p.YNc(14,ot,2,0,"th",3),p.YNc(15,wt,2,1,"td",4),p.BQk(),p.ynx(16,9),p.YNc(17,B,2,0,"th",3),p.YNc(18,y,2,1,"td",4),p.BQk(),p.ynx(19,10),p.YNc(20,b,2,0,"th",3),p.YNc(21,T,2,1,"td",4),p.BQk(),p.ynx(22,11),p.YNc(23,O,2,0,"th",3),p.YNc(24,X,2,1,"td",4),p.BQk(),p.YNc(25,W,1,0,"tr",12),p.YNc(26,$,1,0,"tr",13),p.qZA(),p.qZA()),2&t&&(p.xp6(1),p.Q6J("dataSource",e.dataSource),p.xp6(24),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns))},directives:[Q.BZ,Q.w1,Q.fO,Q.Dz,Q.as,Q.nj,Q.ge,Q.ev,Q.XQ,Q.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-elevation-z8[_ngcontent-%COMP%]{margin-bottom:15px}"],changeDetection:0}),n})();var Rt=K(9832),Kt=function(n,r){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function ht(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}Kt(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var m=function(){return m=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},m.apply(this,arguments)};function H(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(e=Object.getOwnPropertySymbols(n);i<e.length;i++)r.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(t[e[i]]=n[e[i]])}return t}function Zt(n,r,t){if(t||2===arguments.length)for(var a,e=0,i=r.length;e<i;e++)(a||!(e in r))&&(a||(a=Array.prototype.slice.call(r,0,e)),a[e]=r[e]);return n.concat(a||Array.prototype.slice.call(r))}var ln,Kn,wo,ji,c=K(7524),le=(()=>{return(n=le||(le={})).FORE="fore",n.MID="mid",n.BG="bg",le;var n})(),Dt=(()=>{return(n=Dt||(Dt={})).TOP="top",n.TOP_LEFT="top-left",n.TOP_RIGHT="top-right",n.RIGHT="right",n.RIGHT_TOP="right-top",n.RIGHT_BOTTOM="right-bottom",n.LEFT="left",n.LEFT_TOP="left-top",n.LEFT_BOTTOM="left-bottom",n.BOTTOM="bottom",n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n.RADIUS="radius",n.CIRCLE="circle",n.NONE="none",Dt;var n})(),Ee=(()=>{return(n=Ee||(Ee={})).AXIS="axis",n.GRID="grid",n.LEGEND="legend",n.TOOLTIP="tooltip",n.ANNOTATION="annotation",n.SLIDER="slider",n.SCROLLBAR="scrollbar",n.OTHER="other",Ee;var n})(),be=(()=>{return(n=be||(be={})).BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_PAINT="beforepaint",n.AFTER_PAINT="afterpaint",n.BEFORE_CHANGE_DATA="beforechangedata",n.AFTER_CHANGE_DATA="afterchangedata",n.BEFORE_CLEAR="beforeclear",n.AFTER_CLEAR="afterclear",n.BEFORE_DESTROY="beforedestroy",n.BEFORE_CHANGE_SIZE="beforechangesize",n.AFTER_CHANGE_SIZE="afterchangesize",be;var n})(),Ke=(()=>{return(n=Ke||(Ke={})).BEFORE_DRAW_ANIMATE="beforeanimate",n.AFTER_DRAW_ANIMATE="afteranimate",Ke;var n})(),Ue=(()=>{return(n=Ue||(Ue={})).MOUSE_ENTER="plot:mouseenter",n.MOUSE_DOWN="plot:mousedown",n.MOUSE_MOVE="plot:mousemove",n.MOUSE_UP="plot:mouseup",n.MOUSE_LEAVE="plot:mouseleave",n.TOUCH_START="plot:touchstart",n.TOUCH_MOVE="plot:touchmove",n.TOUCH_END="plot:touchend",n.TOUCH_CANCEL="plot:touchcancel",n.CLICK="plot:click",n.DBLCLICK="plot:dblclick",n.CONTEXTMENU="plot:contextmenu",n.LEAVE="plot:leave",n.ENTER="plot:enter",Ue;var n})(),yr=(()=>{return(n=yr||(yr={})).ACTIVE="active",n.INACTIVE="inactive",n.SELECTED="selected",n.DEFAULT="default",yr;var n})(),or=["color","shape","size"],we="_origin",sn={};function An(n,r){sn[n]=r}function Sr(n){ln||(ln=document.createElement("table"),Kn=document.createElement("tr"),wo=/^\s*<(\w+|!)[^>]*>/,ji={tr:document.createElement("tbody"),tbody:ln,thead:ln,tfoot:ln,td:Kn,th:Kn,"*":document.createElement("div")});var r=wo.test(n)&&RegExp.$1;(!r||!(r in ji))&&(r="*");var t=ji[r];n=n.replace(/(^\s*)|(\s*$)/g,""),t.innerHTML=""+n;var e=t.childNodes[0];return t.removeChild(e),e}function We(n,r){if(n)for(var t in r)r.hasOwnProperty(t)&&(n.style[t]=r[t]);return n}function Mo(n){return"number"==typeof n&&!isNaN(n)}function bo(n,r,t,e){var i=t,a=e;if(r){var o=function(n){var r=getComputedStyle(n);return{width:(n.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(n.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}(n);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(Mo(i)?i:1,1),height:Math.max(Mo(a)?a:1,1)}}var qi=K(378),Ji=function(n){function r(t){var e=n.call(this)||this;e.destroyed=!1;var i=t.visible;return e.visible=void 0===i||i,e}return ht(r,n),r.prototype.show=function(){this.visible||this.changeVisible(!0)},r.prototype.hide=function(){this.visible&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(qi.Z);const Qi=Ji;var Ne=K(8621),_o=function(){function n(r){var t=r.xField,e=r.yField,i=r.adjustNames;this.adjustNames=void 0===i?["x","y"]:i,this.xField=t,this.yField=e}return n.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},n.prototype.getAdjustRange=function(r,t,e){var s,l,i=this.yField,a=e.indexOf(t),o=e.length;return!i&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[0===a?0:a-1],l=e[a===o-1?o-1:a+1],0!==a?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=0===t?0:t-.5,l=0===t?1:t+.5),{pre:s,next:l}},n.prototype.adjustData=function(r,t){var e=this,i=this.getDimValues(t);c.S6(r,function(a,o){c.S6(i,function(s,l){e.adjustDim(l,s,a,o)})})},n.prototype.groupData=function(r,t){return c.S6(r,function(e){void 0===e[t]&&(e[t]=0)}),c.vM(r,t)},n.prototype.adjustDim=function(r,t,e,i){},n.prototype.getDimValues=function(r){var e=this.xField,i=this.yField,a={},o=[];return e&&this.isAdjust("x")&&o.push(e),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(l){a[l]=c.I(r,l).sort(function(u,h){return u-h})}),!i&&this.isAdjust("y")&&(a.y=[0,1]),a},n}();const Tn=_o;var Ki={},ta=function(n){return Ki[n.toLowerCase()]},En=function(n,r){if(ta(n))throw new Error("Adjust type '"+n+"' existed.");Ki[n.toLowerCase()]=r},ea=function(n,r){return(ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(n,r)};function ti(n,r){function t(){this.constructor=n}ea(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var cr=function(){return cr=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},cr.apply(this,arguments)},ri=function(n){function r(t){var e=n.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var i=t.marginRatio,o=t.dodgeRatio,s=void 0===o?.5:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,f=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,d=t.maxColumnWidth,x=t.minColumnWidth,A=t.columnWidthRatio;return e.marginRatio=void 0===i?.5:i,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=f,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=d,e.minColumnWidth=x,e.columnWidthRatio=A,e}return ti(r,n),r.prototype.process=function(t){var e=c.d9(t),i=c.xH(e),a=this.dodgeBy,o=a?c.ru(i,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,i,a){var o=this,s=this.getDistribution(t),l=this.groupData(i,t);return c.S6(l,function(u,h){var f;f=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,parseFloat(h),e),c.S6(u,function(v){var d=s[v[t]],x=d.indexOf(a);v[t]=o.getDodgeOffset(f,x,d.length)})}),[]},r.prototype.getDodgeOffset=function(t,e,i){var g,a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,f=t.next,v=f-h;if(!c.UM(l)&&c.UM(u)&&l>=0)g=h+this.getIntervalOnlyOffset(i,e);else if(!c.UM(u)&&c.UM(l)&&u>=0)g=h+this.getDodgeOnlyOffset(i,e);else if(!c.UM(l)&&!c.UM(u)&&l>=0&&u>=0)g=h+this.getIntervalAndDodgeOffset(i,e);else{var x=v*o/i,A=s*x;g=(h+f)/2+(.5*(v-i*x-(i-1)*A)+((e+1)*x+e*A)-.5*x-.5*v)}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var i=this,a=i.defaultSize,s=i.xDimensionLegenth,l=i.groupNum,h=i.maxColumnWidth,f=i.minColumnWidth,v=i.columnWidthRatio,g=i.intervalPadding/s,d=(1-(l-1)*g)/l*i.dodgeRatio/(t-1),x=((1-g*(l-1))/l-d*(t-1))/t;return x=c.UM(v)?x:1/l/t*v,c.UM(h)||(x=Math.min(x,h/s)),c.UM(f)||(x=Math.max(x,f/s)),((.5+e)*(x=a?a/s:x)+e*(d=((1-(l-1)*g)/l-t*x)/(t-1))+.5*g)*l-g/2},r.prototype.getDodgeOnlyOffset=function(t,e){var i=this,a=i.defaultSize,s=i.xDimensionLegenth,l=i.groupNum,h=i.maxColumnWidth,f=i.minColumnWidth,v=i.columnWidthRatio,g=i.dodgePadding/s,d=1*i.marginRatio/(l-1),x=((1-d*(l-1))/l-g*(t-1))/t;return x=v?1/l/t*v:x,c.UM(h)||(x=Math.min(x,h/s)),c.UM(f)||(x=Math.max(x,f/s)),((.5+e)*(x=a?a/s:x)+e*g+.5*(d=(1-(x*t+g*(t-1))*l)/(l-1)))*l-d/2},r.prototype.getIntervalAndDodgeOffset=function(t,e){var i=this,s=i.xDimensionLegenth,l=i.groupNum,u=i.intervalPadding/s,h=i.dodgePadding/s;return((.5+e)*(((1-u*(l-1))/l-h*(t-1))/t)+e*h+.5*u)*l-u/2},r.prototype.getDistribution=function(t){var i=this.cacheMap,a=i[t];return a||(a={},c.S6(this.adjustDataArray,function(o,s){var l=c.I(o,t);l.length||l.push(0),c.S6(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),i[t]=a),a},r}(Tn);const Po=ri;var Bo=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ti(r,n),r.prototype.process=function(t){var e=c.d9(t),i=c.xH(e);return this.adjustData(e,i),e},r.prototype.adjustDim=function(t,e,i){var a=this,o=this.groupData(i,t);return c.S6(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,i=t.next,a=.05*(i-e);return function(n,r){return(r-n)*Math.random()+n}(e+a,i-a)},r.prototype.adjustGroup=function(t,e,i,a){var o=this,s=this.getAdjustRange(e,i,a);return c.S6(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Tn);const na=Bo;var ni=c.Ct,ia=function(n){function r(t){var e=n.call(this,t)||this,i=t.adjustNames,o=t.height,s=void 0===o?NaN:o,l=t.size,u=void 0===l?10:l,h=t.reverseOrder,f=void 0!==h&&h;return e.adjustNames=void 0===i?["y"]:i,e.height=s,e.size=u,e.reverseOrder=f,e}return ti(r,n),r.prototype.process=function(t){var a=this.reverseOrder,o=this.yField?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,i=e.xField,a=e.yField,s=e.reverseOrder?this.reverse(t):t,l=new ni,u=new ni;return s.map(function(h){return h.map(function(f){var v,g=c.U2(f,i,0),d=c.U2(f,[a]),x=g.toString();if(d=c.kJ(d)?d[1]:d,!c.UM(d)){var A=d>=0?l:u;A.has(x)||A.set(x,0);var E=A.get(x),R=d+E;return A.set(x,R),cr(cr({},f),((v={})[a]=[E,R],v))}return f})})},r.prototype.processOneDimStack=function(t){var e=this,i=this,a=i.xField,o=i.height,u=i.reverseOrder?this.reverse(t):t,h=new ni;return u.map(function(f){return f.map(function(v){var g,x=v[a],A=2*e.size/o;h.has(x)||h.set(x,A/2);var E=h.get(x);return h.set(x,E+A),cr(cr({},v),((g={}).y=E,g))})})},r}(Tn);const Io=ia;var Do=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ti(r,n),r.prototype.process=function(t){var e=c.xH(t),a=this.xField,o=this.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return c.UI(t,function(u){return c.UI(u,function(h){var f,v,g=h[o],d=h[a];if(c.kJ(g)){var x=(l-s[d])/2;return cr(cr({},h),((f={})[o]=c.UI(g,function(E){return x+E}),f))}var A=(l-g)/2;return cr(cr({},h),((v={})[o]=[A,g+A],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,a=this.xField,o=this.yField,s=c.vM(t,function(l){return l[a]});return c.Q8(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var i=c.UI(t,function(o){return c.U2(o,e,[])}),a=c.xH(i);return Math.max.apply(Math,a)},r}(Tn);const Nl=Do;En("Dodge",Po),En("Jitter",na),En("Stack",Io),En("Symmetric",Nl);var Fo=function(n,r){return(0,c.HD)(r)?r:n.invert(n.scale(r))},ko=function(){function n(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return n.prototype.mapping=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.map(function(a,o){return r._toOriginParam(a,r.scales[o])});return this.callback.apply(this,i)},n.prototype.getLinearValue=function(r){var t=this.values.length-1,e=Math.floor(t*r),a=this.values[e];return a+((e===t?a:this.values[e+1])-a)*(t*r-e)},n.prototype.getNames=function(){for(var t=this.names,e=Math.min(this.scales.length,t.length),i=[],a=0;a<e;a+=1)i.push(t[a]);return i},n.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},n.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},n.prototype.defaultCallback=function(){for(var r=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(i,a){var o=r.scales[a];return"identity"===o.type?o.values[0]:r._getAttributeValue(o,i)})},n.prototype._parseCfg=function(r){var t=this,e=r.type,a=r.names,o=void 0===a?[]:a,s=r.scales,l=void 0===s?[]:s,u=r.values,h=void 0===u?[]:u,f=r.callback;this.type=void 0===e?"base":e,this.scales=l,this.values=h,this.names=o,this.callback=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];if(f){var d=f.apply(void 0,v);if(!(0,c.UM)(d))return[d]}return t.defaultCallback.apply(t,v)}},n.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var e=r.translate(t);return this.values[e%this.values.length]}var i=r.scale(t);return this.getLinearValue(i)},n.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,c.kJ)(r)?r.map(function(e){return Fo(t,e)}):Fo(t,r)},n}();const un=ko;var ii=function(n,r){return(ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(n,r)};function hn(n,r){function t(){this.constructor=n}ii(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var eu=/rgba?\(([\s.,0-9]+)\)/,ua=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ru=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,nu=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,ha=function(n,r,t,e){return n[e]+(r[e]-n[e])*t};function Yo(n){return"#"+ca(n[0])+ca(n[1])+ca(n[2])}var Ln,si=function(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]},ca=function(n){var r=Math.round(n).toString(16);return 1===r.length?"0"+r:r},Go=function(n){if("#"===n[0]&&7===n.length)return n;Ln||(Ln=function(){var n=document.createElement("i");return n.title="Web Colour Picker",n.style.display="none",document.body.appendChild(n),n}()),Ln.style.color=n;var r=document.defaultView.getComputedStyle(Ln,"").getPropertyValue("color");return Yo(eu.exec(r)[1].split(/\s*,\s*/).map(function(i){return Number(i)}))};const Ar={rgb2arr:si,gradient:function(n){var r=(0,c.HD)(n)?n.split("-"):n,t=(0,c.UI)(r,function(e){return si(-1===e.indexOf("#")?Go(e):e)});return function(e){return function(n,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),e=n.length-1,i=Math.floor(e*t),a=e*t-i,o=n[i],s=i===e?o:n[i+1];return Yo([ha(o,s,a,0),ha(o,s,a,1),ha(o,s,a,2)])}(t,e)}},toRGB:(0,c.HP)(Go),toCSSGradient:function(n){if(function(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)}(n)){var r,t=void 0;if("l"===n[0])t=(e=ua.exec(n))[2],r="linear-gradient("+(+e[1]+90)+"deg, ";else if("r"===n[0]){var e;r="radial-gradient(",t=(e=ru.exec(n))[4]}var a=t.match(nu);return(0,c.S6)(a,function(o,s){var l=o.split(":");r+=l[1]+" "+100*l[0]+"%",s!==a.length-1&&(r+=", ")}),r+=")"}return n}};var su=function(n){function r(t){var e=n.call(this,t)||this;return e.type="color",e.names=["color"],(0,c.HD)(e.values)&&(e.linear=!0),e.gradient=Ar.gradient(e.values),e}return hn(r,n),r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(un);const lu=su;var uu=function(n){function r(t){var e=n.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}return hn(r,n),r}(un);const hu=uu;var Uo=function(n){function r(t){var e=n.call(this,t)||this;return e.names=["x","y"],e.type="position",e}return hn(r,n),r.prototype.mapping=function(t,e){var i=this.scales,a=i[0],o=i[1];return(0,c.UM)(t)||(0,c.UM)(e)?[]:[(0,c.kJ)(t)?t.map(function(s){return a.scale(s)}):a.scale(t),(0,c.kJ)(e)?e.map(function(s){return o.scale(s)}):o.scale(e)]},r}(un);const cu=Uo;var fu=function(n){function r(t){var e=n.call(this,t)||this;return e.type="shape",e.names=["shape"],e}return hn(r,n),r.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},r}(un);const vu=fu;var pu=function(n){function r(t){var e=n.call(this,t)||this;return e.type="size",e.names=["size"],e}return hn(r,n),r}(un);const Pn=pu;var cn={};function fr(n,r){cn[n]=r}var Xo=function(){function n(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return n.prototype.translate=function(r){return r},n.prototype.change=function(r){(0,c.f0)(this.__cfg__,r),this.init()},n.prototype.clone=function(){return this.constructor(this.__cfg__)},n.prototype.getTicks=function(){var r=this;return(0,c.UI)(this.ticks,function(t,e){return(0,c.Kn)(t)?t:{text:r.getText(t,e),tickValue:t,value:r.scale(t)}})},n.prototype.getText=function(r,t){var e=this.formatter,i=e?e(r,t):r;return(0,c.UM)(i)||!(0,c.mf)(i.toString)?"":i.toString()},n.prototype.getConfig=function(r){return this.__cfg__[r]},n.prototype.init=function(){(0,c.f0)(this,this.__cfg__),this.setDomain(),(0,c.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},n.prototype.initCfg=function(){},n.prototype.setDomain=function(){},n.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,c.HD)(r)){var e=function(n){return cn[n]}(r);if(!e)throw new Error("There is no method to to calculate ticks!");t=e(this)}else(0,c.mf)(r)&&(t=r(this));return t},n.prototype.rangeMin=function(){return this.range[0]},n.prototype.rangeMax=function(){return this.range[1]},n.prototype.calcPercent=function(r,t,e){return(0,c.hj)(r)?(r-t)/(e-t):NaN},n.prototype.calcValue=function(r,t,e){return t+r*(e-t)},n}();const w=Xo;var L=function(n,r){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function Y(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}L(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}function Jv(n,r,t){if(t||2===arguments.length)for(var a,e=0,i=r.length;e<i;e++)(a||!(e in r))&&(a||(a=Array.prototype.slice.call(r,0,e)),a[e]=r[e]);return n.concat(a||Array.prototype.slice.call(r))}var $v=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return Y(r,n),r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=(0,c.hj)(t)?t:NaN),e},r.prototype.scale=function(t){var e=this.translate(t),i=this.calcPercent(e,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var e=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(e*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},r.prototype.getText=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var a=t;return(0,c.hj)(t)&&!this.values.includes(t)&&(a=this.values[a]),n.prototype.getText.apply(this,Jv([a],e,!1))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,c.UM)(this.getConfig("min"))&&(this.min=0),(0,c.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(w);const ga=$v;var du=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Nr="[1-9]\\d?",Xr="\\d\\d",li="[^\\s]+",yu=/\[([^]*?)\]/gm;function mu(n,r){for(var t=[],e=0,i=n.length;e<i;e++)t.push(n[e].substr(0,r));return t}var xu=function(n){return function(r,t){var i=t[n].map(function(a){return a.toLowerCase()}).indexOf(r.toLowerCase());return i>-1?i:null}};function Vr(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var e=0,i=r;e<i.length;e++){var a=i[e];for(var o in a)n[o]=a[o]}return n}var wu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Cu=["January","February","March","April","May","June","July","August","September","October","November","December"],ep=mu(Cu,3),Vo={dayNamesShort:mu(wu,3),dayNames:wu,monthNamesShort:ep,monthNames:Cu,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][n%10>3?0:(n-n%10!=10?1:0)*n%10]}},da=Vr({},Vo),Mu=function(n){return da=Vr(da,n)},bu=function(n){return n.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},tr=function(n,r){for(void 0===r&&(r=2),n=String(n);n.length<r;)n="0"+n;return n},np={D:function(n){return String(n.getDate())},DD:function(n){return tr(n.getDate())},Do:function(n,r){return r.DoFn(n.getDate())},d:function(n){return String(n.getDay())},dd:function(n){return tr(n.getDay())},ddd:function(n,r){return r.dayNamesShort[n.getDay()]},dddd:function(n,r){return r.dayNames[n.getDay()]},M:function(n){return String(n.getMonth()+1)},MM:function(n){return tr(n.getMonth()+1)},MMM:function(n,r){return r.monthNamesShort[n.getMonth()]},MMMM:function(n,r){return r.monthNames[n.getMonth()]},YY:function(n){return tr(String(n.getFullYear()),4).substr(2)},YYYY:function(n){return tr(n.getFullYear(),4)},h:function(n){return String(n.getHours()%12||12)},hh:function(n){return tr(n.getHours()%12||12)},H:function(n){return String(n.getHours())},HH:function(n){return tr(n.getHours())},m:function(n){return String(n.getMinutes())},mm:function(n){return tr(n.getMinutes())},s:function(n){return String(n.getSeconds())},ss:function(n){return tr(n.getSeconds())},S:function(n){return String(Math.round(n.getMilliseconds()/100))},SS:function(n){return tr(Math.round(n.getMilliseconds()/10),2)},SSS:function(n){return tr(n.getMilliseconds(),3)},a:function(n,r){return n.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(n,r){return n.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(n){var r=n.getTimezoneOffset();return(r>0?"-":"+")+tr(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4)},Z:function(n){var r=n.getTimezoneOffset();return(r>0?"-":"+")+tr(Math.floor(Math.abs(r)/60),2)+":"+tr(Math.abs(r)%60,2)}},Su=function(n){return+n-1},Au=[null,Nr],Tu=[null,li],Eu=["isPm",li,function(n,r){var t=n.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],_u=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(n){var r=(n+"").match(/([+-]|\d\d)/gi);if(r){var t=60*+r[1]+parseInt(r[2],10);return"+"===r[0]?t:-t}return 0}],ip={D:["day",Nr],DD:["day",Xr],Do:["day",Nr+li,function(n){return parseInt(n,10)}],M:["month",Nr,Su],MM:["month",Xr,Su],YY:["year",Xr,function(n){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+n>68?t-1:t)+n)}],h:["hour",Nr,void 0,"isPm"],hh:["hour",Xr,void 0,"isPm"],H:["hour",Nr],HH:["hour",Xr],m:["minute",Nr],mm:["minute",Xr],s:["second",Nr],ss:["second",Xr],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(n){return 100*+n}],SS:["millisecond",Xr,function(n){return 10*+n}],SSS:["millisecond","\\d{3}"],d:Au,dd:Au,ddd:Tu,dddd:Tu,MMM:["month",li,xu("monthNamesShort")],MMMM:["month",li,xu("monthNames")],a:Eu,A:Eu,ZZ:_u,Z:_u},ya={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Lu=function(n){return Vr(ya,n)},Pu=function(n,r,t){if(void 0===r&&(r=ya.default),void 0===t&&(t={}),"number"==typeof n&&(n=new Date(n)),"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime()))throw new Error("Invalid Date pass to format");var e=[];r=(r=ya[r]||r).replace(yu,function(a,o){return e.push(o),"@@@"});var i=Vr(Vr({},da),t);return(r=r.replace(du,function(a){return np[a](n,i)})).replace(/@@@/g,function(){return e.shift()})};function Ou(n,r,t){if(void 0===t&&(t={}),"string"!=typeof r)throw new Error("Invalid format in fecha parse");if(r=ya[r]||r,n.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=r.replace(yu,function(D,q){return o.push(bu(q)),"@@@"}),l={},u={};s=bu(s).replace(du,function(D){var q=ip[D],nt=q[0],Pt=q[1],Xt=q[3];if(l[nt])throw new Error("Invalid format. "+nt+" specified twice in format");return l[nt]=!0,Xt&&(u[Xt]=!0),a.push(q),"("+Pt+")"}),Object.keys(u).forEach(function(D){if(!l[D])throw new Error("Invalid format. "+D+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var h=n.match(new RegExp(s,"i"));if(!h)return null;for(var f=Vr(Vr({},da),t),v=1;v<h.length;v++){var g=a[v-1],d=g[0],x=g[2],A=x?x(h[v],f):+h[v];if(null==A)return null;i[d]=A}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var E=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),R=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],I=(v=0,R.length);v<I;v++)if(l[R[v][0]]&&i[R[v][0]]!==E[R[v][1]]())return null;return null==i.timezoneOffset?E:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}const Bu={format:Pu,parse:Ou,defaultI18n:Vo,setGlobalDateI18n:Mu,setGlobalDateMasks:Lu};function Du(n,r){return(Vt.format||Bu.format)(n,r)}function ma(n){return(0,c.HD)(n)&&(n=n.indexOf("T")>0?new Date(n).getTime():new Date(n.replace(/-/gi,"/")).getTime()),(0,c.J_)(n)&&(n=n.getTime()),n}var xr=1e3,fn=6e4,vn=60*fn,Rr=24*vn,ui=31*Rr,Fu=365*Rr,hi=[["HH:mm:ss",xr],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",fn],["HH:mm",10*fn],["HH:mm",30*fn],["HH",vn],["HH",6*vn],["HH",12*vn],["YYYY-MM-DD",Rr],["YYYY-MM-DD",4*Rr],["YYYY-WW",7*Rr],["YYYY-MM",ui],["YYYY-MM",4*ui],["YYYY-MM",6*ui],["YYYY",380*Rr]];var lp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="timeCat",t}return Y(r,n),r.prototype.translate=function(t){t=ma(t);var e=this.values.indexOf(t);return-1===e&&(e=(0,c.hj)(t)&&t<this.values.length?t:NaN),e},r.prototype.getText=function(t,e){var i=this.translate(t);if(i>-1){var a=this.values[i],o=this.formatter;return o?o(a,e):Du(a,this.mask)}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,c.S6)(t,function(e,i){t[i]=ma(e)}),t.sort(function(e,i){return e-i}),n.prototype.setDomain.call(this)},r}(ga);const up=lp;var hp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.isContinuous=!0,t}return Y(r,n),r.prototype.scale=function(t){if((0,c.UM)(t))return NaN;var e=this.rangeMin(),i=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(i-e)},r.prototype.init=function(){n.prototype.init.call(this);var t=this.ticks,e=(0,c.YM)(t),i=(0,c.Z$)(t);e<this.min&&(this.min=e),i>this.max&&(this.max=i),(0,c.UM)(this.minLimit)||(this.min=e),(0,c.UM)(this.maxLimit)||(this.max=i)},r.prototype.setDomain=function(){var t=(0,c.rx)(this.values),e=t.min,i=t.max;(0,c.UM)(this.min)&&(this.min=e),(0,c.UM)(this.max)&&(this.max=i),this.min>this.max&&(this.min=e,this.max=i)},r.prototype.calculateTicks=function(){var t=this,e=n.prototype.calculateTicks.call(this);return this.nice||(e=(0,c.hX)(e,function(i){return i>=t.min&&i<=t.max})),e},r.prototype.getScalePercent=function(t){var i=this.min;return(t-i)/(this.max-i)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(w);const xa=hp;var cp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return Y(r,n),r.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(xa);const wa=cp;function zr(n,r){var t=Math.E;return r>=0?Math.pow(t,Math.log(r)/n):-1*Math.pow(t,Math.log(-r)/n)}function vr(n,r){return 1===n?1:Math.log(r)/Math.log(n)}function ku(n,r,t){(0,c.UM)(t)&&(t=Math.max.apply(null,n));var e=t;return(0,c.S6)(n,function(i){i>0&&i<e&&(e=i)}),e===t&&(e=t/r),e>1&&(e=1),e}var fp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="log",t}return Y(r,n),r.prototype.invert=function(t){var s,e=this.base,i=vr(e,this.max),a=this.rangeMin(),o=this.rangeMax()-a,l=this.positiveMin;if(l){if(0===t)return 0;var u=1/(i-(s=vr(e,l/e)))*o;if(t<u)return t/u*l}else s=vr(e,this.min);return Math.pow(e,(t-a)/o*(i-s)+s)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){n.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=ku(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i||t<=0)return 0;var a=this.base,o=this.positiveMin;return o&&(i=1*o/a),t<o?t/o/(vr(a,e)-vr(a,i)):(vr(a,t)-vr(a,i))/(vr(a,e)-vr(a,i))},r}(xa);const vp=fp;var pp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="pow",t}return Y(r,n),r.prototype.invert=function(t){var e=this.getInvertPercent(t),i=this.exponent,a=zr(i,this.max),o=zr(i,this.min),s=e*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,i)*l},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var e=this.max,i=this.min;if(e===i)return 0;var a=this.exponent;return(zr(a,t)-zr(a,i))/(zr(a,e)-zr(a,i))},r}(xa);const gp=pp;var dp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="time",t}return Y(r,n),r.prototype.getText=function(t,e){var i=this.translate(t),a=this.formatter;return a?a(i,e):Du(i,this.mask)},r.prototype.scale=function(t){var e=t;return((0,c.HD)(e)||(0,c.J_)(e))&&(e=this.translate(e)),n.prototype.scale.call(this,e)},r.prototype.translate=function(t){return ma(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),i=this.getConfig("max");if((!(0,c.UM)(e)||!(0,c.hj)(e))&&(this.min=this.translate(this.min)),(!(0,c.UM)(i)||!(0,c.hj)(i))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,l=0;(0,c.S6)(t,function(u){var h=ma(u);if(isNaN(h))throw new TypeError("Invalid Time: "+u+" in time scale!");o>h?(s=o,o=h):s>h&&(s=h),l<h&&(l=h),a.push(h)}),t.length>1&&(this.minTickInterval=s-o),(0,c.UM)(e)&&(this.min=o),(0,c.UM)(i)&&(this.max=l)}},r}(wa);const yp=dp;var mp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="quantize",t}return Y(r,n),r.prototype.invert=function(t){var e=this.ticks,i=e.length,a=this.getInvertPercent(t),o=Math.floor(a*(i-1));if(o>=i-1)return(0,c.Z$)(e);if(o<0)return(0,c.YM)(e);var s=e[o],u=o/(i-1);return s+(a-u)/((o+1)/(i-1)-u)*(e[o+1]-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=n.prototype.calculateTicks.call(this);return this.nice||((0,c.Z$)(t)!==this.max&&t.push(this.max),(0,c.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var e=this.ticks;if(t<(0,c.YM)(e))return 0;if(t>(0,c.Z$)(e))return 1;var i=0;return(0,c.S6)(e,function(a,o){if(!(t>=a))return!1;i=o}),i/(e.length-1)},r}(xa);const Yu=mp;var xp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="quantile",t}return Y(r,n),r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(Yu);const wp=xp;var Gu={};function zo(n){return Gu[n]}function Tr(n,r){if(zo(n))throw new Error("type '"+n+"' existed.");Gu[n]=r}var Cp=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return Y(r,n),r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,c.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},r}(w);const Mp=Cp;function On(n){return Math.abs(n)<1e-15?n:parseFloat(n.toFixed(15))}var bp=[1,5,2,2.5,4,3],Hu=100*Number.EPSILON;function Tp(n,r,t,e,i,a){var o=(0,c.dp)(r),s=(0,c.cq)(r,n),l=0,u=function(n,r){return(n%r+r)%r}(e,a);return(u<Hu||a-u<Hu)&&e<=0&&i>=0&&(l=1),1-s/(o-1)-t+l}function Ep(n,r,t){var e=(0,c.dp)(r);return 1-(0,c.cq)(r,n)/(e-1)-t+1}function _p(n,r,t,e,i,a){var o=(n-1)/(a-i),s=(r-1)/(Math.max(a,e)-Math.min(t,i));return 2-Math.max(o/s,s/o)}function Lp(n,r){return n>=r?2-(n-1)/(r-1):1}function Pp(n,r,t,e){var i=r-n;return 1-.5*(Math.pow(r-e,2)+Math.pow(n-t,2))/Math.pow(.1*i,2)}function Op(n,r,t){var e=r-n;return t>e?1-Math.pow((t-e)/2,2)/Math.pow(.1*e,2):1}function Uu(n,r,t,e,i,a){void 0===t&&(t=5),void 0===e&&(e=!0),void 0===i&&(i=bp),void 0===a&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(n)||Number.isNaN(r)||"number"!=typeof n||"number"!=typeof r||!o)return{min:0,max:0,ticks:[]};if(r-n<1e-15||1===o)return{min:n,max:r,ticks:[n]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},l=1;l<1/0;){for(var u=0;u<i.length;u+=1){var h=i[u],f=Ep(h,i,l);if(a[0]*f+a[1]+a[2]+a[3]<s.score){l=1/0;break}for(var v=2;v<1/0;){var g=Lp(v,o);if(a[0]*f+a[1]+a[2]*g+a[3]<s.score)break;for(var x=Math.ceil(Math.log10((r-n)/(v+1)/l/h));x<1/0;){var A=l*h*Math.pow(10,x),E=Op(n,r,A*(v-1));if(a[0]*f+a[1]*E+a[2]*g+a[3]<s.score)break;var R=Math.floor(r/A)*l-(v-1)*l,I=Math.ceil(n/A)*l;if(R<=I)for(var D=I-R,q=0;q<=D;q+=1){var Pt=(R+q)*(A/l),Xt=Pt+A*(v-1),Jt=A,oe=Tp(h,i,l,Pt,Xt,Jt),ge=Pp(n,r,Pt,Xt),ye=_p(v,o,n,r,Pt,Xt),Re=a[0]*oe+a[1]*ge+a[2]*ye+1*a[3];Re>s.score&&(!e||Pt<=n&&Xt>=r)&&(s.lmin=Pt,s.lmax=Xt,s.lstep=Jt,s.score=Re)}x+=1}v+=1}}l+=1}var Ve=On(s.lmax),Br=On(s.lmin),dr=On(s.lstep),ze=Math.floor(function(n){return Math.round(1e12*n)/1e12}((Ve-Br)/dr))+1,Be=new Array(ze);for(Be[0]=On(Br),u=1;u<ze;u++)Be[u]=On(Be[u-1]+dr);return{min:Math.min(n,(0,c.YM)(Be)),max:Math.max(r,(0,c.Z$)(Be)),ticks:Be}}function Nu(n){var r=n.values,t=n.tickInterval,e=n.tickCount,i=r;if((0,c.hj)(t))return(0,c.hX)(i,function(u,h){return h%t==0});var a=n.min,o=n.max;if((0,c.UM)(a)&&(a=0),(0,c.UM)(o)&&(o=r.length-1),(0,c.hj)(e)&&e<o-a){var s=Uu(a,o,e,!1,[1,2,5,3,4,7,6,8,9]).ticks;return(0,c.hX)(s,function(u){return u>=a&&u<=o}).map(function(u){return r[u]})}return r.slice(a,o+1)}var Xu=Math.sqrt(50),Vu=Math.sqrt(10),zu=Math.sqrt(2),Dp=function(){function n(){this._domain=[0,1]}return n.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},n.prototype.nice=function(r){var t,e;void 0===r&&(r=5);var u,i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o];return l<s&&(s=(t=[l,s])[0],l=t[1],a=(e=[o,a])[0],o=e[1]),(u=Ca(s,l,r))>0?u=Ca(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,r):u<0&&(u=Ca(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,r)),u>0?(i[a]=Math.floor(s/u)*u,i[o]=Math.ceil(l/u)*u,this.domain(i)):u<0&&(i[a]=Math.ceil(s*u)/u,i[o]=Math.floor(l*u)/u,this.domain(i)),this},n.prototype.ticks=function(r){return void 0===r&&(r=5),function(n,r,t){var e,a,o,s,i=-1;if(t=+t,(n=+n)==(r=+r)&&t>0)return[n];if((e=r<n)&&(a=n,n=r,r=a),0===(s=Ca(n,r,t))||!isFinite(s))return[];if(s>0)for(n=Math.ceil(n/s),r=Math.floor(r/s),o=new Array(a=Math.ceil(r-n+1));++i<a;)o[i]=(n+i)*s;else for(n=Math.floor(n*s),r=Math.ceil(r*s),o=new Array(a=Math.ceil(n-r+1));++i<a;)o[i]=(n-i)/s;return e&&o.reverse(),o}(this._domain[0],this._domain[this._domain.length-1],r||5)},n}();function Ca(n,r,t){var e=(r-n)/Math.max(0,t),i=Math.floor(Math.log(e)/Math.LN10),a=e/Math.pow(10,i);return i>=0?(a>=Xu?10:a>=Vu?5:a>=zu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Xu?10:a>=Vu?5:a>=zu?2:1)}function Zu(n,r,t){return("ceil"===t?Math.ceil(n/r):"floor"===t?Math.floor(n/r):Math.round(n/r))*r}function Wo(n,r,t){var e=Zu(n,t,"floor"),i=Zu(r,t,"ceil");e=(0,c.ri)(e,t),i=(0,c.ri)(i,t);for(var a=[],o=e;o<=i;o+=t){var s=(0,c.ri)(o,t);a.push(s)}return{min:e,max:i,ticks:a}}function jo(n,r,t){var e,i=n.minLimit,a=n.maxLimit,o=n.min,s=n.max,l=n.tickCount,u=void 0===l?5:l,h=(0,c.UM)(i)?(0,c.UM)(r)?o:r:i,f=(0,c.UM)(a)?(0,c.UM)(t)?s:t:a;if(h>f&&(f=(e=[h,f])[0],h=e[1]),u<=2)return[h,f];for(var v=(f-h)/(u-1),g=[],d=0;d<u;d++)g.push(h+v*d);return g}function Wu(n,r,t){if(void 0===t&&(t=5),n===r)return{max:r,min:n,ticks:[n]};var e=t<0?0:Math.round(t);if(0===e)return{max:r,min:n,ticks:[]};var s=(r-n)/e,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<1.5*(s-u)&&5*l-s<2.75*(s-(u=2*l))&&10*l-s<1.5*(s-(u=5*l))&&(u=10*l);for(var h=Math.ceil(r/u),f=Math.floor(n/u),v=Math.max(h*u,r),g=Math.min(f*u,n),d=Math.floor((v-g)/u)+1,x=new Array(d),A=0;A<d;A++)x[A]=On(g+A*u);return{min:g,max:v,ticks:x}}function Hp(n,r){var t=n.length*r;return 1===r?n[n.length-1]:0===r?n[0]:t%1!=0?n[Math.ceil(t)-1]:n.length%2==0?(n[t-1]+n[t])/2:n[t]}function Ma(n){return new Date(n).getFullYear()}function zp(n){return new Date(n,0,1).getTime()}function qo(n){return new Date(n).getMonth()}function Wp(n,r){return new Date(n,r,1).getTime()}fr("cat",Nu),fr("time-cat",function(n){var r=Nu(n),t=(0,c.Z$)(n.values);return t!==(0,c.Z$)(r)&&r.push(t),r}),fr("wilkinson-extended",function(n){var r=n.min,t=n.max,a=n.tickInterval,o=n.minLimit,s=n.maxLimit,l=Uu(r,t,n.tickCount,n.nice).ticks;return(0,c.UM)(o)&&(0,c.UM)(s)?a?Wo(r,t,a).ticks:l:jo(n,(0,c.YM)(l),(0,c.Z$)(l))}),fr("r-pretty",function(n){var r=n.min,t=n.max,i=n.tickInterval,a=n.minLimit,o=n.maxLimit,s=Wu(r,t,n.tickCount).ticks;return(0,c.UM)(a)&&(0,c.UM)(o)?i?Wo(r,t,i).ticks:s:jo(n,(0,c.YM)(s),(0,c.Z$)(s))}),fr("time",function(n){var r=n.min,t=n.max,e=n.minTickInterval,i=n.tickInterval,a=n.tickCount;if(i)a=Math.ceil((t-r)/i);else{var s=(t-r)/(i=function(n,r,t){var e=(r-n)/t,i=function(n){return function(r,t,e,i){for(var a=(0,c.UM)(e)?0:e,o=(0,c.UM)(i)?r.length:i;a<o;){var s=a+o>>>1;n(r[s])>t?o=s:a=s+1}return a}}(function(o){return o[1]})(hi,e)-1,a=hi[i];return i<0?a=hi[0]:i>=hi.length&&(a=(0,c.Z$)(hi)),a}(r,t,a)[1])/a;s>1&&(i*=Math.ceil(s)),e&&i<e&&(i=e)}for(var l=[],u=r;u<t+i;u+=i)l.push(u);return l}),fr("time-pretty",function(n){var r=n.min,t=n.max,e=n.minTickInterval,a=n.tickInterval,o=[];a||(a=(t-r)/n.tickCount,e&&a<e&&(a=e));var s=Ma(r);if(a>Fu)for(var l=Ma(t),u=Math.ceil(a/Fu),h=s;h<=l+u;h+=u)o.push(zp(h));else if(a>ui){var f=Math.ceil(a/ui),v=qo(r),g=function(n,r){var t=Ma(n),e=Ma(r),i=qo(n);return 12*(e-t)+(qo(r)-i)%12}(r,t);for(h=0;h<=g+f;h+=f)o.push(Wp(s,h+v))}else if(a>Rr){var x=(d=new Date(r)).getFullYear(),A=d.getMonth(),E=d.getDate(),R=Math.ceil(a/Rr),I=function(n,r){return Math.ceil((r-n)/Rr)}(r,t);for(h=0;h<I+R;h+=R)o.push(new Date(x,A,E+h).getTime())}else if(a>vn){x=(d=new Date(r)).getFullYear(),A=d.getMonth(),R=d.getDate();var d,D=d.getHours(),q=Math.ceil(a/vn),nt=function(n,r){return Math.ceil((r-n)/vn)}(r,t);for(h=0;h<=nt+q;h+=q)o.push(new Date(x,A,R,D+h).getTime())}else if(a>fn){var Pt=function(n,r){return Math.ceil((r-n)/6e4)}(r,t),Xt=Math.ceil(a/fn);for(h=0;h<=Pt+Xt;h+=Xt)o.push(r+h*fn)}else{var Jt=a;Jt<xr&&(Jt=xr);var oe=Math.floor(r/xr)*xr,ge=Math.ceil((t-r)/xr),ye=Math.ceil(Jt/xr);for(h=0;h<ge+ye;h+=ye)o.push(oe+h*xr)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}),fr("log",function(n){var o,r=n.base,t=n.tickCount,e=n.min,i=n.max,a=n.values,s=vr(r,i);if(e>0)o=Math.floor(vr(r,e));else{var l=ku(a,r,i);o=Math.floor(vr(r,l))}for(var h=Math.ceil((s-o)/t),f=[],v=o;v<s+h;v+=h)f.push(Math.pow(r,v));return e<=0&&f.unshift(0),f}),fr("pow",function(n){var r=n.exponent,t=n.tickCount,e=Math.ceil(zr(r,n.max));return Wu(Math.floor(zr(r,n.min)),e,t).ticks.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}),fr("quantile",function(n){var r=n.tickCount,t=n.values;if(!t||!t.length)return[];for(var e=t.slice().sort(function(s,l){return s-l}),i=[],a=0;a<r;a++)i.push(Hp(e,a/(r-1)));return i}),fr("d3-linear",function(n){var r=n.min,t=n.max,e=n.tickInterval,i=n.minLimit,a=n.maxLimit,o=function(n){var r=n.min,t=n.max,e=n.nice,i=n.tickCount,a=new Dp;return a.domain([r,t]),e&&a.nice(i),a.ticks(i)}(n);return(0,c.UM)(i)&&(0,c.UM)(a)?e?Wo(r,t,e).ticks:o:jo(n,(0,c.YM)(o),(0,c.Z$)(o))}),Tr("cat",ga),Tr("category",ga),Tr("identity",Mp),Tr("linear",wa),Tr("log",vp),Tr("pow",gp),Tr("time",yp),Tr("timeCat",up),Tr("quantize",Yu),Tr("quantile",wp);var ju={},qu=function(n){return ju[n.toLowerCase()]},ci=function(n,r){if(qu(n))throw new Error("Attribute type '"+n+"' existed.");ju[n.toLowerCase()]=r};ci("Color",lu),ci("Opacity",hu),ci("Position",cu),ci("Shape",vu),ci("Size",Pn);var Jo=function(n,r){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function Qo(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}Jo(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}function Ku(n,r,t){if(t||2===arguments.length)for(var a,e=0,i=r.length;e<i;e++)(a||!(e in r))&&(a||(a=Array.prototype.slice.call(r,0,e)),a[e]=r[e]);return n.concat(a||Array.prototype.slice.call(r))}var th=K(5278);function fi(n,r,t){var e=r[0],i=r[1],a=r[2];return n[0]=e*t[0]+i*t[3]+a*t[6],n[1]=e*t[1]+i*t[4]+a*t[7],n[2]=e*t[2]+i*t[5]+a*t[8],n}(function(){var n=new th.WT(3);th.WT!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)})();var rg=K(7543),Ae=K(3882),ng=function(){function n(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=r.end,i=r.matrix,a=void 0===i?[1,0,0,0,1,0,0,0,1]:i,o=r.isTransposed,s=void 0!==o&&o;this.start=r.start,this.end=e,this.matrix=a,this.originalMatrix=Ku([],a),this.isTransposed=s}return n.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},n.prototype.update=function(r){(0,c.f0)(this,r),this.initial()},n.prototype.convertDim=function(r,t){var e,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(a=(e=[o,a])[0],o=e[1]),a+r*(o-a)},n.prototype.invertDim=function(r,t){var e,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(a=(e=[o,a])[0],o=e[1]),(r-a)/(o-a)},n.prototype.applyMatrix=function(r,t,e){void 0===e&&(e=0);var a=[r,t,e];return fi(a,a,this.matrix),a},n.prototype.invertMatrix=function(r,t,e){void 0===e&&(e=0);var a=rg.U_([0,0,0,0,0,0,0,0,0],this.matrix),o=[r,t,e];return a&&fi(o,o,a),o},n.prototype.convert=function(r){var t=this.convertPoint(r),a=this.applyMatrix(t.x,t.y,1);return{x:a[0],y:a[1]}},n.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},n.prototype.rotate=function(r){var t=this.matrix,e=this.center;return Ae.m$(t,t,[-e.x,-e.y]),Ae.zu(t,t,r),Ae.m$(t,t,[e.x,e.y]),this},n.prototype.reflect=function(r){return"x"===r?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},n.prototype.scale=function(r,t){var e=this.matrix,i=this.center;return Ae.m$(e,e,[-i.x,-i.y]),Ae.lh(e,e,[r,t]),Ae.m$(e,e,[i.x,i.y]),this},n.prototype.translate=function(r,t){var e=this.matrix;return Ae.m$(e,e,[r,t]),this},n.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},n.prototype.getCenter=function(){return this.center},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRadius=function(){return this.radius},n.prototype.isReflect=function(r){return"x"===r?this.isReflectX:this.isReflectY},n.prototype.resetMatrix=function(r){this.matrix=r||Ku([],this.originalMatrix)},n}();const $o=ng;var ig=function(n){function r(t){var e=n.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}return Qo(r,n),r.prototype.initial=function(){n.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},r.prototype.convertPoint=function(t){var e,i=t.x,a=t.y;return this.isTransposed&&(i=(e=[a,i])[0],a=e[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},r.prototype.invertPoint=function(t){var e,i=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(i=(e=[a,i])[0],a=e[1]),{x:i,y:a}},r}($o);const eh=ig;var xe=K(8235),ag=function(n){function r(t){var e=n.call(this,t)||this;e.isHelix=!0,e.type="helix";var i=t.startAngle,a=void 0===i?1.25*Math.PI:i,o=t.endAngle,s=void 0===o?7.25*Math.PI:o,l=t.innerRadius,u=void 0===l?0:l,h=t.radius;return e.startAngle=a,e.endAngle=s,e.innerRadius=u,e.radius=h,e.initial(),e}return Qo(r,n),r.prototype.initial=function(){n.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},r.prototype.convertPoint=function(t){var e,i=t.x,a=t.y;this.isTransposed&&(i=(e=[a,i])[0],a=e[1]);var o=this.convertDim(i,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},r.prototype.invertPoint=function(t){var e,i=this.d+this.y.start,a=xe.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Ae.Dg(a,[1,0],!0),s=o*this.a;xe.kE(a)<s&&(s=xe.kE(a)),o=2*Math.floor((xe.kE(a)-s)/i)*Math.PI+o;var u=this.a*o,h=xe.kE(a)-u;h=(0,c.vQ)(h,0)?0:h;var f=this.invertDim(o,"x"),v=this.invertDim(h,"y");return f=(0,c.vQ)(f,0)?0:f,v=(0,c.vQ)(v,0)?0:v,this.isTransposed&&(f=(e=[v,f])[0],v=e[1]),{x:f,y:v}},r}($o);const og=ag;var sg=function(n){function r(t){var e=n.call(this,t)||this;e.isPolar=!0,e.type="polar";var i=t.startAngle,a=void 0===i?-Math.PI/2:i,o=t.endAngle,s=void 0===o?3*Math.PI/2:o,l=t.innerRadius,u=void 0===l?0:l,h=t.radius;return e.startAngle=a,e.endAngle=s,e.innerRadius=u,e.radius=h,e.initial(),e}return Qo(r,n),r.prototype.initial=function(){for(n.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var s,t=this.getOneBox(),e=t.maxX-t.minX,i=t.maxY-t.minY,a=Math.abs(t.minX)/e,o=Math.abs(t.minY)/i;this.circleCenter=this.height/i>this.width/e?{x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*(s=this.width/e)*i}:{x:this.center.x-(.5-a)*(s=this.height/i)*e,y:this.center.y-(.5-o)*this.height},this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var e,i=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(a=(e=[o,a])[0],o=e[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},r.prototype.invertPoint=function(t){var e,i=this.getCenter(),a=[t.x-i.x,t.y-i.y],s=this.startAngle,l=this.endAngle;this.isReflect("x")&&(s=(e=[l,s])[0],l=e[1]);var u=[1,0,0,0,1,0,0,0,1];Ae.zu(u,u,s);var h=[1,0,0];fi(h,h,u);var v=Ae.Dg([h[0],h[1]],a,l<s);(0,c.vQ)(v,2*Math.PI)&&(v=0);var g=xe.kE(a),d=v/(l-s);d=l-s>0?d:-d;var x=this.invertDim(g,"y"),A={x:0,y:0};return A.x=this.isTransposed?x:d,A.y=this.isTransposed?d:x,A},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(e)],a=[0,Math.sin(t),Math.sin(e)],o=Math.min(t,e);o<Math.max(t,e);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},r}($o);const lg=sg;var rh={},Sa=function(n,r){rh[n.toLowerCase()]=r};Sa("rect",eh),Sa("cartesian",eh),Sa("polar",lg),Sa("helix",og);var Ko=function(n,r){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function Ce(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}Ko(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Gt=function(){return Gt=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},Gt.apply(this,arguments)};function ts(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(e=Object.getOwnPropertySymbols(n);i<e.length;i++)r.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(t[e[i]]=n[e[i]])}return t}function es(){for(var n=0,r=0,t=arguments.length;r<t;r++)n+=arguments[r].length;var e=Array(n),i=0;for(r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)e[i]=a[o];return e}var vi="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",fg=new RegExp("([a-z])["+vi+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+vi+"]*,?["+vi+"]*)+)","ig"),vg=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+vi+"]*,?["+vi+"]*","ig"),pi=function(n){if(!n)return null;if((0,c.kJ)(n))return n;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(n).replace(fg,function(e,i,a){var o=[],s=i.toLowerCase();if(a.replace(vg,function(l,u){u&&o.push(+u)}),"m"===s&&o.length>2&&(t.push([i].concat(o.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===o.length&&t.push([i,o[0]]),"r"===s)t.push([i].concat(o));else for(;o.length>=r[s]&&(t.push([i].concat(o.splice(0,r[s]))),r[s]););return n}),t},Ag=function(n,r){if(n.length!==r.length)return!1;var t=!0;return(0,c.S6)(n,function(e,i){if(e!==r[i])return t=!1,!1}),t};function Tg(n,r,t){var e=null,i=t;return r<i&&(i=r,e="add"),n<i&&(i=n,e="del"),{type:e,min:i}}var _g=function(n,r){var t=function(n,r){var i,t=n.length,e=r.length,o=0;if(0===t||0===e)return null;for(var s=[],l=0;l<=t;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=e;u++)s[0][u]={min:u};for(l=1;l<=t;l++)for(i=n[l-1],u=1;u<=e;u++)o=Ag(i,r[u-1])?0:1,s[l][u]=Tg(s[l-1][u].min+1,s[l][u-1].min+1,s[l-1][u-1].min+o);return s}(n,r),e=n.length,i=r.length,a=[],o=1,s=1;if(t[e][i].min!==e){for(var l=1;l<=e;l++){var u=t[l][l].min;s=l;for(var h=o;h<=i;h++)t[l][h].min<u&&(u=t[l][h].min,s=h);t[l][o=s].type&&a.push({index:l-1,type:t[l][o].type})}for(l=a.length-1;l>=0;l--)o=a[l].index,"add"===a[l].type?n.splice(o,0,[].concat(n[o])):n.splice(o,1)}var f=i-(e=n.length);if(e<i)for(l=0;l<f;l++)"z"===n[e-1][0]||"Z"===n[e-1][0]?n.splice(e-2,0,n[e-2]):n.push(n[e-1]),e+=1;return n};function ns(n,r,t){for(var i,e=[].concat(n),a=1/(t+1),o=ph(r)[0],s=1;s<=t;s++)a*=s,0===(i=Math.floor(n.length*a))?e.unshift([o[0]*a+n[i][0]*(1-a),o[1]*a+n[i][1]*(1-a)]):e.splice(i,0,[o[0]*a+n[i][0]*(1-a),o[1]*a+n[i][1]*(1-a)]);return e}function ph(n){var r=[];switch(n[0]){case"M":case"L":case"T":r.push([n[1],n[2]]);break;case"A":r.push([n[6],n[7]]);break;case"Q":case"S":r.push([n[3],n[4]]),r.push([n[1],n[2]]);break;case"C":r.push([n[5],n[6]]),r.push([n[1],n[2]]),r.push([n[3],n[4]]);break;case"H":case"V":r.push([n[1],n[1]])}return r}var gh=function(n,r){if(n.length<=1)return n;for(var t,e=0;e<r.length;e++)if(n[e][0]!==r[e][0])switch(t=ph(n[e]),r[e][0]){case"M":n[e]=["M"].concat(t[0]);break;case"L":n[e]=["L"].concat(t[0]);break;case"A":n[e]=[].concat(r[e]),n[e][6]=t[0][0],n[e][7]=t[0][1];break;case"Q":if(t.length<2){if(!(e>0)){n[e]=r[e];break}t=ns(t,n[e-1],1)}n[e]=["Q"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"T":n[e]=["T"].concat(t[0]);break;case"C":if(t.length<3){if(!(e>0)){n[e]=r[e];break}t=ns(t,n[e-1],2)}n[e]=["C"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;case"S":if(t.length<2){if(!(e>0)){n[e]=r[e];break}t=ns(t,n[e-1],1)}n[e]=["S"].concat(t.reduce(function(i,a){return i.concat(a)},[]));break;default:n[e]=r[e]}return n},Lg=function(){function n(r,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=r,this.name=r,this.originalEvent=t,this.timeStamp=t.timeStamp}return n.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n.prototype.toString=function(){return"[Event (type="+this.type+")]"},n.prototype.save=function(){},n.prototype.restore=function(){},n}();const dh=Lg;function yh(n,r){var t=n.indexOf(r);-1!==t&&n.splice(t,1)}var mh="undefined"!=typeof window&&void 0!==window.document;function xh(n,r){if(n.isCanvas())return!0;for(var t=r.getParent(),e=!1;t;){if(t===n){e=!0;break}t=t.getParent()}return e}function wh(n){return n.cfg.visible&&n.cfg.capture}var Pg=function(n){function r(t){var e=n.call(this)||this;e.destroyed=!1;var i=e.getDefaultCfg();return e.cfg=(0,c.CD)(i,t),e}return Ce(r,n),r.prototype.getDefaultCfg=function(){return{}},r.prototype.get=function(t){return this.cfg[t]},r.prototype.set=function(t,e){this.cfg[t]=e},r.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},r}(qi.Z);const Ch=Pg;var Mh=K(2260);function bh(n,r){var t=[],e=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],h=n[7],f=n[8],v=r[0],g=r[1],d=r[2],x=r[3],A=r[4],E=r[5],R=r[6],I=r[7],D=r[8];return t[0]=v*e+g*o+d*u,t[1]=v*i+g*s+d*h,t[2]=v*a+g*l+d*f,t[3]=x*e+A*o+E*u,t[4]=x*i+A*s+E*h,t[5]=x*a+A*l+E*f,t[6]=R*e+I*o+D*u,t[7]=R*i+I*s+D*h,t[8]=R*a+I*l+D*f,t}function Bn(n,r){var t=[],e=r[0],i=r[1];return t[0]=n[0]*e+n[3]*i+n[6],t[1]=n[1]*e+n[4]*i+n[7],t}var gi=Ae.vs,is="matrix",Bg=["zIndex","capture","visible","type"],Ig=["repeat"];function Rg(n,r){var t={},e=r.attrs;for(var i in n)t[i]=e[i];return t}function Yg(n,r){var t={},e=r.attr();return(0,c.S6)(n,function(i,a){-1===Ig.indexOf(a)&&!(0,c.Xy)(e[a],i)&&(t[a]=i)}),t}function Gg(n,r){if(r.onFrame)return n;var t=r.startTime,e=r.delay,i=r.duration,a=Object.prototype.hasOwnProperty;return(0,c.S6)(n,function(o){t+e<o.startTime+o.delay+o.duration&&i>o.delay&&(0,c.S6)(r.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),n}var Hg=function(n){function r(t){var e=n.call(this,t)||this;e.attrs={};var i=e.getDefaultAttrs();return(0,c.CD)(i,t.attrs),e.attrs=i,e.initAttrs(i),e.initAnimate(),e}return Ce(r,n),r.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},r.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},r.prototype.onCanvasChange=function(t){},r.prototype.initAttrs=function(t){},r.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},r.prototype.isGroup=function(){return!1},r.prototype.getParent=function(){return this.get("parent")},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.attr=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=e[0],o=e[1];if(!a)return this.attrs;if((0,c.Kn)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return 2===e.length?(this.setAttr(a,o),this.afterAttrsChange(((t={})[a]=o,t)),this):this.attrs[a]},r.prototype.isClipped=function(t,e){var i=this.getClip();return i&&!i.isHit(t,e)},r.prototype.setAttr=function(t,e){var i=this.attrs[t];i!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,i))},r.prototype.onAttrChange=function(t,e,i){"matrix"===t&&this.set("totalMatrix",null)},r.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},r.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},r.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},r.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},r.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),a=(this.get("el"),e.indexOf(this));e.splice(a,1),e.push(this),this.onCanvasChange("zIndex")}},r.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),a=(this.get("el"),e.indexOf(this));e.splice(a,1),e.unshift(this),this.onCanvasChange("zIndex")}},r.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(yh(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},r.prototype.resetMatrix=function(){this.attr(is,this.getDefaultMatrix()),this.onCanvasChange("matrix")},r.prototype.getMatrix=function(){return this.attr(is)},r.prototype.setMatrix=function(t){this.attr(is,t),this.onCanvasChange("matrix")},r.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),i=this.cfg.parentMatrix;t=i&&e?bh(i,e):e||i,this.set("totalMatrix",t)}return t},r.prototype.applyMatrix=function(t){var i,e=this.attr("matrix");i=t&&e?bh(t,e):e||t,this.set("totalMatrix",i),this.set("parentMatrix",t)},r.prototype.getDefaultMatrix=function(){return null},r.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Bn(e,t):t},r.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var i=function(n){var r=[],t=n[0],e=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6],u=n[7],h=n[8],f=h*o-s*u,v=-h*a+s*l,g=u*a-o*l,d=t*f+e*v+i*g;return d?(r[0]=f*(d=1/d),r[1]=(-h*e+i*u)*d,r[2]=(s*e-i*o)*d,r[3]=v*d,r[4]=(h*t-i*l)*d,r[5]=(-s*t+i*a)*d,r[6]=g*d,r[7]=(-u*t+e*l)*d,r[8]=(o*t-e*a)*d,r):null}(e);if(i)return Bn(i,t)}return t},r.prototype.setClip=function(t){var e=this.getCanvas(),i=null;if(t){var s=this.getShapeBase()[(0,c.jC)(t.type)];s&&(i=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",i),this.onCanvasChange("clip"),i},r.prototype.getClip=function(){return this.cfg.clipShape||null},r.prototype.clone=function(){var t=this,e=this.attrs,i={};(0,c.S6)(e,function(s,l){i[l]=(0,c.kJ)(e[l])?function(n){for(var r=[],t=0;t<n.length;t++)(0,c.kJ)(n[t])?r.push([].concat(n[t])):r.push(n[t]);return r}(e[l]):e[l]});var o=new(0,this.constructor)({attrs:i});return(0,c.S6)(Bg,function(s){o.set(s,t.get(s))}),o},r.prototype.destroy=function(){this.destroyed||(this.attrs={},n.prototype.destroy.call(this))},r.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},r.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var i=this.get("timeline");i||(i=this.get("canvas").get("timeline"),this.set("timeline",i));var a=this.get("animations")||[];i.timer||i.initTimer();var d,x,A,E,R,o=t[0],s=t[1],l=t[2],u=void 0===l?"easeLinear":l,h=t[3],f=void 0===h?c.ZT:h,v=t[4],g=void 0===v?0:v;(0,c.mf)(o)?(d=o,o={}):(0,c.Kn)(o)&&o.onFrame&&(d=o.onFrame,x=o.repeat),(0,c.Kn)(s)?(s=(R=s).duration,u=R.easing||"easeLinear",g=R.delay||0,x=R.repeat||x||!1,f=R.callback||c.ZT,A=R.pauseCallback||c.ZT,E=R.resumeCallback||c.ZT):((0,c.hj)(f)&&(g=f,f=null),(0,c.mf)(u)?(f=u,u="easeLinear"):u=u||"easeLinear");var I=Yg(o,this),D={fromAttrs:Rg(I,this),toAttrs:I,duration:s,easing:u,repeat:x,callback:f,pauseCallback:A,resumeCallback:E,delay:g,startTime:i.getTime(),id:(0,c.EL)(),onFrame:d,pathFormatted:!1};a.length>0?a=Gg(a,D):i.addAnimator(this),a.push(D),this.set("animations",a),this.set("_pause",{isPaused:!1})}},r.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var i=this.get("animations");(0,c.S6)(i,function(a){t&&e.attr(a.onFrame?a.onFrame(1):a.toAttrs),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},r.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),i=t.getTime();return(0,c.S6)(e,function(a){a._paused=!0,a._pauseTime=i,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:i}),this},r.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),i=this.get("animations"),a=this.get("_pause").pauseTime;return(0,c.S6)(i,function(o){o.startTime=o.startTime+(e-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",i),this},r.prototype.emitDelegation=function(t,e){var s,i=this,a=e.propagationPath;this.getEvents(),"mouseenter"===t?s=e.fromShape:"mouseleave"===t&&(s=e.toShape);for(var l=function(v){var g=a[v],d=g.get("name");if(d){if((g.isGroup()||g.isCanvas&&g.isCanvas())&&s&&xh(g,s))return"break";(0,c.kJ)(d)?(0,c.S6)(d,function(x){i.emitDelegateEvent(g,x,e)}):u.emitDelegateEvent(g,d,e)}},u=this,h=0;h<a.length&&"break"!==l(h);h++);},r.prototype.emitDelegateEvent=function(t,e,i){var a=this.getEvents(),o=e+":"+i.type;(a[o]||a["*"])&&(i.name=o,i.currentTarget=t,i.delegateTarget=this,i.delegateObject=t.get("delegateObject"),this.emit(o,i))},r.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.getMatrix(),a=gi(i,[["t",t,e]]);return this.setMatrix(a),this},r.prototype.move=function(t,e){var i=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-i,e-a),this},r.prototype.moveTo=function(t,e){return this.move(t,e)},r.prototype.scale=function(t,e){var i=this.getMatrix(),a=gi(i,[["s",t,e||t]]);return this.setMatrix(a),this},r.prototype.rotate=function(t){var e=this.getMatrix(),i=gi(e,[["r",t]]);return this.setMatrix(i),this},r.prototype.rotateAtStart=function(t){var e=this.attr(),i=e.x,a=e.y,o=this.getMatrix(),s=gi(o,[["t",-i,-a],["r",t],["t",i,a]]);return this.setMatrix(s),this},r.prototype.rotateAtPoint=function(t,e,i){var a=this.getMatrix(),o=gi(a,[["t",-t,-e],["r",i],["t",t,e]]);return this.setMatrix(o),this},r}(Ch);const Sh=Hg;var Ah={},as="_INDEX";function Th(n,r){if(n.set("canvas",r),n.isGroup()){var t=n.get("children");t.length&&t.forEach(function(e){Th(e,r)})}}function Eh(n,r){if(n.set("timeline",r),n.isGroup()){var t=n.get("children");t.length&&t.forEach(function(e){Eh(e,r)})}}var Xg=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var t=1/0,e=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(h){return h.get("visible")&&(!h.isGroup()||h.isGroup()&&h.getChildren().length>0)});return l.length>0?((0,c.S6)(l,function(h){var f=h.getBBox();o.push(f.minX,f.maxX),s.push(f.minY,f.maxY)}),t=(0,c.VV)(o),e=(0,c.Fp)(o),i=(0,c.VV)(s),a=(0,c.Fp)(s)):(t=0,e=0,i=0,a=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:a,width:e-t,height:a-i}},r.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,i=1/0,a=-1/0,o=[],s=[],l=this.getChildren().filter(function(h){return h.get("visible")&&(!h.isGroup()||h.isGroup()&&h.getChildren().length>0)});return l.length>0?((0,c.S6)(l,function(h){var f=h.getCanvasBBox();o.push(f.minX,f.maxX),s.push(f.minY,f.maxY)}),t=(0,c.VV)(o),e=(0,c.Fp)(o),i=(0,c.VV)(s),a=(0,c.Fp)(s)):(t=0,e=0,i=0,a=0),{x:t,y:i,minX:t,minY:i,maxX:e,maxY:a,width:e-t,height:a-i}},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.children=[],t},r.prototype.onAttrChange=function(t,e,i){if(n.prototype.onAttrChange.call(this,t,e,i),"matrix"===t){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},r.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();n.prototype.applyMatrix.call(this,t);var i=this.getTotalMatrix();i!==e&&this._applyChildrenMarix(i)},r.prototype._applyChildrenMarix=function(t){var e=this.getChildren();(0,c.S6)(e,function(i){i.applyMatrix(t)})},r.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],a=t[1];(0,c.Kn)(i)?a=i:a.type=i;var o=Ah[a.type];o||(o=(0,c.jC)(a.type),Ah[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},r.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o,i=t[0],a=t[1];if((0,c.mf)(i))o=new i(a||{parent:this});else{var s=i||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},r.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},r.prototype.getShape=function(t,e,i){if(!wh(this))return null;var o,a=this.getChildren();if(this.isCanvas())o=this._findShape(a,t,e,i);else{var s=[t,e,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],i))}return o},r.prototype._findShape=function(t,e,i,a){for(var o=null,s=t.length-1;s>=0;s--){var l=t[s];if(wh(l)&&(l.isGroup()?o=l.getShape(e,i,a):l.isHit(e,i)&&(o=l)),o)break}return o},r.prototype.add=function(t){var e=this.getCanvas(),i=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&function(n,r,t){void 0===t&&(t=!0),t?r.destroy():(r.set("parent",null),r.set("canvas",null)),yh(n.getChildren(),r)}(o,t,!1),t.set("parent",this),e&&Th(t,e),a&&Eh(t,a),i.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},r.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var t=this.getChildren();(0,c.S6)(t,function(e,i){return e[as]=i,e}),t.sort(function(r,t){var e=function(e,i){return e.get("zIndex")-i.get("zIndex")}(r,t);return 0===e?r[as]-t[as]:e}),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),n.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},r.prototype.getChildByIndex=function(t){return this.getChildren()[t]},r.prototype.getCount=function(){return this.getChildren().length},r.prototype.contain=function(t){return this.getChildren().indexOf(t)>-1},r.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},r.prototype.findAll=function(t){var e=[],i=this.getChildren();return(0,c.S6)(i,function(a){t(a)&&e.push(a),a.isGroup()&&(e=e.concat(a.findAll(t)))}),e},r.prototype.find=function(t){var e=null,i=this.getChildren();return(0,c.S6)(i,function(a){if(t(a)?e=a:a.isGroup()&&(e=a.find(t)),e)return!1}),e},r.prototype.findById=function(t){return this.find(function(e){return e.get("id")===t})},r.prototype.findByClassName=function(t){return this.find(function(e){return e.get("className")===t})},r.prototype.findAllByName=function(t){return this.findAll(function(e){return e.get("name")===t})},r}(Sh);const _h=Xg;var Vg=K(9194),Lh=K(6399),Ph=K(5386),zg=K(268),Zg=function(n){return["fill","stroke","fillStyle","strokeStyle"].includes(n)},Wg=function(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)},Oh=[1,0,0,0,1,0,0,0,1];function qg(n,r,t){var e=r.startTime;if(t<e+r.delay||r._paused)return!1;var a,o=r.duration,s=r.easing;if(t=t-e-r.delay,r.repeat)a=Lh[s](a=t%o/o);else{if(!((a=t/o)<1))return n.attr(r.onFrame?r.onFrame(1):r.toAttrs),!0;a=Lh[s](a)}if(r.onFrame){var l=r.onFrame(a);n.attr(l)}else!function(n,r,t){var e={},i=r.fromAttrs,a=r.toAttrs;if(!n.destroyed){var o;for(var s in a)if(!(0,c.Xy)(i[s],a[s]))if("path"===s){var l=a[s],u=i[s];l.length>u.length?(l=pi(a[s]),u=pi(i[s]),u=_g(u,l),u=gh(u,l),r.fromAttrs.path=u,r.toAttrs.path=l):r.pathFormatted||(l=pi(a[s]),u=pi(i[s]),u=gh(u,l),r.fromAttrs.path=u,r.toAttrs.path=l,r.pathFormatted=!0),e[s]=[];for(var h=0;h<l.length;h++){for(var f=l[h],v=u[h],g=[],d=0;d<f.length;d++)(0,c.hj)(f[d])&&v&&(0,c.hj)(v[d])?(o=(0,Ph.Z)(v[d],f[d]),g.push(o(t))):g.push(f[d]);e[s].push(g)}}else if("matrix"===s){var A=(0,zg.Z)(i[s]||Oh,a[s]||Oh)(t);e[s]=A}else Zg(s)&&Wg(a[s])?e[s]=a[s]:(0,c.mf)(a[s])||(o=(0,Ph.Z)(i[s],a[s]),e[s]=o(t));n.attr(e)}}(n,r,a);return!1}var Jg=function(){function n(r){this.animators=[],this.current=0,this.timer=null,this.canvas=r}return n.prototype.initTimer=function(){var e,i,a,r=this;this.timer=Vg.HT(function(o){if(r.current=o,r.animators.length>0){for(var s=r.animators.length-1;s>=0;s--)if((e=r.animators[s]).destroyed)r.removeAnimator(s);else{if(!e.isAnimatePaused())for(var l=(i=e.get("animations")).length-1;l>=0;l--)qg(e,a=i[l],o)&&(i.splice(l,1),a.callback&&a.callback());0===i.length&&r.removeAnimator(s)}r.canvas.get("autoDraw")||r.canvas.draw()}})},n.prototype.addAnimator=function(r){this.animators.push(r)},n.prototype.removeAnimator=function(r){this.animators.splice(r,1)},n.prototype.isAnimating=function(){return!!this.animators.length},n.prototype.stop=function(){this.timer&&this.timer.stop()},n.prototype.stopAllAnimations=function(r){void 0===r&&(r=!0),this.animators.forEach(function(t){t.stopAnimate(r)}),this.animators=[],this.canvas.draw()},n.prototype.getTime=function(){return this.current},n}();const Qg=Jg;var Ih=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Dh(n,r,t){t.name=r,t.target=n,t.currentTarget=n,t.delegateTarget=n,n.emit(r,t)}function td(n,r,t){if(t.bubbles){var e=void 0,i=!1;if("mouseenter"===r?(e=t.fromShape,i=!0):"mouseleave"===r&&(i=!0,e=t.toShape),n.isCanvas()&&i)return;if(e&&xh(n,e))return void(t.bubbles=!1);t.name=r,t.currentTarget=n,t.delegateTarget=n,n.emit(r,t)}}var ed=function(){function n(r){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(e){t._triggerEvent(e.type,e)},this._onDocumentMove=function(e){if(t.canvas.get("el")!==e.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(e);t.dragging&&t._emitEvent("drag",e,o,t.draggingShape)}},this._onDocumentMouseUp=function(e){if(t.canvas.get("el")!==e.target&&t.dragging){var o=t._getPointInfo(e);t.draggingShape&&t._emitEvent("drop",e,o,null),t._emitEvent("dragend",e,o,t.draggingShape),t._afterDrag(t.draggingShape,o,e)}},this.canvas=r.canvas}return n.prototype.init=function(){this._bindEvents()},n.prototype._bindEvents=function(){var r=this,t=this.canvas.get("el");(0,c.S6)(Ih,function(e){t.addEventListener(e,r._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},n.prototype._clearEvents=function(){var r=this,t=this.canvas.get("el");(0,c.S6)(Ih,function(e){t.removeEventListener(e,r._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},n.prototype._getEventObj=function(r,t,e,i,a,o){var s=new dh(r,t);return s.fromShape=a,s.toShape=o,s.x=e.x,s.y=e.y,s.clientX=e.clientX,s.clientY=e.clientY,s.propagationPath.push(i),s},n.prototype._getShape=function(r,t){return this.canvas.getShape(r.x,r.y,t)},n.prototype._getPointInfo=function(r){var t=this.canvas,e=t.getClientByEvent(r),i=t.getPointByEvent(r);return{x:i.x,y:i.y,clientX:e.x,clientY:e.y}},n.prototype._triggerEvent=function(r,t){var e=this._getPointInfo(t),i=this._getShape(e,t),a=this["_on"+r],o=!1;if(a)a.call(this,e,i,t);else{var s=this.currentShape;"mouseenter"===r||"dragenter"===r||"mouseover"===r?(this._emitEvent(r,t,e,null,null,i),i&&this._emitEvent(r,t,e,i,null,i),"mouseenter"===r&&this.draggingShape&&this._emitEvent("dragenter",t,e,null)):"mouseleave"===r||"dragleave"===r||"mouseout"===r?(o=!0,s&&this._emitEvent(r,t,e,s,s,null),this._emitEvent(r,t,e,null,s,null),"mouseleave"===r&&this.draggingShape&&this._emitEvent("dragleave",t,e,null)):this._emitEvent(r,t,e,i,null,null)}if(o||(this.currentShape=i),i&&!i.get("destroyed")){var l=this.canvas;l.get("el").style.cursor=i.attr("cursor")||l.get("cursor")}},n.prototype._onmousedown=function(r,t,e){0===e.button&&(this.mousedownShape=t,this.mousedownPoint=r,this.mousedownTimeStamp=e.timeStamp),this._emitEvent("mousedown",e,r,t,null,null)},n.prototype._emitMouseoverEvents=function(r,t,e,i){var a=this.canvas.get("el");e!==i&&(e&&(this._emitEvent("mouseout",r,t,e,e,i),this._emitEvent("mouseleave",r,t,e,e,i),(!i||i.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",r,t,i,e,i),this._emitEvent("mouseenter",r,t,i,e,i)))},n.prototype._emitDragoverEvents=function(r,t,e,i,a){i?(i!==e&&(e&&this._emitEvent("dragleave",r,t,e,e,i),this._emitEvent("dragenter",r,t,i,e,i)),a||this._emitEvent("dragover",r,t,i)):e&&this._emitEvent("dragleave",r,t,e,e,i),a&&this._emitEvent("dragover",r,t,i)},n.prototype._afterDrag=function(r,t,e){r&&(r.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(t,e);i!==r&&this._emitMouseoverEvents(e,t,r,i),this.currentShape=i},n.prototype._onmouseup=function(r,t,e){if(0===e.button){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",e,r,t),this._emitEvent("dragend",e,r,i),this._afterDrag(i,r,e)):(this._emitEvent("mouseup",e,r,t),t===this.mousedownShape&&this._emitEvent("click",e,r,t),this.mousedownShape=null,this.mousedownPoint=null)}},n.prototype._ondragover=function(r,t,e){e.preventDefault(),this._emitDragoverEvents(e,r,this.currentShape,t,!0)},n.prototype._onmousemove=function(r,t,e){var i=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(e,r,a,t,!1),this._emitEvent("drag",e,r,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,f=s.clientX-r.clientX,v=s.clientY-r.clientY;e.timeStamp-this.mousedownTimeStamp>120||f*f+v*v>40?l&&l.get("draggable")?((o=this.mousedownShape).set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",e,r,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",e,r,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t)):(this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t))}else this._emitMouseoverEvents(e,r,a,t),this._emitEvent("mousemove",e,r,t)}},n.prototype._emitEvent=function(r,t,e,i,a,o){var s=this._getEventObj(r,t,e,i,a,o);if(i){s.shape=i,Dh(i,r,s);for(var l=i.getParent();l;)l.emitDelegation(r,s),s.propagationStopped||td(l,r,s),s.propagationPath.push(l),l=l.getParent()}else Dh(this.canvas,r,s)},n.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},n}();const rd=ed;var kh=(0,Mh.qY)(),nd=kh&&"firefox"===kh.name;!function(n){function r(t){var e=n.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},r.prototype.initContainer=function(){var t=this.get("container");(0,c.HD)(t)&&(t=document.getElementById(t),this.set("container",t))},r.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},r.prototype.initEvents=function(){var t=new rd({canvas:this});t.init(),this.set("eventController",t)},r.prototype.initTimeline=function(){var t=new Qg(this);this.set("timeline",t)},r.prototype.setDOMSize=function(t,e){var i=this.get("el");mh&&(i.style.width=t+"px",i.style.height=e+"px")},r.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},r.prototype.getRenderer=function(){return this.get("renderer")},r.prototype.getCursor=function(){return this.get("cursor")},r.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");mh&&e&&(e.style.cursor=t)},r.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(nd&&!(0,c.UM)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,c.UM)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var i=this.getClientByEvent(t);return this.getPointByClient(i.x,i.y)},r.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},r.prototype.getPointByClient=function(t,e){var a=this.get("el").getBoundingClientRect();return{x:t-a.left,y:e-a.top}},r.prototype.getClientByPoint=function(t,e){var a=this.get("el").getBoundingClientRect();return{x:t+a.left,y:e+a.top}},r.prototype.draw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},r.prototype.clearEvents=function(){this.get("eventController").destroy()},r.prototype.isCanvas=function(){return!0},r.prototype.getParent=function(){return null},r.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),n.prototype.destroy.call(this))}}(_h),function(n){function r(){return null!==n&&n.apply(this,arguments)||this}Ce(r,n),r.prototype.isGroup=function(){return!0},r.prototype.isEntityGroup=function(){return!1},r.prototype.clone=function(){for(var t=n.prototype.clone.call(this),e=this.getChildren(),i=0;i<e.length;i++)t.add(e[i].clone());return t}}(_h),function(n){function r(t){return n.call(this,t)||this}Ce(r,n),r.prototype._isInBBox=function(t,e){var i=this.getBBox();return i.minX<=t&&i.maxX>=t&&i.minY<=e&&i.maxY>=e},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},r.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},r.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},r.prototype.applyMatrix=function(t){n.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},r.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),i=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(e){var l=Bn(e,[t.minX,t.minY]),u=Bn(e,[t.maxX,t.minY]),h=Bn(e,[t.minX,t.maxY]),f=Bn(e,[t.maxX,t.maxY]);i=Math.min(l[0],u[0],h[0],f[0]),o=Math.max(l[0],u[0],h[0],f[0]),a=Math.min(l[1],u[1],h[1],f[1]),s=Math.max(l[1],u[1],h[1],f[1])}var v=this.attrs;if(v.shadowColor){var g=v.shadowBlur,d=void 0===g?0:g,x=v.shadowOffsetX,A=void 0===x?0:x,E=v.shadowOffsetY,R=void 0===E?0:E,D=o+d+A,q=a-d+R,nt=s+d+R;i=Math.min(i,i-d+A),o=Math.max(o,D),a=Math.min(a,q),s=Math.max(s,nt)}return{x:i,y:a,minX:i,minY:a,maxX:o,maxY:s,width:o-i,height:s-a}},r.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},r.prototype.isClipShape=function(){return this.get("isClipShape")},r.prototype.isInShape=function(t,e){return!1},r.prototype.isOnlyHitBox=function(){return!1},r.prototype.isHit=function(t,e){var i=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,e,1],s=(o=this.invertFromMatrix(o))[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!(!u||this.isClipped(s,l)||!(this.isInShape(s,l)||i&&i.isHit(s,l)||a&&a.isHit(s,l)))}}(Sh);var Rh=new Map;function Er(n,r){Rh.set(n,r)}function Yh(n){var r=n.attr();return{x:r.x,y:r.y,width:r.width,height:r.height}}function Gh(n){var r=n.attr(),i=r.r;return{x:r.x-i,y:r.y-i,width:2*i,height:2*i}}var Xe=K(9174);function Hh(n,r){return n&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r}function os(n,r){var t=n.get("startArrowShape"),e=n.get("endArrowShape");return t&&(r=Hh(r,t.getCanvasBBox())),e&&(r=Hh(r,e.getCanvasBBox())),r}var ss=null;var pn=K(2759);function _a(n,r){var t=n.prePoint,e=n.currentPoint,i=n.nextPoint,a=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2),o=Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||0===Math.sin(l)||(0,c.vQ)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-e[1],i[0]-e[0])),h=Math.abs(Math.atan2(i[0]-e[0],i[1]-e[1]));return u=u>Math.PI/2?Math.PI-u:u,h=h>Math.PI/2?Math.PI-h:h,{xExtra:Math.cos(l/2-u)*(r/2*(1/Math.sin(l/2)))-r/2||0,yExtra:Math.cos(h-l/2)*(r/2*(1/Math.sin(l/2)))-r/2||0}}function Uh(n,r,t){var e=new dh(r,t);e.target=n,e.propagationPath.push(n),n.emitDelegation(r,e);for(var i=n.getParent();i;)i.emitDelegation(r,e),e.propagationPath.push(i),i=i.getParent()}Er("rect",Yh),Er("image",Yh),Er("circle",Gh),Er("marker",Gh),Er("polyline",function(n){for(var t=n.attr().points,e=[],i=[],a=0;a<t.length;a++){var o=t[a];e.push(o[0]),i.push(o[1])}var s=Xe.Zr.getBBoxByArray(e,i),l=s.x,u=s.y,v={minX:l,minY:u,maxX:l+s.width,maxY:u+s.height};return{x:(v=os(n,v)).minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}),Er("polygon",function(n){for(var t=n.attr().points,e=[],i=[],a=0;a<t.length;a++){var o=t[a];e.push(o[0]),i.push(o[1])}return Xe.Zr.getBBoxByArray(e,i)}),Er("text",function(n){var r=n.attr(),t=r.x,e=r.y,i=r.text,a=r.fontSize,o=r.lineHeight,s=r.font;s||(s=function(n){return[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize+"px",n.fontFamily].join(" ").trim()}(r));var u,l=function(n,r){var t=function(){if(!ss){var n=document.createElement("canvas");n.width=1,n.height=1,ss=n.getContext("2d")}return ss}(),e=0;if((0,c.UM)(n)||""===n)return e;if(t.save(),t.font=r,(0,c.HD)(n)&&n.includes("\n")){var i=n.split("\n");(0,c.S6)(i,function(a){var o=t.measureText(a).width;e<o&&(e=o)})}else e=t.measureText(n).width;return t.restore(),e}(i,s);if(l){var h=r.textAlign,f=r.textBaseline,v=function(n,r,t){var e=1;if((0,c.HD)(n)&&(e=n.split("\n").length),e>1){var i=function(n,r){return r?r-n:.14*n}(r,t);return r*e+i*(e-1)}return r}(i,a,o),g={x:t,y:e-v};h&&("end"===h||"right"===h?g.x-=l:"center"===h&&(g.x-=l/2)),f&&("top"===f?g.y+=v:"middle"===f&&(g.y+=v/2)),u={x:g.x,y:g.y,width:l,height:v}}else u={x:t,y:e,width:0,height:0};return u}),Er("path",function(n){var r=n.attr(),t=r.path,i=r.stroke?r.lineWidth:0,o=function(n,r){for(var t=[],e=[],i=[],a=0;a<n.length;a++){var s=(o=n[a]).currentPoint,l=o.params,u=o.prePoint,h=void 0;switch(o.command){case"Q":h=Xe.lD.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":h=Xe.Ll.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=o.arcParams;h=Xe.wN.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:t.push(s[0]),e.push(s[1])}h&&(o.box=h,t.push(h.x,h.x+h.width),e.push(h.y,h.y+h.height)),r&&("L"===o.command||"M"===o.command)&&o.prePoint&&o.nextPoint&&i.push(o)}t=t.filter(function(E){return!Number.isNaN(E)}),e=e.filter(function(E){return!Number.isNaN(E)});var v=(0,c.VV)(t),g=(0,c.VV)(e),d=(0,c.Fp)(t),x=(0,c.Fp)(e);if(0===i.length)return{x:v,y:g,width:d-v,height:x-g};for(a=0;a<i.length;a++){var o;(s=(o=i[a]).currentPoint)[0]===v?v-=_a(o,r).xExtra:s[0]===d&&(d+=_a(o,r).xExtra),s[1]===g?g-=_a(o,r).yExtra:s[1]===x&&(x+=_a(o,r).yExtra)}return{x:v,y:g,width:d-v,height:x-g}}(n.get("segments")||(0,pn.zx)(t),i),s=o.x,l=o.y,f={minX:s,minY:l,maxX:s+o.width,maxY:l+o.height};return{x:(f=os(n,f)).minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}),Er("line",function(n){var r=n.attr(),t=r.x1,e=r.y1,i=r.x2,a=r.y2,h={minX:Math.min(t,i),maxX:Math.max(t,i),minY:Math.min(e,a),maxY:Math.max(e,a)};return{x:(h=os(n,h)).minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}),Er("ellipse",function(n){var r=n.attr(),i=r.rx,a=r.ry;return{x:r.x-i,y:r.y-a,width:2*i,height:2*a}});var Nh=[1,0,0,0,1,0,0,0,1];function In(n,r,t){return void 0===t&&(t=Nh),r?Ae.vs(t,[["t",-n.x,-n.y],["r",r],["t",n.x,n.y]]):null}function ls(n,r){return n.x||n.y?Ae.vs(r||Nh,[["t",n.x,n.y]]):null}function La(n,r){var t=[0,0];return xe.kK(t,r,n),t}function Xh(n,r,t,e){if(r){var i=In({x:t,y:e},r,n.getMatrix());n.setMatrix(i)}}function di(n,r,t){var e=ls({x:r,y:t});n.attr("matrix",e)}function Pa(n){var r=0,t=0,e=0,i=0;return(0,c.hj)(n)?r=t=e=i=n:(0,c.kJ)(n)&&(r=n[0],e=(0,c.UM)(n[1])?n[0]:n[1],i=(0,c.UM)(n[2])?n[0]:n[2],t=(0,c.UM)(n[3])?e:n[3]),[r,e,i,t]}function us(n){for(var r=n.childNodes,e=r.length-1;e>=0;e--)n.removeChild(r[e])}function yi(n){var r=n.start,t=n.end,e=Math.min(r.x,t.x),i=Math.min(r.y,t.y),a=Math.max(r.x,t.x),o=Math.max(r.y,t.y);return{x:e,y:i,minX:e,minY:i,maxX:a,maxY:o,width:a-e,height:o-i}}function mi(n,r,t,e){var i=n+t,a=r+e;return{x:n,y:r,width:t,height:e,minX:n,minY:r,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function gn(n,r,t){return(1-t)*n+r*t}function Dn(n,r,t){return{x:n.x+Math.cos(t)*r,y:n.y+Math.sin(t)*r}}var Oa=function(n,r,t){return void 0===t&&(t=Math.pow(Number.EPSILON,.5)),[n,r].includes(1/0)?Math.abs(n)===Math.abs(r):Math.abs(n-r)<t};function Vh(n){var e,r=n.getClip(),t=r&&r.getBBox();if(n.isGroup()){var i=1/0,a=-1/0,o=1/0,s=-1/0,l=n.getChildren();l.length>0?(0,c.S6)(l,function(u){if(u.get("visible")){if(u.isGroup()&&0===u.get("children").length)return!0;var h=Vh(u),f=u.applyToMatrix([h.minX,h.minY,1]),v=u.applyToMatrix([h.minX,h.maxY,1]),g=u.applyToMatrix([h.maxX,h.minY,1]),d=u.applyToMatrix([h.maxX,h.maxY,1]),x=Math.min(f[0],v[0],g[0],d[0]),A=Math.max(f[0],v[0],g[0],d[0]),E=Math.min(f[1],v[1],g[1],d[1]),R=Math.max(f[1],v[1],g[1],d[1]);x<i&&(i=x),A>a&&(a=A),E<o&&(o=E),R>s&&(s=R)}}):(i=0,a=0,o=0,s=0),e=mi(i,o,a-i,s-o)}else e=n.getBBox();return t?function(n,r){var t=Math.max(n.minX,r.minX),e=Math.max(n.minY,r.minY);return mi(t,e,Math.min(n.maxX,r.maxX)-t,Math.min(n.maxY,r.maxY)-e)}(e,t):e}function er(n){return n+"px"}function zh(n,r,t,e){var i=function(n,r){var t=r.x-n.x,e=r.y-n.y;return Math.sqrt(t*t+e*e)}(n,r),a=e/i,o=0;return"start"===t?o=0-a:"end"===t&&(o=1+a),{x:gn(n.x,r.x,o),y:gn(n.y,r.y,o)}}var bd={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Sd=function(n){function r(t){var e=n.call(this,t)||this;return e.initCfg(),e}return Ce(r,n),r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var e=this,i=this.get("defaultCfg");(0,c.S6)(t,function(a,o){var l=a;e.get(o)!==a&&((0,c.Kn)(a)&&i[o]&&(l=(0,c.b$)({},i[o],a)),e.set(o,l))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,c.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,c.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},r.prototype.setLocation=function(t){var e=Gt({},t);this.update(e)},r.prototype.getLocation=function(){var t=this,e={},i=this.get("locationType");return(0,c.S6)(bd[i],function(o){e[o]=t.get(o)}),e},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");(0,c.S6)(e,function(i,a){var o=t.get(a);if((0,c.Kn)(o)){var s=(0,c.b$)({},i,o);t.set(a,s)}})},r}(Ch);const Zh=Sd;var dn="update_status",Ad=["visible","tip","delegateObject"],Td=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Ed=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear(),this.get("group").remove()},r.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},r.prototype.getElementsByName=function(t){var e=[];return(0,c.S6)(this.get("shapesMap"),function(i){i.get("name")===t&&e.push(i)}),e},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},r.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),n.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(e=function(n,r){var t=La(n,[r.minX,r.minY]),e=La(n,[r.maxX,r.minY]),i=La(n,[r.minX,r.maxY]),a=La(n,[r.maxX,r.maxY]),o=Math.min(t[0],e[0],i[0],a[0]),s=Math.max(t[0],e[0],i[0],a[0]),l=Math.min(t[1],e[1],i[1],a[1]),u=Math.max(t[1],e[1],i[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}(i,e)),e},r.prototype.on=function(t,e,i){return this.get("group").on(t,e,i),this},r.prototype.off=function(t,e){var i=this.get("group");return i&&i.off(t,e),this},r.prototype.emit=function(t,e){this.get("group").emit(t,e)},r.prototype.init=function(){n.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,e){var i=this.get("group");e.target=i,i.emit(t,e),Uh(i,t,e)},r.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},r.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Vh(t)),t},r.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var i=t.addGroup(e);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var i=t.addShape(e);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addComponent=function(t,e){var i=e.id,a=e.component,o=ts(e,["id","component"]),s=new a(Gt(Gt({},o),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){this.get("group").off()},r.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},r.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},r.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},r.prototype.moveElementTo=function(t,e){var i=ls(e);t.attr("matrix",i)},r.prototype.addAnimation=function(t,e,i){var a=e.attr("opacity");(0,c.UM)(a)&&(a=1),e.attr("opacity",0),e.animate({opacity:a},i)},r.prototype.removeAnimation=function(t,e,i){e.animate({opacity:0},i)},r.prototype.updateAnimation=function(t,e,i,a){e.animate(i,a)},r.prototype.updateElements=function(t,e){var l,i=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0);(0,c.S6)(s,function(u){var h=u.get("id"),f=i.getElementById(h),v=u.get("name");if(f)if(u.get("isComponent")){var g=u.get("component"),d=f.get("component"),x=(0,c.ei)(g.cfg,(0,c.e5)((0,c.XP)(g.cfg),Td));d.update(x),f.set(dn,"update")}else{var A=i.getReplaceAttrs(f,u);a&&o.update?i.updateAnimation(v,f,A,o.update):f.attr(A),u.isGroup()&&i.updateElements(u,f),(0,c.S6)(Ad,function(D){f.set(D,u.get(D))}),function(n,r){if(n.getClip()||r.getClip()){var t=r.getClip();if(!t)return void n.setClip(null);var e={type:t.get("type"),attrs:t.attr()};n.setClip(e)}}(f,u),l=f,f.set(dn,"update")}else{e.add(u);var E=e.getChildren();if(E.splice(E.length-1,1),l){var R=E.indexOf(l);E.splice(R+1,0,u)}else E.unshift(u);if(i.registerElement(u),u.set(dn,"add"),u.get("isComponent")?(g=u.get("component")).set("container",e):u.isGroup()&&i.registerNewGroup(u),l=u,a){var I=i.get("isInit")?o.appear:o.enter;I&&i.addAnimation(v,u,I)}}})},r.prototype.clearUpdateStatus=function(t){var e=t.getChildren();(0,c.S6)(e,function(i){i.set(dn,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},r.prototype.appendDelegateObject=function(t,e){var i=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),(0,c.CD)(e.delegateObject,i)},r.prototype.getReplaceAttrs=function(t,e){var i=t.attr(),a=e.attr();return(0,c.S6)(i,function(o,s){void 0===a[s]&&(a[s]=void 0)}),a},r.prototype.registerNewGroup=function(t){var e=this,i=t.getChildren();(0,c.S6)(i,function(a){e.registerElement(a),a.set(dn,"add"),a.isGroup()&&e.registerNewGroup(a)})},r.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),i=[];(0,c.S6)(e,function(s,l){!s.get(dn)||s.destroyed?i.push([l,s]):s.set(dn,null)});var a=this.get("animate"),o=this.get("animateOption");(0,c.S6)(i,function(s){var l=s[0],u=s[1];if(!u.destroyed){var h=u.get("name");if(a&&o.leave){var f=(0,c.CD)({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(h,u,f)}else t.removeElement(u)}delete e[l]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},r}(Zh);const Je=Ed;function yn(n,r){return n.charCodeAt(r)>0&&n.charCodeAt(r)<128?1:2}function cs(n){if(n.length>400)return function(n){for(var r=n.map(function(l){var u=l.attr("text");return(0,c.UM)(u)?"":""+u}),t=0,e=0,i=0;i<r.length;i+=1){for(var a=0,o=0;o<=r[i].length;o+=1){var s=r[i].charCodeAt(o);a+=s>=19968&&s<=40869?2:1}a>t&&(t=a,e=i)}return n[e].getBBox().width}(n);var r=0;return(0,c.S6)(n,function(t){var i=t.getBBox().width;r<i&&(r=i)}),r}function xi(n,r,t,e){var i;void 0===e&&(e="tail");var a=null!==(i=r.attr("text"))&&void 0!==i?i:"";if("tail"===e){var o=(0,c.ei)(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=(0,c.Lo)(a,t,o,"\u2026");return a!==s?(r.attr("text",s),r.set("tip",a),!0):(r.set("tip",null),!1)}var l=function(n,r){var t=r.getCanvasBBox();return n?t.width:t.height}(n,r),u=function(n){for(var r=0,t=0;t<n.length;t++)r+=yn(n,t);return r}(a),h=!1;if(t<l){var v,f=Math.floor(t/l*u)-2;v=f>=0?function(n,r,t){void 0===t&&(t="tail");var e=n.length,i="";if("tail"===t){for(var a=0,o=0;a<r&&a+yn(n,o)<=r;)i+=n[o],a+=yn(n,o),o++;i+="\u2026"}else if("head"===t){for(a=0,o=e-1;a<r&&a+yn(n,o)<=r;)i+=n[o],a+=yn(n,o),o--;i="\u2026"+i}else{for(var l="",u="",h=(a=0,0),f=e-1;a<r;){var v=yn(n,h),g=!1;v+a<=r&&(l+=n[h],h++,a+=v,g=!0);var d=yn(n,f);if(d+a<=r&&(u=n[f]+u,a+=d,f--,g=!0),!g)break}i=l+"\u2026"+u}return i}(a,f,e):"\u2026",v&&(r.attr("text",v),h=!0)}return r.set("tip",h?a:null),h}function Ba(n,r){var t=r.x,e=r.y,i=r.content,a=r.style,o=r.id,s=r.name,l=r.rotate,u=r.maxLength,h=r.autoEllipsis,f=r.isVertical,v=r.ellipsisPosition,g=r.background,d=n.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:e}}),x=d.addShape({type:"text",id:o,name:s,attrs:Gt({x:0,y:0,text:i},a)}),A=Pa((0,c.U2)(g,"padding",0));if(u&&h&&xi(!f,x,u-(A[1]+A[3]),v),g){var R=(0,c.U2)(g,"style",{}),I=x.getCanvasBBox();d.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:Gt({x:I.minX-A[3],y:I.minY-A[0],width:I.width+A[1]+A[3],height:I.height+A[0]+A[2]},R)}).toBack()}di(d,t,e),Xh(d,l,t,e)}const me={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4};var Fd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:me.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:me.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:me.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var e=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Gt({x1:e.x,y1:e.y,x2:i.x,y2:i.y},a)})},r.prototype.getLabelPoint=function(t,e,i){var a;return((a="start"===i?0:"center"===i?.5:(0,c.HD)(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:(0,c.hj)(i)?i:1)>1||a<0)&&(a=1),{x:gn(t.x,e.x,a),y:gn(t.y,e.y,a)}},r.prototype.renderLabel=function(t){var e=this.get("text"),i=this.get("start"),a=this.get("end"),s=e.content,l=e.style,u=e.offsetX,h=e.offsetY,f=e.autoRotate,v=e.maxLength,g=e.autoEllipsis,d=e.ellipsisPosition,x=e.background,A=e.isVertical,E=void 0!==A&&A,R=this.getLabelPoint(i,a,e.position),I=R.x+u,D=R.y+h,q={id:this.getElementId("line-text"),name:"annotation-line-text",x:I,y:D,content:s,style:l,maxLength:v,autoEllipsis:g,ellipsisPosition:d,background:x,isVertical:E};if(f){var nt=[a.x-i.x,a.y-i.y];q.rotate=Math.atan2(nt[1],nt[0])}Ba(t,q)},r}(Je);const kd=Fd;var Rd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:me.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:me.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var e=this.getLocation(),i=e.x,a=e.y,o=this.get("content"),s=this.get("style");Ba(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:i,y:a,content:o,style:s,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),i=e.x,a=e.y,o=this.get("rotate");di(t,i,a),Xh(t,o,i,a)}},r}(Je);const Yd=Rd;var Gd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=Dn(e,i,a),l=Dn(e,i,o),u=o-a>Math.PI?1:0,h=[["M",s.x,s.y]];if(o-a==2*Math.PI){var f=Dn(e,i,a+Math.PI);h.push(["A",i,i,0,u,1,f.x,f.y]),h.push(["A",i,i,0,u,1,l.x,l.y])}else h.push(["A",i,i,0,u,1,l.x,l.y]);return h},r.prototype.renderArc=function(t){var e=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Gt({path:e},i)})},r}(Je);const Hd=Gd;var Ud=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:me.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var e=this.get("start"),i=this.get("end"),a=this.get("style"),o=yi({start:e,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Gt({x:o.x,y:o.y,width:o.width,height:o.height},a)})},r}(Je);const Nd=Ud;var Xd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),i=this.get("style"),a=yi({start:t,end:e}),o=this.get("src");return Gt({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(Je);const Vd=Xd;var zd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:me.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:me.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:me.fontFamily}}}})},r.prototype.renderInner=function(t){(0,c.U2)(this.get("line"),"display")&&this.renderLine(t),(0,c.U2)(this.get("text"),"display")&&this.renderText(t),(0,c.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},r.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},r.prototype.renderText=function(t){var e=this.getShapeAttrs().text,i=e.x,a=e.y,o=e.text,s=ts(e,["x","y","text"]),l=this.get("text"),u=l.background,h=l.maxLength,f=l.autoEllipsis,v=l.isVertival,g=l.ellipsisPosition;Ba(t,{x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:h,autoEllipsis:f,isVertival:v,ellipsisPosition:g})},r.prototype.autoAdjust=function(t){var e=this.get("direction"),i=this.get("x"),a=this.get("y"),o=(0,c.U2)(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,h=l.maxX,f=l.minY,v=l.maxY,g=t.findById(this.getElementId("text-group")),d=t.findById(this.getElementId("text")),x=t.findById(this.getElementId("line"));if(s){if(g){if(i+u<=s.minX){var A=s.minX-(i+u);di(g,g.attr("x")+A,g.attr("y"))}i+h>=s.maxX&&(A=i+h-s.maxX,di(g,g.attr("x")-A,g.attr("y")))}if("upward"===e&&a+f<=s.minY||"upward"!==e&&a+v>=s.maxY){var E=void 0,R=void 0;"upward"===e&&a+f<=s.minY?(E="top",R=1):(E="bottom",R=-1),d.attr("textBaseline",E),x&&x.attr("path",[["M",0,0],["L",0,o*R]]),di(g,g.attr("x"),(o+2)*R)}}},r.prototype.getShapeAttrs=function(){var t=(0,c.U2)(this.get("line"),"display"),e=(0,c.U2)(this.get("point"),"style",{}),i=(0,c.U2)(this.get("line"),"style",{}),a=(0,c.U2)(this.get("text"),"style",{}),o=this.get("direction"),s=t?(0,c.U2)(this.get("line"),"length",0):0,l="upward"===o?-1:1;return{point:Gt({x:0,y:0},e),line:Gt({path:[["M",0,0],["L",0,s*l]]},i),text:Gt({x:0,y:(s+2)*l,text:(0,c.U2)(this.get("text"),"content",""),textBaseline:"upward"===o?"bottom":"top"},a)}},r}(Je);const Zd=zd;var Wd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:me.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:me.textColor,fontFamily:me.fontFamily}}}})},r.prototype.renderInner=function(t){var e=(0,c.U2)(this.get("region"),"style",{}),a=((0,c.U2)(this.get("text"),"style",{}),this.get("lineLength")||0),o=this.get("points");if(o.length){var s=function(n){var r=n.map(function(s){return s.x}),t=n.map(function(s){return s.y}),e=Math.min.apply(Math,r),i=Math.min.apply(Math,t),a=Math.max.apply(Math,r),o=Math.max.apply(Math,t);return{x:e,y:i,minX:e,minY:i,maxX:a,maxY:o,width:a-e,height:o-i}}(o),l=[];l.push(["M",o[0].x,s.minY-a]),o.forEach(function(h){l.push(["L",h.x,h.y])}),l.push(["L",o[o.length-1].x,o[o.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Gt({path:l},e)}),Ba(t,Gt({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-a},this.get("text")))}},r}(Je);const jd=Wd;var qd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var e=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,c.S6)(this.get("shapes"),function(l,u){var h=l.get("type"),f=(0,c.d9)(l.attr());e.adjustShapeAttrs(f),e.addShape(o,{id:e.getElementId("shape-"+h+"-"+u),capture:!1,type:h,attrs:f})});var s=yi({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},r.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},r}(Je);const Jd=qd;var Qd=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"shape",draw:c.ZT})},r.prototype.renderInner=function(t){var e=this.get("render");(0,c.mf)(e)&&e(t)},r}(Je);const $d=Qd;function rr(n,r,t){var e;try{e=window.getComputedStyle?window.getComputedStyle(n,null)[r]:n.style[r]}catch(i){}finally{e=void 0===e?t:e}return e}var n0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},r.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){this.getContainer().style.pointerEvents=t?"auto":"none",this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer();return mi(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){us(this.get("container"))},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),n.prototype.destroy.call(this)},r.prototype.init=function(){n.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,c.UM)(t)){t=this.createDom();var e=this.get("parent");(0,c.HD)(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.set("container",t)}else(0,c.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?(0,c.b$)({},e,t):e,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var i=this.get("containerClassName");i&&function(n,r){return!!n.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}(e,i)&&We(e,t[i])}},r.prototype.applyChildrenStyles=function(t,e){(0,c.S6)(e,function(i,a){var o=t.getElementsByClassName(a);(0,c.S6)(o,function(s){We(s,i)})})},r.prototype.applyStyle=function(t,e){We(e,this.get("domStyles")[t])},r.prototype.createDom=function(){return Sr(this.get("containerTpl"))},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,c.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(Zh);const fs=n0;var i0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),e=this.get("html");us(t);var i=(0,c.mf)(e)?e(t):e;(0,c.kK)(i)?t.appendChild(i):(0,c.HD)(i)&&t.appendChild(Sr(i)),this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),i=e.x,a=e.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),h=function(n,r){var t=function(n,r){var t=rr(n,"width",r);return"auto"===t&&(t=n.offsetWidth),parseFloat(t)}(n,r),e=parseFloat(rr(n,"borderLeftWidth"))||0,i=parseFloat(rr(n,"paddingLeft"))||0,a=parseFloat(rr(n,"paddingRight"))||0,o=parseFloat(rr(n,"borderRightWidth"))||0,s=parseFloat(rr(n,"marginRight"))||0;return t+e+o+i+a+(parseFloat(rr(n,"marginLeft"))||0)+s}(t),f=function(n,r){var t=function(n,r){var t=rr(n,"height",r);return"auto"===t&&(t=n.offsetHeight),parseFloat(t)}(n,r),e=parseFloat(rr(n,"borderTopWidth"))||0,i=parseFloat(rr(n,"paddingTop"))||0,a=parseFloat(rr(n,"paddingBottom"))||0;return t+e+(parseFloat(rr(n,"borderBottomWidth"))||0)+i+a+(parseFloat(rr(n,"marginTop"))||0)+(parseFloat(rr(n,"marginBottom"))||0)}(t),v={x:i,y:a};"middle"===o?v.x-=Math.round(h/2):"right"===o&&(v.x-=Math.round(h)),"middle"===s?v.y-=Math.round(f/2):"bottom"===s&&(v.y-=Math.round(f)),l&&(v.x+=l),u&&(v.y+=u),We(t,{position:"absolute",left:v.x+"px",top:v.y+"px",zIndex:this.get("zIndex")})},r}(fs);const a0=i0;function wi(n,r,t){var e=r+"Style",i=null;return(0,c.S6)(t,function(a,o){n[o]&&a[e]&&(i||(i={}),(0,c.CD)(i,a[e]))}),i}var o0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:me.lineColor}},tickLine:{style:{lineWidth:1,stroke:me.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:me.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:me.textColor,fontFamily:me.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:me.textColor,textBaseline:"middle",fontFamily:me.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:me.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,e){(0,c.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,e,i){t[e]=i,this.updateTickStates(t)},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("tickStates"),i=[];return(0,c.S6)(e,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,c.S6)(i,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,c.hX)(i,function(a){return e.hasState(a,t)})},r.prototype.getSidePoint=function(t,e){var a=this.getSideVector(e,t);return{x:t.x+a[0],y:t.y+a[1]}},r.prototype.getTextAnchor=function(t){var e;return(0,c.vQ)(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},r.prototype.getTextBaseline=function(t){var e;return(0,c.vQ)(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var e=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,c.CD)({path:e},i.style)})},r.prototype.getTickLineItems=function(t){var e=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1;return t.length>=2&&(l=t[1].value-t[0].value),(0,c.S6)(t,function(h){var f=h.point;o||(f=e.getTickPoint(h.value-l/2));var v=e.getSidePoint(f,s);i.push({startPoint:f,tickValue:h.value,endPoint:v,tickId:h.id,id:"tickline-"+h.id})}),i},r.prototype.getSubTickLineItems=function(t){var e=[],i=this.get("subTickLine"),a=i.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=t[s],u=t[s+1],h=0;h<a;h++){var f=(h+1)/(a+1),v=(1-f)*l.tickValue+f*u.tickValue,g=this.getTickPoint(v),d=this.getSidePoint(g,i.length);e.push({startPoint:g,endPoint:d,tickValue:v,id:"sub-"+l.id+"-"+h})}return e},r.prototype.getTickLineAttrs=function(t,e,i,a){var o=this.get(e).style,s={points:[t.startPoint,t.endPoint]},l=(0,c.U2)(this.get("theme"),["tickLine","style"],{});o=(0,c.mf)(o)?(0,c.CD)({},l,o(s,i,a)):o;var u=t.startPoint,h=t.endPoint;return Gt({x1:u.x,y1:u.y,x2:h.x,y2:h.y},o)},r.prototype.drawTick=function(t,e,i,a,o){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,a,o)})},r.prototype.drawTickLines=function(t){var e=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if((0,c.S6)(o,function(h,f){if(l.displayWithLabel){var v=e.getElementId("label-"+h.tickId);t.findById(v)&&e.drawTick(h,s,"tickLine",f,o)}else e.drawTick(h,s,"tickLine",f,o)}),a){var u=this.getSubTickLineItems(o);(0,c.S6)(u,function(h,f){e.drawTick(h,s,"subTickLine",f,u)})}},r.prototype.processTicks=function(){var t=this,e=this.get("ticks");(0,c.S6)(e,function(i){i.point=t.getTickPoint(i.value),(0,c.UM)(i.id)&&(i.id=i.name)})},r.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");(0,c.S6)(i,function(a){e.applyTickStates(a,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=(0,c.dp)(e);if(i>t.threshold){var a=Math.ceil(i/t.threshold),o=e.filter(function(s,l){return l%a==0});this.set("ticks",o),this.set("originalTicks",e)}}},r.prototype.getLabelAttrs=function(t,e,i){var a=this.get("label"),o=a.offset,s=a.offsetX,l=a.offsetY,u=a.rotate,h=a.formatter,f=this.getSidePoint(t.point,o),v=this.getSideVector(o,f),g=h?h(t.name,t,e):t.name,d=a.style;d=(0,c.mf)(d)?(0,c.U2)(this.get("theme"),["label","style"],{}):d;var x=(0,c.CD)({x:f.x+s,y:f.y+l,text:g,textAlign:this.getTextAnchor(v),textBaseline:this.getTextBaseline(v)},d);return u&&(x.matrix=In(f,u)),x},r.prototype.drawLabels=function(t){var e=this,i=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,c.S6)(i,function(v,g){e.addShape(a,{type:"text",name:"axis-label",id:e.getElementId("label-"+v.id),attrs:e.getLabelAttrs(v,g,i),delegateObject:{tick:v,item:v,index:g}})}),this.processOverlap(a);var o=a.getChildren(),s=(0,c.U2)(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,h=l.formatter;if((0,c.mf)(u)){var f=o.map(function(v){return(0,c.U2)(v.get("delegateObject"),"tick")});(0,c.S6)(o,function(v,g){var d=v.get("delegateObject").tick,x=h?h(d.name,d,g):d.name,A=(0,c.CD)({},s,u(x,g,f));v.attr(A)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,i=t.position,a=t.offset,o=t.spacing,s=void 0===o?0:o,l=t.autoRotate,u=e.fontSize,h=.5;"start"===i?h=0:"end"===i&&(h=1);var f=this.getTickPoint(h),v=this.getSidePoint(f,a||s+u/2),g=(0,c.CD)({x:v.x,y:v.y,text:t.text},e),d=t.rotate,x=d;if((0,c.UM)(d)&&l){var A=this.getAxisVector(f);x=Ae.Dg(A,[1,0],!0)}if(x){var R=In(v,x);g.matrix=R}return g},r.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},r.prototype.applyTickStates=function(t,e){if(this.getItemStates(t).length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=e.findById(o);if(s){var l=wi(t,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+t.id),h=e.findById(u);if(h){var f=wi(t,"tickLine",a);f&&h.attr(f)}}},r.prototype.updateTickStates=function(t){var e=this.getItemStates(t),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(o){var u=wi(t,"label",i);u&&o.attr(u)}if(l){var h=wi(t,"tickLine",i);h&&l.attr(h)}}else o&&o.attr(a.style),l&&l.attr(s.style)},r}(Je);const Wh=o0;function vs(n,r,t,e){var i=r.getChildren(),a=!1;return(0,c.S6)(i,function(o){var s=xi(n,o,t,e);a=a||s}),a}function s0(){return jh}function l0(n,r,t){return vs(n,r,t,"head")}function jh(n,r,t){return vs(n,r,t,"tail")}function u0(n,r,t){return vs(n,r,t,"middle")}function qh(n){var r=function(n){var r=n.attr("matrix");return r&&1!==r[0]}(n)?function(n){var t=[0,0,0];return fi(t,[1,0,0],n),Math.atan2(t[1],t[0])}(n.attr("matrix")):0;return r%360}function ps(n,r,t,e){var i=!1,a=qh(r),o=Math.abs(n?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),s=(n?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(n){var l=Math.abs(Math.cos(a));i=Oa(l,0,Math.PI/180)?s.width+e>o:s.height/l+e>o}else l=Math.abs(Math.sin(a)),i=Oa(l,0,Math.PI/180)?s.width+e>o:s.height/l+e>o;return i}function Ci(n,r,t,e){var i=(null==e?void 0:e.minGap)||0,a=r.getChildren().slice().filter(function(d){return d.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,u=a[0],h=1;h<s;h++){var f=a[h];f.getBBox(),ps(n,u,f,i)?(f.hide(),o=!0):u=f}return o}function Jh(n,r,t){var e=(null==t?void 0:t.minGap)||0,i=r.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),l=i[1],u=i.length,h=qh(o),f=Math.abs(n?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),v=0;if(n){var g=Math.abs(Math.cos(h));v=Oa(g,0,Math.PI/180)?(cs(i)+e)/f:(s.height/g+e)/f}else g=Math.abs(Math.sin(h)),v=Oa(g,0,Math.PI/180)?(cs(i)+e)/f:(s.height/g+e)/f;if(v>1){v=Math.ceil(v);for(var x=0;x<u;x++)x%v!=0&&(i[x].hide(),a=!0)}return a}function c0(){return Qh}function f0(n,r,t,e){return Ci(n,r,!1,e)}function v0(n,r,t,e){return Ci(n,r,!0,e)}function p0(n,r,t,e){var i=(null==e?void 0:e.minGap)||0,a=r.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,u=a[s-1],h=a[0],f=1;f<s-1;f++){var v=a[f];v.getBBox(),ps(n,h,v,i)?(v.hide(),o=!0):h=v}return ps(n,h,u,i)&&(h.hide(),o=!0),o}function Qh(n,r,t,e){var i=Jh(n,r,e);return Ci(n,r,!1)&&(i=!0),i}function g0(n,r,t,e){var i=r.getChildren().slice(),a=Jh(n,r,e);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),Ci(n,r,!1,e)&&(a=!0)),s.get("visible")||(s.show(),Ci(n,r,!0,e)&&(a=!0))}return a}function $h(n,r,t,e){var i=r.getChildren();if(!i.length||!n&&i.length<2)return!1;var a=cs(i),o=!1;return(o=n?!!t&&a>t:a>Math.abs(i[1].attr("x")-i[0].attr("x")))&&function(n,r){(0,c.S6)(n,function(t){var a=In({x:t.attr("x"),y:t.attr("y")},r);t.attr("matrix",a)})}(i,e(t,a)),o}function y0(){return Kh}function Kh(n,r,t,e){return $h(n,r,t,function(){return(0,c.hj)(e)?e:n?me.verticalAxisRotate:me.horizontalAxisRotate})}function m0(n,r,t){return $h(n,r,t,function(e,i){if(!e)return n?me.verticalAxisRotate:me.horizontalAxisRotate;if(n)return-Math.acos(e/i);var a=0;return(e>i||(a=Math.asin(e/i))>Math.PI/4)&&(a=Math.PI/4),a})}var x0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",e.x,e.y]),i},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),i=n.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,e.x,i.x),o=Math.min(t.y,e.y,i.y),s=Math.max(t.x,e.x,i.maxX),l=Math.max(t.y,e.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},r.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return(0,c.vQ)(t.x,e.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return(0,c.vQ)(t.y,e.y)},r.prototype.getTickPoint=function(t){var i=this.get("start"),a=this.get("end");return{x:i.x+(a.x-i.x)*t,y:i.y+(a.y-i.y)*t}},r.prototype.getSideVector=function(t){var e=this.getAxisVector(),i=xe.Fv([0,0],e),a=this.get("verticalFactor");return xe.bA([0,0],[i[1],-1*i[0]],t*a)},r.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},r.prototype.processOverlap=function(t){var e=this,i=this.isVertical(),a=this.isHorizontal();if(i||a){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,h=l,f=0,v=0;s&&(f=s.style.fontSize,v=s.spacing),h&&(h=h-u-v-f);var g=this.get("overlapOrder");if((0,c.S6)(g,function(A){o[A]&&e.canProcessOverlap(A)&&e.autoProcessOverlap(A,o[A],t,h)}),s&&(0,c.UM)(s.offset)){var d=t.getCanvasBBox();s.offset=u+(i?d.width:d.height)+v+f/2}}},r.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,c.UM)(e.rotate)},r.prototype.autoProcessOverlap=function(t,e,i,a){var o=this,s=this.isVertical(),l=!1,u=yt[t];if(!0===e?(this.get("label"),l=u.getDefault()(s,i,a)):(0,c.mf)(e)?l=e(s,i,a):(0,c.Kn)(e)?u[e.type]&&(l=u[e.type](s,i,a,e.cfg)):u[e]&&(l=u[e](s,i,a)),"autoRotate"===t){if(l){var v=i.getChildren(),g=this.get("verticalFactor");(0,c.S6)(v,function(x){"center"===x.attr("textAlign")&&x.attr("textAlign",g>0?"end":"start")})}}else if("autoHide"===t){var d=i.getChildren().slice(0);(0,c.S6)(d,function(x){x.get("visible")||(o.get("isRegister")&&o.unregisterElement(x),x.remove())})}},r}(Wh);const w0=x0;var C0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,i=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===2*Math.PI)u=[["M",e,i-o],["A",a,o,0,1,1,e,i+o],["A",a,o,0,1,1,e,i-o],["Z"]];else{var h=this.getCirclePoint(s),f=this.getCirclePoint(l),v=Math.abs(l-s)>Math.PI?1:0;u=[["M",e,i],["L",h.x,h.y],["A",a,o,0,v,s>l?0:1,f.x,f.y],["L",e,i]]}return u},r.prototype.getTickPoint=function(t){var e=this.get("startAngle"),i=this.get("endAngle");return this.getCirclePoint(e+(i-e)*t)},r.prototype.getSideVector=function(t,e){var i=this.get("center"),a=[e.x-i.x,e.y-i.y],o=this.get("verticalFactor"),s=xe.kE(a);return xe.bA(a,a,o*t/s),a},r.prototype.getAxisVector=function(t){var e=this.get("center"),i=[t.x-e.x,t.y-e.y];return[i[1],-1*i[0]]},r.prototype.getCirclePoint=function(t,e){var i=this.get("center");return e=e||this.get("radius"),{x:i.x+Math.cos(t)*e,y:i.y+Math.sin(t)*e}},r.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||(0,c.UM)(e.rotate)},r.prototype.processOverlap=function(t){var e=this,i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,l=o,u=0,h=0;a&&(u=a.style.fontSize,h=a.spacing),l&&(l=l-s-h-u);var f=this.get("overlapOrder");if((0,c.S6)(f,function(g){i[g]&&e.canProcessOverlap(g)&&e.autoProcessOverlap(g,i[g],t,l)}),a&&(0,c.UM)(a.offset)){var v=t.getCanvasBBox().height;a.offset=s+v+h+u/2}},r.prototype.autoProcessOverlap=function(t,e,i,a){var o=this,s=!1,l=yt[t];if(a>0&&(!0===e?s=l.getDefault()(!1,i,a):(0,c.mf)(e)?s=e(!1,i,a):(0,c.Kn)(e)?l[e.type]&&(s=l[e.type](!1,i,a,e.cfg)):l[e]&&(s=l[e](!1,i,a))),"autoRotate"===t){if(s){var h=i.getChildren(),f=this.get("verticalFactor");(0,c.S6)(h,function(g){"center"===g.attr("textAlign")&&g.attr("textAlign",f>0?"end":"start")})}}else if("autoHide"===t){var v=i.getChildren().slice(0);(0,c.S6)(v,function(g){g.get("visible")||(o.get("isRegister")&&o.unregisterElement(g),g.remove())})}},r}(Wh);const M0=C0;var b0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:me.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:me.textColor,textAlign:"center",textBaseline:"middle",fontFamily:me.fontFamily}},textBackground:{padding:5,style:{stroke:me.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var e=this.get("text"),i=e.style,a=e.autoRotate,o=e.content;if(!(0,c.UM)(o)){var s=this.getTextPoint(),l=null;a&&(l=In(s,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Gt(Gt(Gt({},s),{text:o,matrix:l}),i)})}},r.prototype.renderLine=function(t){var e=this.getLinePath(),a=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Gt({path:e},a)})},r.prototype.renderBackground=function(t){var e=this.getElementId("text"),i=t.findById(e),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=Pa(a.padding),l=a.style;this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Gt({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},l)}).toBack()}},r}(Je);const gs=b0;var S0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text").position,o=Math.atan2(i.y-e.y,i.x-e.x);return"start"===a?o-Math.PI/2:o+Math.PI/2},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text");return zh(e,i,a.position,a.offset)},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,i=t.end;return[["M",e.x,e.y],["L",i.x,i.y]]},r}(gs);const tc=S0;var A0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,i=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:i-Math.PI/2},r.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,i=t.offset,a=this.getLocation(),o=a.center,s=a.radius,h="start"===e?a.startAngle:a.endAngle,f=this.getRotateAngle()-Math.PI,v=Dn(o,s,h),g=Math.cos(f)*i,d=Math.sin(f)*i;return{x:v.x+g,y:v.y+d}},r.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a==2*Math.PI){var l=e.x,u=e.y;s=[["M",l,u-i],["A",i,i,0,1,1,l,u+i],["A",i,i,0,1,1,l,u-i],["Z"]]}else{var h=Dn(e,i,a),f=Dn(e,i,o),v=Math.abs(o-a)>Math.PI?1:0;s=[["M",h.x,h.y],["A",i,i,0,v,a>o?0:1,f.x,f.y]]}return s},r}(gs);const T0=A0;var bi,Mi="g2-crosshair",ds=Mi+"-line",ys=Mi+"-text";const E0=((bi={})[""+Mi]={position:"relative"},bi[""+ds]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},bi[""+ys]={position:"absolute",color:me.textColor,fontFamily:me.fontFamily},bi);var _0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Mi+'"></div>',crosshairTpl:'<div class="'+ds+'"></div>',textTpl:'<span class="'+ys+'">{content}</span>',domStyles:null,containerClassName:Mi,defaultStyles:E0,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),i=Sr(this.get("crosshairTpl"));t.appendChild(i),this.applyStyle(ds,i),this.set("crosshairEl",i)},r.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,i=t.end,a=this.get("text");return zh(e,i,a.position,a.offset)},r.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var i=t.content;if(!e){var a=this.getContainer();e=Sr((0,c.ng)(this.get("textTpl"),t)),a.appendChild(e),this.applyStyle(ys,e),this.set("textEl",e)}e.innerHTML=i}else e&&e.remove()},r.prototype.isVertical=function(t,e){return t.x===e.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),i=this.get("end"),a=Math.min(e.x,i.x),o=Math.min(e.y,i.y);this.isVertical(e,i)?We(t,{width:"1px",height:er(Math.abs(i.y-e.y))}):We(t,{height:"1px",width:er(Math.abs(i.x-e.x))}),We(t,{top:er(o),left:er(a)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,i=t.clientWidth,a=this.getTextPoint();switch(e){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i}We(t,{top:er(a.y),left:er(a.x)})}},r.prototype.updateInner=function(t){(0,c.wH)(t,"text")&&this.resetText(),n.prototype.updateInner.call(this,t)},r}(fs);const L0=_0;var P0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:me.lineColor}}}})},r.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,e){var i=this.getGridPath(t),a=e.slice(0).reverse(),o=this.getGridPath(a,!0);return this.get("closed")?i=i.concat(o):(o[0][0]="L",(i=i.concat(o)).push(["Z"])),i},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var e=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;(0,c.S6)(a,function(l,u){var h=l.id||u;if(i){var f=e.getPathStyle();f=(0,c.mf)(f)?f(l,u,a):f;var v=e.getElementId("line-"+h),g=e.getGridPath(l.points);e.addShape(t,{type:"path",name:"grid-line",id:v,attrs:(0,c.CD)({path:g},f)})}if(o&&u>0){var d=e.getElementId("region-"+h),x=u%2==0;(0,c.HD)(o)?x&&e.drawAlternateRegion(d,t,s.points,l.points,o):e.drawAlternateRegion(d,t,s.points,l.points,x?o[1]:o[0])}s=l})},r.prototype.drawAlternateRegion=function(t,e,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},r}(Je);const ec=P0;var B0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,e){var i=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if("circle"===i){var s=this.get("center"),l=t[0],u=function(n,r,t,e){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}(s.x,s.y,l.x,l.y),h=e?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,h,s.x,s.y+u]),o.push(["A",u,u,0,0,h,s.x,s.y-u]),o.push(["Z"])):(0,c.S6)(t,function(f,v){o.push(0===v?["M",f.x,f.y]:["A",u,u,0,0,h,f.x,f.y])})}else(0,c.S6)(t,function(f,v){o.push(0===v?["M",f.x,f.y]:["L",f.x,f.y])}),a&&o.push(["Z"]);return o},r}(ec);const I0=B0;var D0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"line"})},r.prototype.getGridPath=function(t){var e=[];return(0,c.S6)(t,function(i,a){e.push(0===a?["M",i.x,i.y]:["L",i.x,i.y])}),e},r}(ec);const F0=D0;var k0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=n.prototype.getLayoutBBox.call(this),e=this.get("maxWidth"),i=this.get("maxHeight"),a=t.width,o=t.height;return e&&(a=Math.min(a,e)),i&&(o=Math.min(o,i)),mi(t.minX,t.minY,a,o)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:e+a})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var e=this.get("background"),i=t.getBBox(),a=Pa(e.padding),o=Gt({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o}).toBack()},r.prototype.drawTitle=function(t){var e=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,u=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Gt({text:s,x:e.x,y:e.y},o)}).getBBox();this.set("currentPoint",{x:e.x,y:u.maxY+a})},r.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var i=Pa(t.padding);e.x=i[3],e.y=i[0]}this.set("currentPoint",e)},r}(Je);const rc=k0;var ms={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},Ia={fill:me.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:me.fontFamily,fontWeight:"normal",lineHeight:12},R0=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:i},100):e.attr({matrix:i})}},t.onNavigationAfter=function(){var e=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?e.animate({matrix:i},100):e.attr({matrix:i})}},t}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:me.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:me.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:ms,itemName:{spacing:16,style:Ia},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:Ia,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:me.uncheckedColor},markerStyle:{fill:me.uncheckedColor,stroke:me.uncheckedColor}},inactive:{nameStyle:{fill:me.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,e){(0,c.CD)(t,e),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,e,i){t[e]=i;var a=this.getElementByLocalId("item-"+t.id);if(a){var s=this.getItems().indexOf(t),l=this.createOffScreenGroup(),u=this.drawItem(t,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},r.prototype.hasState=function(t,e){return!!t[e]},r.prototype.getItemStates=function(t){var e=this.get("itemStates"),i=[];return(0,c.S6)(e,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var e=this,i=this.getItemsByState(t);(0,c.S6)(i,function(a){e.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var e=this,i=this.getItems();return(0,c.hX)(i,function(a){return e.hasState(a,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,c.S6)(t,function(e){e.id||(e.id=e.name)})},r.prototype.drawItems=function(t){var e=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),h=this.get("currentPoint"),f=h.x,v=h.y,g=this.get("layout"),d=this.get("items"),x=!1,A=0,E=this.get("maxWidth"),R=this.get("maxHeight");(0,c.S6)(d,function(I,D){var q=e.drawItem(I,D,o,a),nt=q.getBBox(),Pt=s||nt.width;Pt>A&&(A=Pt),"horizontal"===g?(E&&E<h.x+Pt-f&&(x=!0,h.x=f,h.y+=o+u),e.moveElementTo(q,h),h.x+=Pt+l):(R&&R<h.y+o+u-v&&(x=!0,h.x+=A+l,h.y=v,A=0),e.moveElementTo(q,h),h.y+=o+u)}),x&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=f,this.startY=v,this.adjustNavigation(t,a))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if((0,c.mf)(e)){var i=this.getItems();i.forEach(function(a,o){var s=Gt(Gt({},Ia),e(a,o,i)).fontSize;t<s&&(t=s)})}else e&&(t=e.fontSize)}return t},r.prototype.drawMarker=function(t,e,i,a){var o=Gt(Gt(Gt({x:0,y:a/2},e.style),{symbol:(0,c.U2)(i.marker,"symbol","circle")}),(0,c.U2)(i.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),f=u.fill;return u.stroke&&s.set("isStroke",!0),f&&s.set("isFill",!0),s},r.prototype.drawItemText=function(t,e,i,a,o,s,l){var u=i.formatter,h=i.style,f=Gt(Gt({x:s,y:o/2,text:u?u(a[e],a,l):a[e]},Ia),(0,c.mf)(h)?h(a,l,this.getItems()):h);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+e),name:"legend-item-"+e,attrs:f})},r.prototype.drawRadio=function(t,e,i,a,o){var s=a/2,l=3.6*s/8,u=[o+s,a/2-s],h=u[0],f=u[1],v=[h+s,f+s],g=v[0],d=v[1],x=[h,d+s],A=x[0],E=x[1],R=[o,f+s],I=R[0],D=R[1],q=i.showRadio,nt=Gt(Gt({path:[["M",h,f],["A",s,s,0,0,1,g,d],["L",g-l,d],["L",g,d],["A",s,s,0,0,1,A,E],["L",A,E-l],["L",A,E],["A",s,s,0,0,1,I,D],["L",I+l,D],["L",I,D],["A",s,s,0,0,1,h,f],["L",h,f+l]],stroke:"#000000",fill:"#ffffff"},e),{opacity:q?.45:0});return this.addShape(t,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:nt})},r.prototype.drawItem=function(t,e,i,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:e}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:e}}),u=this.get("marker"),h=this.get("itemName"),f=this.get("itemValue"),v=this.get("itemBackground"),g=this.get("radio"),d=this.getLimitItemWidth(),x=0;if(u){var A=this.drawMarker(l,u,t,i),E=u.spacing,R=(0,c.U2)(t,["marker","spacing"]);(0,c.hj)(R)&&(E=R),x=A.getBBox().maxX+E}if(h){var I=this.drawItemText(l,"name",h,t,i,x,e);d&&xi(!0,I,(0,c.uZ)(d-x,0,d)),x=I.getBBox().maxX+h.spacing}if(f){var D=this.drawItemText(l,"value",f,t,i,x,e);d&&(f.alignRight?(D.attr({textAlign:"right",x:d}),xi(!0,D,(0,c.uZ)(d-x,0,d),"head")):xi(!0,D,(0,c.uZ)(d-x,0,d))),x=D.getBBox().maxX+f.spacing}if(g&&this.drawRadio(l,g,t,i,x),v){var q=l.getBBox();this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:Gt({x:0,y:0,width:q.width,height:i},v.style)}).toBack()}return this.applyItemStates(t,l),l},r.prototype.adjustNavigation=function(t,e){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),l=e.findAll(function(oe){return"legend-item"===oe.get("name")}),u=this.get("maxWidth"),h=this.get("maxHeight"),f=this.get("itemWidth"),v=this.get("itemSpacing"),g=this.getItemHeight(),d=(0,c.b$)({},ms,this.get("pageNavigator")),x=this.drawNavigation(t,s,"00/00",d),A=x.getBBox(),E={x:a,y:o},R=1,I=0,D=0,q=0,nt=this.get("itemMarginBottom");if("horizontal"===s){var Pt=this.get("maxRow")||1,Xt=g+(1===Pt?0:nt);this.pageHeight=Xt*Pt,(0,c.S6)(l,function(oe){var ge=oe.getBBox(),ye=f||ge.width;(I&&I<E.x+ye+v||u<E.x+ye+v+A.width)&&(1===R&&(i.pageWidth=I=E.x+v,i.moveElementTo(x,{x:u-v-A.width-A.minX,y:E.y+g/2-A.height/2-A.minY})),R+=1,E.x=a,E.y+=Xt),i.moveElementTo(oe,E),oe.getParent().setClip({type:"rect",attrs:{x:E.x,y:E.y,width:ye+v,height:g}}),E.x+=ye+v})}else{(0,c.S6)(l,function(oe){var ge=oe.getBBox();ge.width>D&&(D=ge.width)}),q=D,D+=v,u&&(D=Math.min(u,D),q=Math.min(u,q)),this.pageWidth=D,this.pageHeight=h-Math.max(A.height,g+nt);var Jt=Math.floor(this.pageHeight/(g+nt));(0,c.S6)(l,function(oe,ge){0!==ge&&ge%Jt==0&&(R+=1,E.x+=D,E.y=o),i.moveElementTo(oe,E),oe.getParent().setClip({type:"rect",attrs:{x:E.x,y:E.y,width:D,height:g}}),E.y+=g+nt}),this.totalPagesCnt=R,this.moveElementTo(x,{x:a+q/2-A.width/2-A.minX,y:h-A.height-A.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt="horizontal"===s&&this.get("maxRow")?Math.ceil(R/this.get("maxRow")):R,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(x),e.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,e,i,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=(0,c.U2)(a.marker,"style",{}),u=l.size,h=void 0===u?12:u,f=ts(l,["size"]),v=this.drawArrow(s,o,"navigation-arrow-left","horizontal"===e?"up":"left",h,f);v.on("click",this.onNavigationBack);var g=v.getBBox();o.x+=g.width+2;var x=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Gt({x:o.x,y:o.y+h/2,text:i,textBaseline:"middle"},(0,c.U2)(a.text,"style"))}).getBBox();return o.x+=x.width+2,this.drawArrow(s,o,"navigation-arrow-right","horizontal"===e?"down":"right",h,f).on("click",this.onNavigationAfter),s},r.prototype.updateNavigation=function(t){var i=(0,c.b$)({},ms,this.get("pageNavigator")).marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,l=i.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,h=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),v=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),g=h.getBBox();h.attr("text",u);var d=h.getBBox();h.attr("x",h.attr("x")-(d.width-g.width)/2),f.attr("opacity",1===this.currentPageIndex?l:o),f.attr("fill",1===this.currentPageIndex?s:a),f.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),v.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),v.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),v.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},r.prototype.drawArrow=function(t,e,i,a,o,s){var l=e.x,u=e.y,h={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},f=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:Gt({path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return f.attr("matrix",In({x:l+o/2,y:u+o/2},h[a])),f},r.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,i=t.pageWidth,a=t.pageHeight;return ls("horizontal"===this.get("layout")?{x:0,y:a*(1-e)}:{x:i*(1-e),y:0})},r.prototype.applyItemStates=function(t,e){if(this.getItemStates(t).length>0){var o=e.getChildren(),s=this.get("itemStates");(0,c.S6)(o,function(l){var h=l.get("name").split("-")[2],f=wi(t,h,s);f&&(l.attr(f),"marker"===h&&(!l.get("isStroke")||!l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},r}(rc);const Y0=R0;var H0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:me.textColor,textBaseline:"middle",fontFamily:me.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:me.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,e){this.update({min:t,max:e})},r.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:e,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",function(i){var a=e.getValueByCanvasPoint(i.x,i.y),s=e.getCurrentValue()[1];s<a&&(s=a),e.setValue([a,s])}),t.on("legend-handler-max:drag",function(i){var a=e.getValueByCanvasPoint(i.x,i.y),s=e.getCurrentValue()[0];s>a&&(s=a),e.setValue([s,a])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var e=this,i=null;t.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(i){var o=e.getValueByCanvasPoint(i.x,i.y),s=e.getValueByCanvasPoint(a.x,a.y),l=e.getCurrentValue(),u=l[1]-l[0],h=e.getRange(),f=s-o;f<0?e.setValue(l[0]+f>h.min?[l[0]+f,l[1]+f]:[h.min,h.min+u]):f>0&&e.setValue(f>0&&l[1]+f<h.max?[l[0]+f,l[1]+f]:[h.max-u,h.max]),i={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){i=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,e){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,l=this.get(t),u=this.getLabelAlignAttrs(t,o);this.addShape(e,{type:"text",id:this.getElementId("label-"+t),name:"legend-label-"+t,attrs:Gt(Gt({x:0,y:0,text:(0,c.mf)(s)?s(l):l},a),u)})},r.prototype.getLabelAlignAttrs=function(t,e){var a="center",o="middle";return this.isVertical()?(a="start",o="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(o="top",a="min"===t?"start":"end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},r.prototype.getRailPath=function(t,e,i,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,h=this.isVertical(),v=i,g=a;v||(v=h?s:l),g||(g=h?l:s);var d=[];return"color"===u?(d.push(["M",t,e]),d.push(["L",t+v,e]),d.push(["L",t+v,e+g]),d.push(["L",t,e+g]),d.push(["Z"])):(d.push(["M",t+v,e]),d.push(["L",t+v,e+g]),d.push(["L",t,e+g]),d.push(["Z"])),d},r.prototype.drawRail=function(t){var i=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Gt({path:this.getRailPath(0,0)},i)})},r.prototype.getTrackColor=function(t){var i,e=t.length;if(!e)return null;if(1===e)return t[0];i=this.isVertical()?"l(90)":"l(0)";for(var a=0;a<e;a++)i+=" "+a/(e-1)+":"+t[a];return i},r.prototype.getTrackPath=function(t){var i=this.getRailShape(t).attr("path");return(0,c.d9)(i)},r.prototype.getClipTrackAttrs=function(t){var h,f,v,g,e=this.getCurrentValue(),i=e[0],a=e[1],o=this.getRailBBox(t),s=this.getPointByValue(i,t),l=this.getPointByValue(a,t);return this.isVertical()?(h=o.minX,f=s.y,v=o.width,g=l.y-s.y):(h=s.x,f=o.minY,v=l.x-s.x,g=o.height),{x:h,y:f,width:v,height:g}},r.prototype.getTrackAttrs=function(t){var e=this.get("track"),i=this.get("colors"),a=this.getTrackPath(t);return(0,c.CD)({path:a,fill:this.getTrackColor(i)},e.style)},r.prototype.resetTrackClip=function(t){var e=t||this.get("group"),i=this.getElementId("track"),a=e.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},r.prototype.resetTrack=function(t){var e=this.getElementId("track"),i=t.findById(e),a=this.getTrackAttrs(t);i?i.attr(a):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:a})},r.prototype.getPointByValue=function(t,e){var i=this.getRange(),a=i.min,s=(t-a)/(i.max-a),l=this.getRailBBox(e),h={x:0,y:0};return this.isVertical()?(h.x=l.minX+l.width/2,h.y=gn(l.minY,l.maxY,s)):(h.x=gn(l.minX,l.maxX,s),h.y=l.minY+l.height/2),h},r.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},r.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},r.prototype.isVertical=function(){return"vertical"===this.get("layout")},r.prototype.getValueByCanvasPoint=function(t,e){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),f=gn(a,o,l?(e-s.minY)/s.height:(t-s.minX)/s.width);return u&&(f=a+Math.round((f-a)/u)*u),f>o&&(f=o),f<a&&(f=a),f},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,es(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,es(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),a=e[1];this.resetHandler(t,"min",e[0]),this.resetHandler(t,"max",a)},r.prototype.getHandlerPath=function(t,e){var i=this.isVertical(),a=[],o=t.size,s=e.x,l=e.y,u=1.4*o,h=o/2,f=o/6;if(i){var v=s+.4*u;a.push(["M",s,l]),a.push(["L",v,l+h]),a.push(["L",s+u,l+h]),a.push(["L",s+u,l-h]),a.push(["L",v,l-h]),a.push(["Z"]),a.push(["M",v,l+f]),a.push(["L",s+u-2,l+f]),a.push(["M",v,l-f]),a.push(["L",s+u-2,l-f])}else{var g=l+.4*u;a.push(["M",s,l]),a.push(["L",s-h,g]),a.push(["L",s-h,l+u]),a.push(["L",s+h,l+u]),a.push(["L",s+h,g]),a.push(["Z"]),a.push(["M",s-f,g]),a.push(["L",s-f,l+u-2]),a.push(["M",s+f,g]),a.push(["L",s+f,l+u-2])}return a},r.prototype.resetHandler=function(t,e,i){var a=this.getPointByValue(i,t),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+e),u=t.findById(l),h=this.isVertical();u?u.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:l,attrs:Gt(Gt({path:s},o.style),{cursor:h?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,e,o):this.fixedHorizontal(i,a,e,o)},r.prototype.fitRailLength=function(t,e,i,a){var s=this.isVertical()?"height":"width",l=this.get("label"),u=l.align,h=l.spacing,f=this.get("max"+(0,c.jC)(s));if(f){var g=("rail"===u?i[s]+t[s]+e[s]+2*h:i[s])-f;g>0&&this.changeRailLength(a,s,i[s]-g)}},r.prototype.changeRailLength=function(t,e,i){var o,a=t.getBBox();o="height"===e?this.getRailPath(a.x,a.y,a.width,i):this.getRailPath(a.x,a.y,i,a.height),t.attr("path",o)},r.prototype.changeRailPosition=function(t,e,i){var a=t.getBBox(),o=this.getRailPath(e,i,a.width,a.height);t.attr("path",o)},r.prototype.fixedHorizontal=function(t,e,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),h=t.getBBox(),f=e.getBBox(),v=u.height;this.fitRailLength(h,f,u,i),u=i.getBBox(),"rail"===s?(t.attr({x:a.x,y:a.y+v/2}),this.changeRailPosition(i,a.x+h.width+l,a.y),e.attr({x:a.x+h.width+u.width+2*l,y:a.y+v/2})):"top"===s?(t.attr({x:a.x,y:a.y}),e.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+h.height+l)):(this.changeRailPosition(i,a.x,a.y),t.attr({x:a.x,y:a.y+u.height+l}),e.attr({x:a.x+u.width,y:a.y+u.height+l}))},r.prototype.fixedVertail=function(t,e,i,a){var o=this.get("label"),s=o.align,l=o.spacing,u=i.getBBox(),h=t.getBBox(),f=e.getBBox();if(this.fitRailLength(h,f,u,i),u=i.getBBox(),"rail"===s)t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+h.height+l),e.attr({x:a.x,y:a.y+h.height+u.height+2*l});else if("right"===s)t.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(i,a.x,a.y),e.attr({x:a.x+u.width+l,y:a.y+u.height});else{var v=Math.max(h.width,f.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+v+l,a.y),e.attr({x:a.x,y:a.y+u.height})}},r}(rc);const U0=H0;var _r,Fn="g2-tooltip",kn="g2-tooltip-title",Si="g2-tooltip-list",Da="g2-tooltip-list-item",Fa="g2-tooltip-marker",ka="g2-tooltip-value",ic="g2-tooltip-name",xs="g2-tooltip-crosshair-x",ws="g2-tooltip-crosshair-y";const N0=((_r={})[""+Fn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:me.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},_r[""+kn]={marginBottom:"4px"},_r[""+Si]={margin:"0px",listStyleType:"none",padding:"0px"},_r[""+Da]={listStyleType:"none",marginBottom:"4px"},_r[""+Fa]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},_r[""+ka]={display:"inline-block",float:"right",marginLeft:"30px"},_r[""+xs]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},_r[""+ws]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},_r);var W0=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Fn+'"><div class="'+kn+'"></div><ul class="'+Si+'"></ul></div>',itemTpl:'<li class="'+Da+'" data-index={index}>\n          <span class="'+Fa+'" style="background:{color}"></span>\n          <span class="'+ic+'">{name}</span>:\n          <span class="'+ka+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+xs+'"></div>',yCrosshairTpl:'<div class="'+ws+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Fn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:N0})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),We(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),We(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&We(i,{display:e}),a&&We(a,{display:e})},r.prototype.initContainer=function(){if(n.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(function(n,r){var t=!1;return(0,c.S6)(["title","showTitle"],function(e){if((0,c.wH)(n,e))return t=!0,!1}),t}(t)&&this.resetTitle(),(0,c.wH)(t,"items")&&this.renderItems()),n.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){n.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var d,t=this.get("x"),e=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),h=this.getContainer(),f=this.getBBox(),v=f.width,g=f.height;u&&(d=yi(u));var x=function(n,r,t,e,i,a,o){var s=function(n,r,t,e,i,a){var o=n,s=r;switch(a){case"left":o=n-e-t,s=r-i/2;break;case"right":o=n+t,s=r-i/2;break;case"top":o=n-e/2,s=r-i-t;break;case"bottom":o=n-e/2,s=r+t;break;default:o=n+t,s=r-i-t}return{x:o,y:s}}(n,r,t,e,i,a);if(o){var l=function(n,r,t,e,i){return{left:n<i.x,right:n+t>i.x+i.width,top:r<i.y,bottom:r+e>i.y+i.height}}(s.x,s.y,e,i,o);"auto"===a?(l.right&&(s.x=Math.max(0,n-e-t)),l.top&&(s.y=Math.max(0,r-i-t))):"top"===a||"bottom"===a?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-e),"top"===a&&l.top&&(s.y=r+t),"bottom"===a&&l.bottom&&(s.y=r-i-t)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-i),"left"===a&&l.left&&(s.x=n+t),"right"===a&&l.right&&(s.x=n-e-t))}return s}(t,e,i,v,g,l,d);We(h,{left:er(x.x+o),top:er(x.y+s)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),i=this.get("container");i&&i.parentNode===e?e.replaceChild(t,i):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var i=e(this.get("title"),this.get("items"));t=(0,c.kK)(i)?i:Sr(i)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(kn)[0],i=t.getElementsByClassName(Si)[0];this.set("titleDom",e),this.set("listDom",i)},r.prototype.resetTitle=function(){var t=this.get("title"),e=this.get("showTitle");this.setTitle(e&&t?t:"")},r.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var i=yi(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},r.prototype.resetCrosshair=function(t,e){var i=this.checkCrosshair(t),a=this.get(t);We(i,"x"===t?{left:er(a),top:er(e.y),height:er(e.height)}:{top:er(a),left:er(e.x),width:er(e.width)})},r.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",i=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=ft[a],s=this.get(e),l=this.get("parent");return s||(s=Sr(this.get(i)),this.applyStyle(o,s),l.appendChild(s),this.set(e,s)),s},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),i=this.get("listDom");i&&((0,c.S6)(t,function(a){var o=Ar.toCSSGradient(a.color),s=Gt(Gt({},a),{color:o}),u=Sr((0,c.ng)(e,s));i.appendChild(u)}),this.applyChildrenStyles(i,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&us(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(fs);const j0=W0;var q0={opacity:0},J0={stroke:"#C5C5C5",strokeOpacity:.85},Q0={fill:"#CACED4",opacity:.85};function ac(n){return function(n){return(0,c.UI)(n,function(r,t){return[0===t?"M":"L",r[0],r[1]]})}(n)}var ny=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:q0,lineStyle:J0,areaStyle:Q0})},r.prototype.renderInner=function(t){var e=this.cfg,i=e.width,a=e.height,o=e.data,s=e.smooth,l=e.isArea,u=e.backgroundStyle,h=e.lineStyle,f=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Gt({x:0,y:0,width:i,height:a},u)});var v=function(n,r,t,e){void 0===e&&(e=!0);var i=new wa({values:n}),a=new ga({values:(0,c.UI)(n,function(s,l){return l})}),o=(0,c.UI)(n,function(s,l){return[a.scale(l)*r,t-i.scale(s)*t]});return e?function(n){if(n.length<=2)return ac(n);var r=[];(0,c.S6)(n,function(o){(0,c.Xy)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=(0,pn.e9)(r,!1),e=(0,c.YM)(n);return t.unshift(["M",e[0],e[1]]),t}(o):ac(o)}(o,i,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Gt({path:v},h)}),l){var g=function(n,r,t,e){var i=es(n),a=function(n,r){var t=new wa({values:n}),e=Math.max(0,t.min);return r-t.scale(e)*r}(e,t);return i.push(["L",r,a]),i.push(["L",0,a]),i.push(["Z"]),i}(v,i,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Gt({path:g},f)})}},r.prototype.applyOffset=function(){var t=this.cfg,e=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:e,y:i})},r}(Je),oc={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},sc=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return Ce(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"handler",x:0,y:0,width:10,height:24,style:oc})},r.prototype.renderInner=function(t){var e=this.cfg,i=e.width,a=e.height,o=e.style,s=o.fill,l=o.stroke,u=o.radius,h=o.opacity,f=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:l,radius:u,opacity:h,cursor:f}});var v=1/3*i,g=2/3*i,d=1/4*a,x=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:v,y1:d,x2:v,y2:x,stroke:l,cursor:f}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:g,y1:d,x2:g,y2:x,stroke:l,cursor:f}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()}),this.get("group").on("mouseleave",function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(Je),iy={fill:"#416180",opacity:.05},ay={fill:"#5B8FF9",opacity:.15,cursor:"move"},oy={width:10,height:24},sy={textBaseline:"middle",fill:"#000",opacity:.45},ly="sliderchange",uy=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.onMouseDown=function(e){return function(i){t.currentTarget=e;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=(0,c.U2)(a,"touches.0.pageX",a.pageX),t.prevY=(0,c.U2)(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(e){var i=t.cfg.width,a=[t.get("start"),t.get("end")];e.stopPropagation(),e.preventDefault();var o=(0,c.U2)(e,"touches.0.pageX",e.pageX),s=(0,c.U2)(e,"touches.0.pageY",e.pageY),u=t.adjustOffsetRange((o-t.prevX)/i);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(ly,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var e=t.getContainerDOM();e&&(e.removeEventListener("mousemove",t.onMouseMove),e.removeEventListener("mouseup",t.onMouseUp),e.removeEventListener("mouseleave",t.onMouseUp),e.removeEventListener("touchmove",t.onMouseMove),e.removeEventListener("touchend",t.onMouseUp),e.removeEventListener("touchcancel",t.onMouseUp))},t}return Ce(r,n),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.get("start"),a=this.get("end"),o=(0,c.uZ)(i,t,e),s=(0,c.uZ)(a,t,e);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange();if((0,c.kJ)(t)&&2===t.length){var i=[this.get("start"),this.get("end")];this.update({start:(0,c.uZ)(t[0],e.min,e.max),end:(0,c.uZ)(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:iy,foregroundStyle:ay,handlerStyle:oy,textStyle:sy}})},r.prototype.update=function(t){var e=t.start,i=t.end,a=Gt({},t);(0,c.UM)(e)||(a.start=(0,c.uZ)(e,0,1)),(0,c.UM)(i)||(a.end=(0,c.uZ)(i,0,1)),n.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,c.uZ)(this.get("start"),0,1)),this.set("end",(0,c.uZ)(this.get("end"),0,1)),n.prototype.init.call(this)},r.prototype.render=function(){n.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var e=this.cfg,o=e.width,s=e.height,l=e.trendCfg,u=void 0===l?{}:l,h=e.minText,f=e.maxText,v=e.backgroundStyle,g=void 0===v?{}:v,d=e.foregroundStyle,x=void 0===d?{}:d,A=e.textStyle,E=void 0===A?{}:A,R=(0,c.b$)({},oc,this.cfg.handlerStyle);(0,c.dp)((0,c.U2)(u,"data"))&&(this.trend=this.addComponent(t,Gt({component:ny,id:this.getElementId("trend"),x:0,y:0,width:o,height:s},u))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Gt({x:0,y:0,width:o,height:s},g)}),this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Gt({y:s/2,textAlign:"right",text:h,silent:!1},E)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Gt({y:s/2,textAlign:"left",text:f,silent:!1},E)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Gt({y:0,height:s},x)});var Xt=(0,c.U2)(R,"width",10),Jt=(0,c.U2)(R,"height",24);this.minHandler=this.addComponent(t,{component:sc,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(s-Jt)/2,width:Xt,height:Jt,cursor:"ew-resize",style:R}),this.maxHandler=this.addComponent(t,{component:sc,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(s-Jt)/2,width:Xt,height:Jt,cursor:"ew-resize",style:R})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,e,i){var a=this.cfg,l=a.width,u=a.minText,h=a.maxText,f=a.handlerStyle,g=a.start*l,d=a.end*l;this.trend&&(this.trend.update({width:l,height:a.height}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",g),t.attr("width",d-g);var x=(0,c.U2)(f,"width",10);e.attr("text",u),i.attr("text",h);var A=this._dodgeText([g,d],e,i),E=A[0],R=A[1];this.minHandler&&(this.minHandler.update({x:g-x/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,c.S6)(E,function(I,D){return e.attr(D,I)}),this.maxHandler&&(this.maxHandler.update({x:d-x/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,c.S6)(R,function(I,D){return i.attr(D,I)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var e=this.cfg,i=e.start,a=e.end;switch(this.currentTarget){case"minHandler":var o=0-i,s=1-i;return Math.min(s,Math.max(o,t));case"maxHandler":return o=0-a,s=1-a,Math.min(s,Math.max(o,t));case"foreground":return o=0-i,s=1-a,Math.min(s,Math.max(o,t))}},r.prototype.updateStartEnd=function(t){var e=this.cfg,i=e.start,a=e.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":a+=t;break;case"foreground":i+=t,a+=t}this.set("start",i),this.set("end",a)},r.prototype._dodgeText=function(t,e,i){var a,o,s=this.cfg,u=s.width,f=(0,c.U2)(s.handlerStyle,"width",10),v=t[0],g=t[1],d=!1;v>g&&(v=(a=[g,v])[0],g=a[1],e=(o=[i,e])[0],i=o[1],d=!0);var x=e.getBBox(),A=i.getBBox(),E=x.width>v-2?{x:v+f/2+2,textAlign:"left"}:{x:v-f/2-2,textAlign:"right"},R=A.width>u-g-2?{x:g-f/2-2,textAlign:"right"}:{x:g+f/2+2,textAlign:"left"};return d?[R,E]:[E,R]},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r}(Je);function Rn(n,r,t){if(n){if("function"==typeof n.addEventListener)return n.addEventListener(r,t,!1),{remove:function(){n.removeEventListener(r,t,!1)}};if("function"==typeof n.attachEvent)return n.attachEvent("on"+r,t),{remove:function(){n.detachEvent("on"+r,t)}}}}var Cs={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},cy=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.clearEvents=c.ZT,t.onStartEvent=function(e){return function(i){t.isMobile=e,i.originalEvent.preventDefault();var a=e?(0,c.U2)(i.originalEvent,"touches.0.clientX"):i.clientX,o=e?(0,c.U2)(i.originalEvent,"touches.0.clientY"):i.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var e=t.getContainerDOM(),i=[];i=t.isMobile?[Rn(e,"touchmove",t.onMouseMove),Rn(e,"touchend",t.onMouseUp),Rn(e,"touchcancel",t.onMouseUp)]:[Rn(e,"mousemove",t.onMouseMove),Rn(e,"mouseup",t.onMouseUp),Rn(e,"mouseleave",t.onMouseUp)],t.clearEvents=function(){i.forEach(function(a){a.remove()})}},t.onMouseMove=function(e){var i=t.cfg,a=i.isHorizontal,o=i.thumbOffset;e.preventDefault();var s=t.isMobile?(0,c.U2)(e,"touches.0.clientX"):e.clientX,l=t.isMobile?(0,c.U2)(e,"touches.0.clientY"):e.clientY,u=a?s:l,h=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+h)},t.onMouseUp=function(e){e.preventDefault(),t.clearEvents()},t.onTrackClick=function(e){var i=t.cfg,a=i.isHorizontal,o=i.x,s=i.y,l=i.thumbLen,h=t.getContainerDOM().getBoundingClientRect(),d=t.validateRange(a?e.clientX-h.left-o-l/2:e.clientY-h.top-s-l/2);t.updateThumbOffset(d)},t.onThumbMouseOver=function(){var e=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t.onThumbMouseOut=function(){var e=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",e),t.draw()},t}return Ce(r,n),r.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var i=this.getValue(),a=(0,c.uZ)(i,t,e);i!==a&&!this.get("isInit")&&this.setValue(a)},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var e=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,c.uZ)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},r.prototype.getValue=function(){return(0,c.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return Gt(Gt({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Cs})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var e=this.cfg,i=e.trackLen,a=e.theme,s=(0,c.b$)({},Cs,void 0===a?{default:{}}:a).default,l=s.lineCap,u=s.trackColor,f=(0,c.U2)(this.cfg,"size",s.size),v=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:i-f/2,y2:f/2,lineWidth:f,stroke:u,lineCap:l}:{x1:f/2,y1:0+f/2,x2:f/2,y2:i-f/2,lineWidth:f,stroke:u,lineCap:l};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:v})},r.prototype.renderThumbShape=function(t){var e=this.cfg,i=e.thumbOffset,a=e.thumbLen,s=(0,c.b$)({},Cs,e.theme).default,u=s.lineCap,h=s.thumbColor,f=(0,c.U2)(this.cfg,"size",s.size),v=this.get("isHorizontal")?{x1:i+f/2,y1:f/2,x2:i+a-f/2,y2:f/2,lineWidth:f,stroke:h,lineCap:u,cursor:"default"}:{x1:f/2,y1:i+f/2,x2:f/2,y2:i+a-f/2,lineWidth:f,stroke:h,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:v})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var i=t.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},r.prototype.validateRange=function(t){var e=this.cfg,i=e.thumbLen,a=e.trackLen,o=t;return t+i>a?o=a-i:t+i<i&&(o=0),o},r.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},r.prototype.updateThumbOffset=function(t){var e=this.cfg,i=e.thumbOffset,a=e.isHorizontal,o=e.thumbLen,s=e.size,l=this.validateRange(t);l!==i&&(this.getElementByLocalId("thumb").attr(a?{x1:l+s/2,x2:l+o-s/2}:{y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l))},r.prototype.emitOffsetChange=function(t){var e=this.cfg,i=e.thumbOffset,a=e.trackLen,o=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,c.uZ)(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},r}(Je),fy=w0,vy=M0,py=F0,gy=I0,lc=Y0,dy=U0,uc=j0;function hc(n){return 1===Array.from(new Set(n)).length}function cc(n){return((0,c.VV)(n)+(0,c.Fp)(n))/2}function Ye(n,r,t,e){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Wr(n,r,t,e,i,a){void 0===a&&(a=0);var o=Ye(n,r,t,e),s=Ye(n,r,t,i),l=Ye(n,r,a,e),u=Ye(n,r,a,i);if(i-e==2*Math.PI){var h=Ye(n,r,t,e+Math.PI),f=Ye(n,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,f.x,f.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=i-e<=Math.PI?0:1,d=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&d.push(["A",a,a,0,g,0,l.x,l.y]),d.push(["L",o.x,o.y]),d.push(["Z"]),d}function fc(n,r,t,e,i){var a=Ye(n,r,t,e),o=Ye(n,r,t,i);if((0,c.vQ)(i-e,2*Math.PI)){var s=Ye(n,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=i-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function Ai(n,r){var i,a,e=function(n){if((0,c.xb)(n))return null;var r=n[0].x,t=n[0].x,e=n[0].y,i=n[0].y;return(0,c.S6)(n,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,i=i<a.y?a.y:i}),{minX:r,maxX:t,minY:e,maxY:i,centerX:(r+t)/2,centerY:(e+i)/2}}(n.points),o=r.startAngle,l=r.endAngle-o;return r.isTransposed?(i=e.maxY*l,a=e.minY*l):(i=e.maxX*l,a=e.minX*l),{startAngle:a+=o,endAngle:i+=o}}function vc(n,r){var t=n.attr(),e=r.attr();return(0,c.S6)(t,function(i,a){void 0===e[a]&&(e[a]=void 0)}),e}function Yn(n,r,t){var e=Math.min(r,t),i=Math.max(r,t);return n>=e&&n<=i}function nr(n,r){return"object"==typeof n&&r.forEach(function(t){delete n[t]}),n}function jr(n,r,t){void 0===r&&(r=[]),void 0===t&&(t=new Map);for(var e=0,i=n;e<i.length;e++){var a=i[e];t.has(a)||(r.push(a),t.set(a,!0))}return r}var Qe=function(){function n(r,t,e,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=r,this.y=t,this.height=i,this.width=e}return n.fromRange=function(r,t,e,i){return new n(r,t,e-r,i-t)},n.fromObject=function(r){return new n(r.minX,r.minY,r.width,r.height)},Object.defineProperty(n.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),n.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},n.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,c.S6)(r,function(i){e.x=Math.min(i.x,e.x),e.y=Math.min(i.y,e.y),e.width=Math.max(i.maxX,e.maxX)-e.x,e.height=Math.max(i.maxY,e.maxY)-e.y}),e},n.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,c.S6)(r,function(i){e.x=Math.max(i.x,e.x),e.y=Math.max(i.y,e.y),e.width=Math.min(i.maxX,e.maxX)-e.x,e.height=Math.min(i.maxY,e.maxY)-e.y}),e},n.prototype.cut=function(r,t){var e=r.width,i=r.height;switch(t){case Dt.TOP:case Dt.TOP_LEFT:case Dt.TOP_RIGHT:return n.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case Dt.RIGHT:case Dt.RIGHT_TOP:case Dt.RIGHT_BOTTOM:return n.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Dt.BOTTOM:case Dt.BOTTOM_LEFT:case Dt.BOTTOM_RIGHT:return n.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case Dt.LEFT:case Dt.LEFT_TOP:case Dt.LEFT_BOTTOM:return n.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},n.prototype.shrink=function(r){var t=r[0],a=r[3];return new n(this.x+a,this.y+t,this.width-a-r[1],this.height-t-r[2])},n.prototype.expand=function(r){var t=r[0],a=r[3];return new n(this.x-a,this.y-t,this.width+a+r[1],this.height+t+r[2])},n.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},n.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},n.prototype.size=function(){return this.width*this.height},n.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},n}();function Ti(n){if(n.isPolar&&!n.isTransposed)return(n.endAngle-n.startAngle)*n.getRadius();var r=n.convert({x:0,y:0}),t=n.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Ya(n,r){var t=n.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Ms(n,r){var t=!1;if(n)if("theta"===n.type){var e=n.start,i=n.end;t=Yn(r.x,e.x,i.x)&&Yn(r.y,e.y,i.y)}else{var a=n.invert(r);t=Yn(a.x,0,1)&&Yn(a.y,0,1)}return t}function Gn(n,r){var t=n.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function pc(n,r){void 0===r&&(r=0);var t=n.start,e=n.end,i=n.getWidth(),a=n.getHeight();if(n.isPolar){var o=n.startAngle,s=n.endAngle,l=n.getCenter(),u=n.getRadius();return{type:"path",startState:{path:Wr(l.x,l.y,u+r,o,o)},endState:function(f){return{path:Wr(l.x,l.y,u+r,o,(s-o)*f+o)}},attrs:{path:Wr(l.x,l.y,u+r,o,s)}}}return{type:"rect",startState:{x:t.x-r,y:e.y-r,width:n.isTransposed?i+2*r:0,height:n.isTransposed?0:a+2*r},endState:n.isTransposed?{height:a+2*r}:{width:i+2*r},attrs:{x:t.x-r,y:e.y-r,width:i+2*r,height:a+2*r}}}var by=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Ei(n){return n.alias||n.field}function gc(n,r,t){var a,i=n.values.length;if(1===i)a=[.5,1];else{var s=0;a=function(n){return!!n.isPolar&&n.endAngle-n.startAngle==2*Math.PI}(r)?r.isTransposed?[(s=1/i*(0,c.U2)(t,"widthRatio.multiplePie",1/1.3))/2,1-s/2]:[0,1-1/i]:[s=1/i/2,1-s]}return a}function Ey(n){var r=n.values.filter(function(t){return!(0,c.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,Zt(Zt([],r,!1),[(0,c.UM)(n.max)?-1/0:n.max],!1))}function Ga(n,r){var t={start:{x:0,y:0},end:{x:0,y:0}};n.isRect?t=function(n){var r,t;switch(n){case Dt.TOP:r={x:0,y:1},t={x:1,y:1};break;case Dt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Dt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Dt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}(r):n.isPolar&&(t=function(n){var r,t;return n.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}(n));var i=t.end;return{start:n.convert(t.start),end:n.convert(i)}}function dc(n){return n.start.x===n.end.x}function yc(n,r){var t=n.start,e=n.end;return dc(n)?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function Ha(n,r){var t=(0,c.U2)(n,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}function mc(n,r,t){var e=(0,c.U2)(n,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(e,["common","title"],{}),(0,c.b$)({},(0,c.U2)(e,[r,"title"],{})),t)}function bs(n){var r=n.x,t=n.y,e=n.circleCenter,i=t.start>t.end,a=n.convert(n.isTransposed?{x:i?0:1,y:0}:{x:0,y:i?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?xe.EU(o,s):-1*xe.EU(o,s),u=l+(r.end-r.start);return{center:e,radius:Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2)),startAngle:l,endAngle:u}}function Ua(n,r){return(0,c.jn)(n)?!1!==n&&{}:(0,c.U2)(n,[r])}function xc(n,r){return(0,c.U2)(n,"position",r)}function wc(n,r){return(0,c.U2)(r,["title","text"],Ei(n))}var Hn=function(){function n(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,c.b$)({},this.getDefaultCfg(),t)}return n.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},n.prototype.render=function(){this.renderViews()},n.prototype.update=function(){},n.prototype.clear=function(){this.clearFacetViews()},n.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},n.prototype.facetToView=function(r){var e=r.data,i=r.padding,o=this.view.createView({region:r.region,padding:void 0===i?this.cfg.padding:i});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},n.prototype.createContainer=function(){return this.view.getLayer(le.FORE).addGroup()},n.prototype.renderViews=function(){this.createFacetViews()},n.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},n.prototype.clearFacetViews=function(){var r=this;(0,c.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},n.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,e=r.height;return this.cfg.spacing.map(function(a,o){return(0,c.hj)(a)?a/(0===o?t:e):parseFloat(a)/100})},n.prototype.getFieldValues=function(r,t){var e=[],i={};return(0,c.S6)(r,function(a){var o=a[t];!(0,c.UM)(o)&&!i[o]&&(e.push(o),i[o]=!0)}),e},n.prototype.getRegion=function(r,t,e,i){var a=this.parseSpacing(),o=a[0],s=a[1],l=(1+o)/(0===t?1:t)-o,u=(1+s)/(0===r?1:r)-s,h={x:(l+o)*e,y:(u+s)*i};return{start:h,end:{x:h.x+l,y:h.y+u}}},n.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},n.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},n.prototype.processAxis=function(r,t){var e=r.getOptions(),a=r.geometries;if("rect"===(0,c.U2)(e.coordinate,"type","rect")&&a.length){(0,c.UM)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],f=Ua(s,u),v=Ua(s,h);!1!==f&&(e.axes[u]=this.getXAxisOption(u,s,f,t)),!1!==v&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},n.prototype.getFacetDataFilter=function(r){return function(t){return(0,c.yW)(r,function(e){var i=e.field,a=e.value;return!(!(0,c.UM)(a)&&i)||t[i]===a})}},n}(),Cc={},Un=function(n,r){Cc[(0,c.vl)(n)]=r},Oy=function(){function n(r,t){this.context=r,this.cfg=t,r.addAction(this)}return n.prototype.applyCfg=function(r){(0,c.f0)(this,r)},n.prototype.init=function(){this.applyCfg(this.cfg)},n.prototype.destroy=function(){this.context.removeAction(this),this.context=null},n}();const je=Oy;var By=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.callback=null},r}(je);const Iy=By;var Na={};function de(n,r,t){Na[n]={ActionClass:r,cfg:t}}function Fy(n,r){var t=new Iy(r);return t.callback=n,t.name="callback",t}function Ss(n,r){for(var t=[n[0]],e=1,i=n.length;e<i;e+=2){var a=r.convert({x:n[e],y:n[e+1]});t.push(a.x,a.y)}return t}function Mc(n,r){var t=r.isTransposed,e=n[1],o=r.convert({x:n[6],y:n[7]});return["A",e,e,0,0,t?0:1,o.x,o.y]}function bc(n,r,t){for(var e=!!r,i=[],a=0,o=n.length;a<o;a+=2)i.push([n[a],n[a+1]]);var h,f,v,s=function(n,r,t,e){var o,s,l,u,h,f,v,i=[],a=!!e;if(a){l=e[0],u=e[1];for(var g=0,d=n.length;g<d;g++)l=xe.VV([0,0],l,x=n[g]),u=xe.Fp([0,0],u,x)}g=0;for(var A=n.length;g<A;g++){var x=n[g];if(0!==g||t)if(g!==A-1||t){var E=[0,0];E=xe.lu(E,s=n[t?(g+1)%A:g+1],o=n[t?g?g-1:A-1:g-1]),E=xe.bA(E,E,.4);var R=xe.TE(x,o),I=xe.TE(x,s),D=R+I;0!==D&&(R/=D,I/=D);var q=xe.bA([0,0],E,-R),nt=xe.bA([0,0],E,I);f=xe.IH([0,0],x,q),h=xe.IH([0,0],x,nt),h=xe.VV([0,0],h,xe.Fp([0,0],s,x)),h=xe.Fp([0,0],h,xe.VV([0,0],s,x)),q=xe.lu([0,0],h,x),q=xe.bA([0,0],q,-R/I),f=xe.IH([0,0],x,q),f=xe.VV([0,0],f,xe.Fp([0,0],o,x)),f=xe.Fp([0,0],f,xe.VV([0,0],o,x)),nt=xe.lu([0,0],x,f),nt=xe.bA([0,0],nt,I/R),h=xe.IH([0,0],x,nt),a&&(f=xe.Fp([0,0],f,l),f=xe.VV([0,0],f,u),h=xe.Fp([0,0],h,l),h=xe.VV([0,0],h,u)),i.push(v),i.push(f),v=h}else f=x,i.push(v),i.push(f);else v=x}return t&&i.push(i.shift()),i}(i,0,e,t),l=i.length,u=[];for(a=0;a<l-1;a++)u.push(["C",(h=s[2*a])[0],h[1],(f=s[2*a+1])[0],f[1],(v=i[a+1])[0],v[1]]);return e&&u.push(["C",(h=s[l])[0],h[1],(f=s[l+1])[0],f[1],(v=i[0])[0],v[1]]),u}function _i(n,r){return function(n,r){var t=[];if(n.length){t.push(["M",n[0].x,n[0].y]);for(var e=1,i=n.length;e<i;e+=1){var a=n[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}(n,r)}function Xa(n,r,t){var e=[],i=n[0],a=null;if(n.length<=2)return _i(n,r);for(var o=0,s=n.length;o<s;o++){var l=n[o];(!a||a.x!==l.x||a.y!==l.y)&&(e.push(l.x),e.push(l.y),a=l)}var h=bc(e,r,t||[[0,0],[1,1]]);return h.unshift(["M",i.x,i.y]),h}function Sc(n,r){var i=n.event.target.getCanvasBBox();return i.width>=r||i.height>=r?i:null}function qr(n){var t,e=n.event.target;return e&&(t=e.get("element")),t}function Nn(n){var e,t=n.event.target;return t&&(e=t.get("delegateObject")),e}function Ac(n){var r=n.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Li(n){return n&&n.component&&n.component.isList()}function Tc(n){return n&&n.component&&n.component.isSlider()}function Pi(n){var t=n.event.target;return t&&"mask"===t.get("name")}function As(n,r){if("path"===n.event.target.get("type")){var e=function(n,r){var e=n.event.target,i=e.getCanvasBBox();return i.width>=r||i.height>=r?e.attr("path"):null}(n,r);return e?function(n,r){var t=qe(n),e=Lc(r);return t.filter(function(a){var s,o=a.shape;return s="path"===o.get("type")?Lc(o.attr("path")):function(n){return[[n.minX,n.minY],[n.maxX,n.minY],[n.maxX,n.maxY],[n.minX,n.maxY]]}(o.getCanvasBBox()),(0,pn.Wq)(e,s)})}(n.view,e):void 0}var i=Sc(n,r);return i?Ts(n.view,i):null}function Ec(n,r,t){var e=Sc(n,t);if(!e)return null;var i=n.view,a=_s(i,r,{x:e.x,y:e.y}),o=_s(i,r,{x:e.maxX,y:e.maxY});return Ts(r,{minX:a.x,minY:a.y,maxX:o.x,maxY:o.y})}function qe(n){var t=[];return(0,c.S6)(n.geometries,function(e){t=t.concat(e.elements)}),n.views&&n.views.length&&(0,c.S6)(n.views,function(e){t=t.concat(qe(e))}),t}function _c(n,r){var e=[];return(0,c.S6)(n.geometries,function(i){var a=i.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function wr(n,r){var e=n.getModel().data;return(0,c.kJ)(e)?e[0][r]:e[r]}function Ts(n,r){var t=qe(n),e=[];return(0,c.S6)(t,function(i){var o=i.shape.getCanvasBBox();(function(n,r){return!(r.minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)})(r,o)&&e.push(i)}),e}function Lc(n){var r=[];return(0,c.S6)(n,function(t){if("A"!==t[0])for(var i=1;i<t.length;i+=2)r.push([t[i],t[i+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Pc(n){return n.getComponents().map(function(r){return r.component})}function Es(n,r){var t=r.x-n.x,e=r.y-n.y;return Math.sqrt(t*t+e*e)}function Oc(n,r){return n.x<=r.x&&n.maxX>=r.x&&n.y<=r.y&&n.maxY>r.y}function Lr(n){var r=n.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==n})),t}function _s(n,r,t){var e=function(n,r){return n.getCoordinate().invert(r)}(n,t);return r.getCoordinate().convert(e)}function Bc(n,r,t,e){var i=!1;return(0,c.S6)(n,function(a){if(a[t]===r[t]&&a[e]===r[e])return i=!0,!1}),i}function Xn(n,r){var t=n.getScaleByField(r);return!t&&n.views&&(0,c.S6)(n.views,function(e){if(t=Xn(e,r))return!1}),t}var jy=function(){function n(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return n.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(1===r.length)return this.cacheMap[r[0]];2===r.length&&(this.cacheMap[r[0]]=r[1])},n.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},n.prototype.addAction=function(r){this.actions.push(r)},n.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},n.prototype.getCurrentPoint=function(){var r=this.event;return r?r.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(r.clientX,r.clientY):{x:r.x,y:r.y}:null},n.prototype.getCurrentShape=function(){return(0,c.U2)(this.event,["gEvent","shape"])},n.prototype.isInPlot=function(){var r=this.getCurrentPoint();return!!r&&this.view.isPointInPlot(r)},n.prototype.isInShape=function(r){var t=this.getCurrentShape();return!!t&&t.get("name")===r},n.prototype.isInComponent=function(r){var t=Pc(this.view),e=this.getCurrentPoint();return!!e&&!!t.find(function(i){var a=i.getBBox();return r?i.get("name")===r&&Oc(a,e):Oc(a,e)})},n.prototype.destroy=function(){(0,c.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},n}();const qy=jy;var Jy=function(){function n(r,t){this.view=r,this.cfg=t}return n.prototype.init=function(){this.initEvents()},n.prototype.initEvents=function(){},n.prototype.clearEvents=function(){},n.prototype.destroy=function(){this.clearEvents()},n}();function Ic(n,r,t){var e=n.split(":"),i=e[0],a=r.getAction(i)||function(n,r){var t=Na[n],e=null;return t&&((e=new(0,t.ActionClass)(r,t.cfg)).name=n,e.init()),e}(i,r);if(!a)throw new Error("There is no action named ".concat(i));return{action:a,methodName:e[1],arg:t}}function Dc(n){var r=n.action,t=n.methodName,e=n.arg;if(!r[t])throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t));r[t](e)}var $y=function(n){function r(t,e){var i=n.call(this,t,e)||this;return i.callbackCaches={},i.emitCaches={},i.steps=e,i}return ht(r,n),r.prototype.init=function(){this.initContext(),n.prototype.init.call(this)},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,c.S6)(this.steps,function(e,i){(0,c.S6)(e,function(a){var o=t.getActionCallback(i,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,c.S6)(this.steps,function(e,i){(0,c.S6)(e,function(a){var o=t.getActionCallback(i,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var e=new qy(this.view);this.context=e,(0,c.S6)(this.steps,function(a){(0,c.S6)(a,function(o){if((0,c.mf)(o.action))o.actionObject={action:Fy(o.action,e),methodName:"execute"};else if((0,c.HD)(o.action))o.actionObject=Ic(o.action,e,o.arg);else if((0,c.kJ)(o.action)){var s=o.action,l=(0,c.kJ)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,c.S6)(s,function(u,h){o.actionObject.push(Ic(u,e,l[h]))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName;if(e===t||"showEnable"===t)return!0;if("processing"===t)return"start"===e;if("start"===t)return"processing"!==e;if("end"===t)return"processing"===e||"start"===e;if("rollback"===t){if(this.steps.end)return"end"===e;if("start"===e)return!0}return!1},r.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var i=this.getKey(t,e);return(!e.once||!this.emitCaches[i])&&(!e.isEnable||e.isEnable(this.context))}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){"showEnable"!==t&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,e);this.emitCaches[i]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var i=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,i.isAllowExecute(t,e)?((0,c.kJ)(s)?(0,c.S6)(s,function(f){a.event=h,Dc(f)}):(a.event=h,Dc(s)),i.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};o[l]=e.debounce?(0,c.Ds)(u,e.debounce.wait,e.debounce.immediate):e.throttle?(0,c.P2)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.addEventListener(i[1],e):"document"===i[0]?document.addEventListener(i[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var i=t.split(":");"window"===i[0]?window.removeEventListener(i[1],e):"document"===i[0]?document.removeEventListener(i[1],e):this.view.off(t,e)},r}(Jy);const Ky=$y;var Fc={};function Ie(n,r){Fc[(0,c.vl)(n)]=r}function kc(n){var r,t={point:{default:{fill:n.pointFillColor,r:n.pointSize,stroke:n.pointBorderColor,lineWidth:n.pointBorder,fillOpacity:n.pointFillOpacity},active:{stroke:n.pointActiveBorderColor,lineWidth:n.pointActiveBorder},selected:{stroke:n.pointSelectedBorderColor,lineWidth:n.pointSelectedBorder},inactive:{fillOpacity:n.pointInactiveFillOpacity,strokeOpacity:n.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:n.hollowPointFillColor,lineWidth:n.hollowPointBorder,stroke:n.hollowPointBorderColor,strokeOpacity:n.hollowPointBorderOpacity,r:n.hollowPointSize},active:{stroke:n.hollowPointActiveBorderColor,strokeOpacity:n.hollowPointActiveBorderOpacity},selected:{lineWidth:n.hollowPointSelectedBorder,stroke:n.hollowPointSelectedBorderColor,strokeOpacity:n.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:n.hollowPointInactiveBorderOpacity}},area:{default:{fill:n.areaFillColor,fillOpacity:n.areaFillOpacity,stroke:null},active:{fillOpacity:n.areaActiveFillOpacity},selected:{fillOpacity:n.areaSelectedFillOpacity},inactive:{fillOpacity:n.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:n.hollowAreaBorderColor,lineWidth:n.hollowAreaBorder,strokeOpacity:n.hollowAreaBorderOpacity},active:{fill:null,lineWidth:n.hollowAreaActiveBorder},selected:{fill:null,lineWidth:n.hollowAreaSelectedBorder},inactive:{strokeOpacity:n.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:n.intervalFillColor,fillOpacity:n.intervalFillOpacity},active:{stroke:n.intervalActiveBorderColor,lineWidth:n.intervalActiveBorder},selected:{stroke:n.intervalSelectedBorderColor,lineWidth:n.intervalSelectedBorder},inactive:{fillOpacity:n.intervalInactiveFillOpacity,strokeOpacity:n.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:n.hollowIntervalFillColor,stroke:n.hollowIntervalBorderColor,lineWidth:n.hollowIntervalBorder,strokeOpacity:n.hollowIntervalBorderOpacity},active:{stroke:n.hollowIntervalActiveBorderColor,lineWidth:n.hollowIntervalActiveBorder,strokeOpacity:n.hollowIntervalActiveBorderOpacity},selected:{stroke:n.hollowIntervalSelectedBorderColor,lineWidth:n.hollowIntervalSelectedBorder,strokeOpacity:n.hollowIntervalSelectedBorderOpacity},inactive:{stroke:n.hollowIntervalInactiveBorderColor,lineWidth:n.hollowIntervalInactiveBorder,strokeOpacity:n.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:n.lineBorderColor,lineWidth:n.lineBorder,strokeOpacity:n.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:n.lineActiveBorder},selected:{lineWidth:n.lineSelectedBorder},inactive:{strokeOpacity:n.lineInactiveBorderOpacity}}},e=function(n){return{title:{autoRotate:!0,position:"center",spacing:n.axisTitleSpacing,style:{fill:n.axisTitleTextFillColor,fontSize:n.axisTitleTextFontSize,lineHeight:n.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:n.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:n.axisLabelOffset,style:{fill:n.axisLabelFillColor,fontSize:n.axisLabelFontSize,lineHeight:n.axisLabelLineHeight,fontFamily:n.fontFamily}},line:{style:{lineWidth:n.axisLineBorder,stroke:n.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:n.axisGridBorderColor,lineWidth:n.axisGridBorder,lineDash:n.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:n.axisTickLineBorder,stroke:n.axisTickLineBorderColor},alignTick:!0,length:n.axisTickLineLength},subTickLine:null,animate:!0}}(n),i=function(n){return{title:null,marker:{symbol:"circle",spacing:n.legendMarkerSpacing,style:{r:n.legendCircleMarkerSize,fill:n.legendMarkerColor}},itemName:{spacing:5,style:{fill:n.legendItemNameFillColor,fontFamily:n.fontFamily,fontSize:n.legendItemNameFontSize,lineHeight:n.legendItemNameLineHeight,fontWeight:n.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:n.legendPageNavigatorMarkerSize,inactiveFill:n.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:n.legendPageNavigatorMarkerInactiveFillOpacity,fill:n.legendPageNavigatorMarkerFillColor,opacity:n.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:n.legendPageNavigatorTextFillColor,fontSize:n.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:n.legendItemSpacing,itemMarginBottom:n.legendItemMarginBottom,padding:n.legendPadding}}(n);return{background:n.backgroundColor,defaultColor:n.brandColor,subColor:n.subColor,semanticRed:n.paletteSemanticRed,semanticGreen:n.paletteSemanticGreen,padding:"auto",fontFamily:n.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:n.paletteQualitative10,colors20:n.paletteQualitative20,sequenceColors:n.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Ai(a.getModel(),o),h=(s.startAngle+s.endAngle)/2,v=7.5*Math.cos(h),g=7.5*Math.sin(h);return{matrix:Ae.vs(null,[["t",v,g]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:m(m({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:m(m({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:m(m({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:m(m({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:m(m({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:m(m({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:m(m({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:m(m({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:e,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,c.b$)({},e.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,c.b$)({},e.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:n.legendVerticalPadding},left:{layout:"vertical",padding:n.legendVerticalPadding},top:{layout:"horizontal",padding:n.legendHorizontalPadding},bottom:{layout:"horizontal",padding:n.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:n.sliderRailHeight,defaultLength:n.sliderRailWidth,style:{fill:n.sliderRailFillColor,stroke:n.sliderRailBorderColor,lineWidth:n.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:n.sliderLabelTextFillColor,fontSize:n.sliderLabelTextFontSize,lineHeight:n.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:n.fontFamily}},handler:{size:n.sliderHandlerWidth,style:{fill:n.sliderHandlerFillColor,stroke:n.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:n.tooltipCrosshairsBorderColor,lineWidth:n.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(Fn)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:n.tooltipContainerFillColor,opacity:n.tooltipContainerFillOpacity,boxShadow:n.tooltipContainerShadow,borderRadius:"".concat(n.tooltipContainerBorderRadius,"px"),color:n.tooltipTextFillColor,fontSize:"".concat(n.tooltipTextFontSize,"px"),fontFamily:n.fontFamily,lineHeight:"".concat(n.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(kn)]={marginBottom:"12px",marginTop:"12px"},r["".concat(Si)]={margin:0,listStyleType:"none",padding:0},r["".concat(Da)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(Fa)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(ka)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:n.annotationArcBorderColor,lineWidth:n.annotationArcBorder},animate:!0},line:{style:{stroke:n.annotationLineBorderColor,lineDash:n.annotationLineDash,lineWidth:n.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,textAlign:"start",fontFamily:n.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:n.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:n.annotationRegionBorder,stroke:n.annotationRegionBorderColor,fill:n.annotationRegionFillColor,fillOpacity:n.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:n.brandColor,lineWidth:2}},line:{style:{stroke:n.annotationLineBorderColor,lineWidth:n.annotationLineBorder},length:n.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,fontFamily:n.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:n.annotationRegionFillColor,fillOpacity:n.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:n.annotationTextFillColor,stroke:n.annotationTextBorderColor,lineWidth:n.annotationTextBorder,fontSize:n.annotationTextFontSize,fontFamily:n.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:n.cSliderBackgroundFillColor,opacity:n.cSliderBackgroundFillOpacity},foregroundStyle:{fill:n.cSliderForegroundFillColor,opacity:n.cSliderForegroundFillOpacity},handlerStyle:{width:n.cSliderHandlerWidth,height:n.cSliderHandlerHeight,fill:n.cSliderHandlerFillColor,opacity:n.cSliderHandlerFillOpacity,stroke:n.cSliderHandlerBorderColor,lineWidth:n.cSliderHandlerBorder,radius:n.cSliderHandlerBorderRadius,highLightFill:n.cSliderHandlerHighlightFillColor},textStyle:{fill:n.cSliderTextFillColor,opacity:n.cSliderTextFillOpacity,fontSize:n.cSliderTextFontSize,lineHeight:n.cSliderTextLineHeight,fontWeight:n.cSliderTextFontWeight,stroke:n.cSliderTextBorderColor,lineWidth:n.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:n.scrollbarTrackFillColor,thumbColor:n.scrollbarThumbFillColor}},hover:{style:{thumbColor:n.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:n.labelFillColor,fontSize:n.labelFontSize,fontFamily:n.fontFamily,stroke:n.labelBorderColor,lineWidth:n.labelBorder},fillColorDark:n.labelFillColorDark,fillColorLight:n.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:n.innerLabelFillColor,fontSize:n.innerLabelFontSize,fontFamily:n.fontFamily,stroke:n.innerLabelBorderColor,lineWidth:n.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:n.overflowLabelFillColor,fontSize:n.overflowLabelFontSize,fontFamily:n.fontFamily,stroke:n.overflowLabelBorderColor,lineWidth:n.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:n.labelLineBorder}},autoRotate:!0}}}var Se_65="#595959",Se_25="#BFBFBF",im=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],am=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],om=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Rc=function(n){void 0===n&&(n={});var r=n.backgroundColor,e=n.subColor,a=n.paletteQualitative10,o=void 0===a?im:a,s=n.paletteQualitative20,u=n.paletteSemanticRed,f=n.paletteSemanticGreen,g=n.paletteSemanticYellow,x=n.paletteSequence,E=n.fontFamily,I=n.brandColor,D=void 0===I?o[0]:I;return{backgroundColor:void 0===r?"transparent":r,brandColor:D,subColor:void 0===e?"rgba(0,0,0,0.05)":e,paletteQualitative10:o,paletteQualitative20:void 0===s?am:s,paletteSemanticRed:void 0===u?"#F4664A":u,paletteSemanticGreen:void 0===f?"#30BF78":f,paletteSemanticYellow:void 0===g?"#FAAD14":g,paletteSequence:void 0===x?om:x,fontFamily:void 0===E?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':E,axisLineBorderColor:Se_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Se_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Se_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#D9D9D9",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:"#8C8C8C",axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#D9D9D9",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:"#8C8C8C",legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:D,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Se_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:"#000",legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:"#000",legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:"#8C8C8C",legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#D9D9D9",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:"#8C8C8C",sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Se_25,annotationArcBorderColor:"#D9D9D9",annotationArcBorder:1,annotationLineBorderColor:Se_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Se_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:"#000",annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Se_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Se_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Se_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#FFFFFF",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Se_65,overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#FFFFFF",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Se_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:D,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#FFFFFF",pointBorderOpacity:1,pointActiveBorderColor:"#000",pointSelectedBorder:2,pointSelectedBorderColor:"#000",pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:D,hollowPointBorderOpacity:.95,hollowPointFillColor:"#FFFFFF",hollowPointActiveBorder:1,hollowPointActiveBorderColor:"#000",hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:"#000",hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:D,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:D,areaFillOpacity:.25,areaActiveFillColor:D,areaActiveFillOpacity:.5,areaSelectedFillColor:D,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:D,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:"#000",hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:"#000",hollowAreaInactiveBorderOpacity:.3,intervalFillColor:D,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:"#000",intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:"#000",intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:D,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#FFFFFF",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:"#000",hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:"#000",hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}};function Va(n){var r=n.styleSheet,t=void 0===r?{}:r,e=H(n,["styleSheet"]),i=Rc(t);return(0,c.b$)({},kc(i),e)}Rc();var Ls={default:Va({})};function Ps(n){return(0,c.U2)(Ls,(0,c.vl)(n),Ls.default)}function Yc(n,r,t){var e=t.translate(n),i=t.translate(r);return(0,c.vQ)(e,i)}function Gc(n,r,t){var e=t.coordinate,i=t.getYScale(),a=i.field,o=e.invert(r),s=i.invert(o.y);return(0,c.sE)(n,function(u){var h=u[we];return h[a][0]<=s&&h[a][1]>=s})||n[n.length-1]}var hm=(0,c.HP)(function(n){if(n.isCategory)return 1;for(var r=n.values,t=r.length,e=n.translate(r[0]),i=e,a=0;a<t;a++){var s=n.translate(r[a]);s<e&&(e=s),s>i&&(i=s)}return(i-e)/(t-1)});function Hc(n){for(var t,r=function(n){var r=(0,c.VO)(n.attributes);return(0,c.hX)(r,function(t){return(0,c.FX)(or,t.type)})}(n),e=0,i=r;e<i.length;e++){var a=i[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=n.getXScale(),l=n.getYScale();return t||l||s}function Uc(n,r,t){if(0===r.length)return null;var e=t.type,i=t.getXScale(),a=t.getYScale(),o=i.field,s=a.field,l=null;if("heatmap"===e||"point"===e){for(var h=t.coordinate.invert(n),f=i.invert(h.x),v=a.invert(h.y),g=1/0,d=0;d<r.length;d++){var x=r[d],A=x[we],E=Math.pow(A[o]-f,2)+Math.pow(A[s]-v,2);E<g&&(g=E,l=x)}return l}var R=r[0],I=r[r.length-1],D=function(n,r){var t=r.coordinate,e=r.getXScale(),i=e.range,a=i[i.length-1],o=i[0],l=t.invert(n).x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}(n,t),q=R[we][o],Pt=I[we][o],Xt=a.isLinear&&(0,c.kJ)(R[we][s]);if((0,c.kJ)(q)){for(d=0;d<r.length;d++)if(i.translate((A=(Jt=r[d])[we])[o][0])<=D&&i.translate(A[o][1])>=D){if(!Xt){l=Jt;break}(0,c.kJ)(l)||(l=[]),l.push(Jt)}(0,c.kJ)(l)&&(l=Gc(l,n,t))}else{var oe=void 0;if(i.isLinear||"timeCat"===i.type){if((D>i.translate(Pt)||D<i.translate(q))&&(D>i.max||D<i.min))return null;for(var ge=0,ye=r.length-1,_e=void 0;ge<=ye;){var Re=r[_e=Math.floor((ge+ye)/2)][we][o];if(Yc(Re,D,i))return r[_e];i.translate(Re)<=i.translate(D)?(ge=_e+1,I=r[_e],oe=r[_e+1]):(0===ye&&(I=r[0]),ye=_e-1)}}else{for(d=0;d<r.length;d++){var Jt;if(Yc((A=(Jt=r[d])[we])[o],D,i)){if(!Xt){l=Jt;break}(0,c.kJ)(l)||(l=[]),l.push(Jt)}else i.translate(A[o])<=D&&(I=Jt,oe=r[d+1])}(0,c.kJ)(l)&&(l=Gc(l,n,t))}I&&oe&&Math.abs(i.translate(I[we][o])-D)>Math.abs(i.translate(oe[we][o])-D)&&(I=oe)}var Ve=hm(t.getXScale());return!l&&Math.abs(i.translate(I[we][o])-D)<=Ve/2&&(l=I),l}function Os(n,r,t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var u,h,i=n[we],a=function(n,r,t){var i=r.getAttribute("position").getFields(),a=r.scales,o=(0,c.mf)(t)||!t?i[0]:t,s=a[o],l=s?s.getText(n[o]):n[o]||o;return(0,c.mf)(t)?t(l,n):l}(i,r,t),o=r.tooltipOption,s=r.theme.defaultColor,l=[];function f(Pt,Xt){(e||!(0,c.UM)(Xt)&&""!==Xt)&&l.push({title:a,data:i,mappingData:n,name:Pt,value:Xt,color:n.color||s,marker:!0})}if((0,c.Kn)(o)){var v=o.fields,g=o.callback;if(g){var d=v.map(function(Pt){return n[we][Pt]}),x=g.apply(void 0,d),A=m({data:n[we],mappingData:n,title:a,color:n.color||s,marker:!0},x);l.push(A)}else for(var E=r.scales,R=0,I=v;R<I.length;R++){var D=I[R];if(!(0,c.UM)(i[D])){var q=E[D];f(u=Ei(q),h=q.getText(i[D]))}}}else{var nt=Hc(r);h=function(n,r){var e=n[r.field];return(0,c.kJ)(e)?e.map(function(a){return r.getText(a)}).join("-"):r.getText(e)}(i,nt),u=function(n,r){var t,e=r.getGroupScales();return e.length&&(t=e[0]),t?t.getText(n[t.field]):Ei(Hc(r))}(i,r),f(u,h)}return l}function Nc(n,r,t,e){var i=e.showNil,a=[],o=n.dataArray;if(!(0,c.xb)(o)){n.sort(o);for(var s=0,l=o;s<l.length;s++){var h=Uc(r,l[s],n);if(h){var f=n.getElementId(h);if("heatmap"===n.type||n.elementsMap[f].visible){var g=Os(h,n,t,i);g.length&&a.push(g)}}}}return a}function Xc(n,r,t,e){var i=e.showNil,a=[],s=n.container.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var u=Os(s.get("origin").mappingData,n,t,i);u.length&&a.push(u)}return a}function Bs(n,r,t){for(var e=[],a=t.shared,o=t.title,s=t.reversed,l=0,u=n.geometries;l<u.length;l++){var h=u[l];if(h.visible&&!1!==h.tooltipOption){var f=h.type,v=void 0;(v=["point","edge","polygon"].includes(f)?Xc(h,r,o,t):["area","line","path","heatmap"].includes(f)||!1!==a?Nc(h,r,o,t):Xc(h,r,o,t)).length&&(s&&v.reverse(),e.push(v))}}return e}function Is(n){void 0===n&&(n=0);var r=(0,c.kJ)(n)?n:[n];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=Zt(Zt([],r,!0),r,!0);break;case 3:r=Zt(Zt([],r,!0),[r[1]],!1);break;default:r=r.slice(0,4)}return r}var za={};function Vn(n,r){za[n]=r}function mm(n){return za[n]}var xm=function(){function n(r){this.option=this.wrapperOption(r)}return n.prototype.update=function(r){return this.option=this.wrapperOption(r),this},n.prototype.hasAction=function(r){return(0,c.G)(this.option.actions,function(e){return e[0]===r})},n.prototype.create=function(r,t){var e=this.option,i=e.type,o="theta"===i,s=m({start:r,end:t},e.cfg),l=function(n){return rh[n.toLowerCase()]}(o?"polar":i);return this.coordinate=new l(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},n.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},n.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},n.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},n.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},n.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},n.prototype.getOption=function(){return this.option},n.prototype.getCoordinate=function(){return this.coordinate},n.prototype.wrapperOption=function(r){return m({type:"rect",actions:[],cfg:{}},r)},n.prototype.execActions=function(r){var t=this;(0,c.S6)(this.option.actions,function(i){var a,o=i[0],s=i.slice(1);((0,c.UM)(r)||r.includes(o))&&(a=t.coordinate)[o].apply(a,s)})},n}();const wm=xm;var Cm=function(){function n(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return n.fromData=function(r,t,e){return new n(r,new Ne.Event(t,{}),e)},Object.defineProperty(n.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},n.prototype.clone=function(){return new n(this.view,this.gEvent,this.data)},n}();const $e=Cm;function Mm(n){var r=n.getController("axis"),t=n.getController("legend"),e=n.getController("annotation");[r,n.getController("slider"),n.getController("scrollbar"),t,e].forEach(function(o){o&&o.layout()})}var bm=function(){function n(){this.scales=new Map,this.syncScales=new Map}return n.prototype.createScale=function(r,t,e,i){var a=e,o=this.getScaleMeta(i);if(0===t.length&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,c.b$)(l,o.scaleDef,e)}var u=function(n,r,t){var e=r||[];if((0,c.hj)(n)||(0,c.UM)((0,c.Wx)(e,n))&&(0,c.xb)(t))return new(zo("identity"))({field:n.toString(),values:[n]});var a=(0,c.I)(e,n),o=(0,c.U2)(t,"type",function(n){var r="linear";return by.test(n)?r="timeCat":(0,c.HD)(n)&&(r="cat"),r}(a[0]));return new(zo(o))(m({field:n,values:a},t))}(r,t,a);return this.cacheScale(u,e,i),u},n.prototype.sync=function(r,t){var e=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];(0,c.S6)(i,function(u){var h=e.getScale(u);s=(0,c.hj)(h.max)?Math.max(s,h.max):s,o=(0,c.hj)(h.min)?Math.min(o,h.min):o,(0,c.S6)(h.values,function(f){l.includes(f)||l.push(f)})}),(0,c.S6)(i,function(u){var h=e.getScale(u);if(h.isContinuous)h.change({min:o,max:s,values:l});else if(h.isCategory){var f=h.range,v=e.getScaleMeta(u);l&&!(0,c.U2)(v,["scaleDef","range"])&&(f=gc((0,c.b$)({},h,{values:l}),r,t)),h.change({values:l,range:f})}})})},n.prototype.cacheScale=function(r,t,e){var i=this.getScaleMeta(e);i&&i.scale.type===r.type?(function(n,r){if("identity"!==n.type&&"identity"!==r.type){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);n.change(t)}}(i.scale,r),i.scaleDef=t):this.scales.set(e,i={key:e,scale:r,scaleDef:t});var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||this.syncScales.set(a,o=[]),o.push(e)}},n.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,c.Z$)(r.split("-")),i=this.syncScales.get(e);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},n.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var i=this.syncScales.get(t.syncKey);if(i&&i.length){var a=i.indexOf(r);-1!==a&&i.splice(a,1)}}this.scales.delete(r)},n.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},n.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,i){var a=e.indexOf(r);if(-1!==a)return e.splice(a,1),0===e.length&&t.syncScales.delete(i),!1})},n.prototype.getSyncKey=function(r){var i=r.scale.field,a=(0,c.U2)(r.scaleDef,["sync"]);return!0===a?i:!1===a?void 0:a},n.prototype.getScaleMeta=function(r){return this.scales.get(r)},n}(),Za=function(){function n(r,t,e,i){void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.top=r,this.right=t,this.bottom=e,this.left=i}return n.instance=function(r,t,e,i){return void 0===r&&(r=0),void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),new n(r,t,e,i)},n.prototype.max=function(r){var e=r[1],i=r[2],a=r[3];return this.top=Math.max(this.top,r[0]),this.right=Math.max(this.right,e),this.bottom=Math.max(this.bottom,i),this.left=Math.max(this.left,a),this},n.prototype.shrink=function(r){var e=r[1],i=r[2],a=r[3];return this.top+=r[0],this.right+=e,this.bottom+=i,this.left+=a,this},n.prototype.inc=function(r,t){var e=r.width,i=r.height;switch(t){case Dt.TOP:case Dt.TOP_LEFT:case Dt.TOP_RIGHT:this.top+=i;break;case Dt.RIGHT:case Dt.RIGHT_TOP:case Dt.RIGHT_BOTTOM:this.right+=e;break;case Dt.BOTTOM:case Dt.BOTTOM_LEFT:case Dt.BOTTOM_RIGHT:this.bottom+=i;break;case Dt.LEFT:case Dt.LEFT_TOP:case Dt.LEFT_BOTTOM:this.left+=e}return this},n.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},n.prototype.clone=function(){return new(n.bind.apply(n,Zt([void 0],this.getPadding(),!1)))},n}();function Am(n,r,t){var e=t.instance();r.forEach(function(i){i.autoPadding=e.max(i.autoPadding.getPadding())})}var Vc=function(n){function r(t){var e=n.call(this,{visible:t.visible})||this;e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=Object.keys(za),e.scalePool=new bm,e.layoutFunc=Mm,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(I){var D=I.name;if(!D.includes(":")){var q=e.createViewEvent(I);e.doPlotEvent(q),e.emit(D,q)}},e.onDelegateEvents=function(I){var D=I.name;if(D.includes(":")){var q=e.createViewEvent(I);e.emit(D,q)}};var i=t.id,a=void 0===i?(0,c.EL)("view"):i,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,h=t.foregroundGroup,f=t.region,v=void 0===f?{start:{x:0,y:0},end:{x:1,y:1}}:f,g=t.padding,d=t.appendPadding,x=t.theme,A=t.options,E=t.limitInPlot,R=t.syncViewPadding;return e.parent=t.parent,e.canvas=s,e.backgroundGroup=l,e.middleGroup=u,e.foregroundGroup=h,e.region=v,e.padding=g,e.appendPadding=d,e.options=m(m({},e.options),A),e.limitInPlot=E,e.id=a,e.syncViewPadding=R,e.themeObject=(0,c.Kn)(x)?(0,c.b$)({},Ps("default"),Va(x)):Ps(x),e.init(),e}return ht(r,n),r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(be.BEFORE_RENDER,$e.fromData(this,be.BEFORE_RENDER,e)),this.paint(t),this.emit(be.AFTER_RENDER,$e.fromData(this,be.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(be.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,i=0;i<e.length;i++)e[i].clear(),e[i].container.remove(!0),e[i].labelsContainer.remove(!0);this.geometries=[];var a=this.controllers;for(i=0;i<a.length;i++)"annotation"===a[i].name?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();var o=this.views;for(i=0;i<o.length;i++)o[i].clear();this.emit(be.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(be.BEFORE_DESTROY),(0,c.S6)(this.interactions,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,i=0,a=e.length;i<a;i++)e[i].destroy();this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),n.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t);for(var e=this.geometries,i=0,a=e.length;i<a;i++)e[i].changeVisible(t);var s=this.controllers;for(i=0,a=s.length;i<a;i++)s[i].changeVisible(t);return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,c.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,c.mf)(e)?((0,c.t8)(this.options,["filters",t],e),this):(!e&&(0,c.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,c.jn)(t)?(0,c.t8)(this.options,["axes"],t):(0,c.t8)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,c.jn)(t)?(0,c.t8)(this.options,["legends"],t):(0,c.HD)(t)?((0,c.t8)(this.options,["legends",t],e),(0,c.PO)(e)&&(null==e?void 0:e.selected)&&(0,c.t8)(this.options,["filters",t],function(i){var a;return null===(a=null==e?void 0:e.selected[i])||void 0===a||a})):(0,c.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var i=this;return(0,c.HD)(t)?(0,c.t8)(this.options,["scales",t],e):(0,c.Kn)(t)&&(0,c.S6)(t,function(a,o){(0,c.t8)(i.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,c.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,c.HD)(t)?(0,c.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,c.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var i=function(n){return Cc[(0,c.vl)(n)]}(t);if(!i)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new i(this,m(m({},e),{type:t})),this},r.prototype.animate=function(t){return(0,c.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,c.CD)(this.options,t),this.views.forEach(function(e){return e.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return(0,c.t8)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,c.Kn)(t)?(0,c.b$)({},this.themeObject,Va(t)):Ps(t),this},r.prototype.interaction=function(t,e){var i=this.interactions[t];i&&i.destroy();var a=function(n,r,t){var e=function(n){return Fc[(0,c.vl)(n)]}(n);if(!e)return null;if((0,c.PO)(e)){var i=(0,c.CD)((0,c.d9)(e),t);return new Ky(r,i)}return new e(r,t)}(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(be.BEFORE_CHANGE_DATA,$e.fromData(this,be.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].changeData(t);this.emit(be.AFTER_CHANGE_DATA,$e.fromData(this,be.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var e={data:this.options.data,scales:(0,c.d9)(this.options.scales),axes:(0,c.d9)(this.options.axes),coordinate:(0,c.d9)(this.coordinateController.getOption()),tooltip:(0,c.d9)(this.options.tooltip),legends:(0,c.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r(m(m({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:1}),middleGroup:this.middleGroup.addGroup({zIndex:2}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:3}),theme:this.themeObject,padding:this.padding},t),{options:m(m({},e),(0,c.U2)(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,c.Od)(this.views,function(i){return i===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;t[o]||(t[o]=!0,e.push(a))}),e},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,i={},a=0,o=e.length;a<o;a++){var s=e[a],l="x"===t?s.getXScale():s.getYScale();l&&!i[l.field]&&(i[l.field]=l)}return i},r.prototype.getScale=function(t,e){var i=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,c.u4)(this.geometries,function(t,e){return t.concat(e.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(e){return t(e)})},r.prototype.getLayer=function(t){return t===le.BG?this.backgroundGroup:t===le.MID?this.middleGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return Ms(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,c.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return jr((0,c.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},r.prototype.getXY=function(t){var o,s,e=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y");if((0,c.S6)(t,function(l,u){i[u]&&(o=i[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,c.UM)(o)&&!(0,c.UM)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,c.sE)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,i=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,f=l.length;h<f;h++)(u=Uc(t,l[h],s))&&i.push(u)}var g=this.views;for(a=0,o=g.length;a<o;a++){var x=g[a].getSnapRecords(t);i=i.concat(x)}return i},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,i=0,a=e.length;i<a;i++)t=t.concat(e[i].getComponents());return t},r.prototype.filterData=function(t){var e=this.options.filters;return 0===(0,c.dp)(e)?t:(0,c.hX)(t,function(i,a){return Object.keys(e).every(function(s){return(0,e[s])(i[s],i,a)})})},r.prototype.filterFieldData=function(t,e){var a=(0,c.U2)(this.options.filters,t);return(0,c.o8)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),i=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;(0,c.Xy)(t.start,a)&&(0,c.Xy)(i,o)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o))},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(be.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(be.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,c.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox;this.backgroundStyleRectShape.attr({fill:t,x:e.x,y:e.y,width:e.width,height:e.height})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=function(n){var r=n.padding;if(!function(n){return!(0,c.hj)(n)&&!(0,c.kJ)(n)}(r))return new(Za.bind.apply(Za,Zt([void 0],Is(r),!1)));var t=n.viewBBox,e=new Za,i=[],a=[],o=[];return(0,c.S6)(n.getComponents(),function(s){var l=s.type;l===Ee.AXIS?i.push(s):[Ee.LEGEND,Ee.SLIDER,Ee.SCROLLBAR].includes(l)?a.push(s):l!==Ee.GRID&&l!==Ee.TOOLTIP&&o.push(s)}),(0,c.S6)(i,function(s){var u=s.component.getLayoutBBox(),f=new Qe(u.x,u.y,u.width,u.height).exceed(t);e.max(f)}),(0,c.S6)(a,function(s){var l=s.component,u=s.direction,h=l.getLayoutBBox(),f=l.get("padding"),v=new Qe(h.x,h.y,h.width,h.height).expand(f);e.inc(v,u)}),(0,c.S6)(o,function(s){var u=s.direction,h=s.component.getLayoutBBox(),f=new Qe(h.x,h.y,h.width,h.height);e.inc(f,u)}),e}(this).shrink(Is(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].renderPaddingRecursive(t)},r.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?Am:(0,c.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,Za),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++)i[a].renderLayoutRecursive(t)},r.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var i=pc(this.coordinateInstance);e.setClip({type:i.type,attrs:i.attrs})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++)s[l].renderPaintRecursive(t)},r.prototype.createScale=function(t,e,i,a){var o=(0,c.U2)(this.options.scales,[t]),s=m(m({},o),i);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,i=0,a=e.length;i<a;i++)e[i].renderDataRecursive(t)},r.prototype.calculateViewBBox=function(){var t,e,i,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,i=o.width,a=o.height}else t=0,e=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new Qe(t+i*l.x,e+a*l.y,i*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new Qe(t+i*l.x,e+a*l.y,i*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,i=t.length;e<i;e++){var o=mm(t[e]);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,i=t.name,a=e?e.get("origin"):null,o=new $e(this,t,a);return o.type=i,o},r.prototype.doPlotEvent=function(t){var e=t.type,o={x:t.x,y:t.y};if(["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(e)){var l=this.isPointInPlot(o),u=t.clone();if(l){var h="plot:".concat(e);u.type=h,this.emit(h,u),("mouseleave"===e||"touchend"===e)&&(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!l?("mousemove"===e&&(u.type=Ue.MOUSE_LEAVE,this.emit(Ue.MOUSE_LEAVE,u)),u.type=Ue.LEAVE,this.emit(Ue.LEAVE,u)):!this.isPreMouseInPlot&&l&&("mousemove"===e&&(u.type=Ue.MOUSE_ENTER,this.emit(Ue.MOUSE_ENTER,u)),u.type=Ue.ENTER,this.emit(Ue.ENTER,u)),this.isPreMouseInPlot=l):("mouseleave"===e||"touchend"===e)&&this.isPreMouseInPlot&&("mouseleave"===e&&(u.type=Ue.MOUSE_LEAVE,this.emit(Ue.MOUSE_LEAVE,u)),u.type=Ue.LEAVE,this.emit(Ue.LEAVE,u),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){this.filteredData=this.filterData(this.options.data)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),i=(0,c.U2)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=void 0===o?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var f=t[u],v=s[f],g=this.getScaleKey(f);this.createScale(f,e.includes(f)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},i=0;i<t.length;i++){var a=t[i];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e=new Map,i=this.geometries,a=0;a<i.length;a++)jr(i[a].getScaleFields(),t,e);return t},r.prototype.getGroupedFields=function(){for(var t=[],e=new Map,i=this.geometries,a=0;a<i.length;a++)jr(i[a].getGroupFields(),t,e);return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=Zt([this.getXScale()],this.getYScales(),!0).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;(0,c.S6)(e,function(o){(o.isCategory||o.isIdentity)&&o.values&&!(0,c.U2)(a,[o.field,"range"])&&(o.range=gc(o,i,t.theme))})},r.prototype.initComponents=function(t){for(var e=this.controllers,i=0;i<e.length;i++){var a=e[i];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){this.coordinateInstance=this.coordinateController.create(this.coordinateBBox.bl,this.coordinateBBox.tr)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=i,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++)this.getComponents()[e].component.render()},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,e=this.options,i=e.geometries,a=void 0===i?[]:i,o=e.interactions,s=void 0===o?[]:o,l=e.views,u=void 0===l?[]:l,h=e.annotations,f=void 0===h?[]:h,v=e.coordinate,g=e.events,d=e.facets;this.coordinateController?v&&this.coordinateController.update(v):this.coordinateController=new wm(v);for(var x=0;x<a.length;x++)this.createGeometry(a[x]);for(var E=0;E<s.length;E++){var R=s[E];this.interaction(R.type,R.cfg)}for(var q=0;q<u.length;q++)this.createView(u[q]);for(var Pt=this.getController("annotation"),Xt=0;Xt<f.length;Xt++)Pt.annotation(f[Xt]);g&&(0,c.S6)(g,function(oe,ge){t.on(ge,oe)}),d&&(0,c.S6)(d,function(oe){var ge=oe.type,ye=H(oe,["type"]);t.facet(ge,ye)})},r.prototype.createGeometry=function(t){var e=t.type,i=t.cfg;if(this[e]){var o=this[e](void 0===i?{}:i);(0,c.S6)(t,function(s,l){(0,c.mf)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Qi);function Pr(n,r){Vc.prototype[n.toLowerCase()]=function(t){void 0===t&&(t={});var e=m({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(e);return this.geometries.push(i),i}}var Tm=function(n){function r(t){var e=this,i=t.container,a=t.width,o=t.height,s=t.autoFit,l=void 0!==s&&s,u=t.padding,h=t.appendPadding,f=t.renderer,v=void 0===f?"canvas":f,g=t.pixelRatio,d=t.localRefresh,x=void 0===d||d,A=t.visible,E=void 0===A||A,R=t.supportCSSTransform,I=void 0!==R&&R,D=t.defaultInteractions,q=void 0===D?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:D,nt=t.options,Pt=t.limitInPlot,Xt=t.theme,Jt=t.syncViewPadding,oe=(0,c.HD)(i)?document.getElementById(i):i,ge=Sr('<div style="position:relative;"></div>');oe.appendChild(ge);var ye=bo(oe,l,a,o),_e=function(n){var r=sn[n];if(!r)throw new Error("G engine '".concat(n,"' is not exist, please register it at first."));return r}(v),Re=new _e.Canvas(m({container:ge,pixelRatio:g,localRefresh:x,supportCSSTransform:I},ye));return(e=n.call(this,{parent:null,canvas:Re,backgroundGroup:Re.addGroup({zIndex:1}),middleGroup:Re.addGroup({zIndex:2}),foregroundGroup:Re.addGroup({zIndex:3}),padding:u,appendPadding:h,visible:E,options:nt,limitInPlot:Pt,theme:Xt,syncViewPadding:Jt})||this).onResize=(0,c.Ds)(function(){e.forceFit()},300),e.ele=oe,e.canvas=Re,e.width=ye.width,e.height=ye.height,e.autoFit=l,e.localRefresh=x,e.renderer=v,e.wrapperElement=ge,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(q),e}return ht(r,n),r.prototype.initDefaultInteractions=function(t){var e=this;(0,c.S6)(t,function(i){e.interaction(i)})},r.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(be.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(be.AFTER_CHANGE_SIZE)),this},r.prototype.clear=function(){n.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),function(n){var r=n.parentNode;r&&r.removeChild(n)}(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return n.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=bo(this.ele,!0,this.width,this.height);this.changeSize(t.width,t.height)}},r.prototype.updateCanvasStyle=function(){We(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Vc);const Bi=Tm;var zn=function(){function n(r){this.visible=!0,this.components=[],this.view=r}return n.prototype.clear=function(r){(0,c.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},n.prototype.destroy=function(){this.clear()},n.prototype.getComponents=function(){return this.components},n.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},n}(),_m=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.isLocked=!1,t}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,i=this.getTooltipItems(t);if(!i.length)return void this.hideTooltip();var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};e.emit("tooltip:show",$e.fromData(e,"tooltip:show",m({items:i,title:a},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,f=s.showContent,v=s.marker,g=this.items;if((0,c.Xy)(this.title,a)&&(0,c.Xy)(g,i)?(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",$e.fromData(e,"tooltip:change",m({items:i,title:a},t))),((0,c.mf)(f)?f(i):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,c.CD)({},s,{items:this.getItemsAfterProcess(i),title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(i,v)),this.items=i,this.title=a,h){var x=(0,c.U2)(s,["crosshairs","follow"],!1);this.renderCrosshairs(x?t:o,s)}}},r.prototype.hideTooltip=function(){if(this.getTooltipCfg().follow){var e=this.tooltipMarkersGroup;e&&e.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",$e.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,i=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),(null==e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,i=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var i=0,a=e=(0,c.xH)(e);i<a.length;i++)for(var s=0,l=a[i];s<l.length;s++){var u=l[s],h=u.mappingData,f=h.x,v=h.y;u.x=(0,c.kJ)(f)?f[f.length-1]:f,u.y=(0,c.kJ)(v)?v[v.length-1]:v}if(!1===this.getTooltipCfg().shared&&e.length>1){for(var d=e[0],x=Math.abs(t.y-d[0].y),A=0,E=e;A<E.length;A++){var R=E[A],I=Math.abs(t.y-R[0].y);I<=x&&(d=R,x=I)}e=[d]}return function(n){for(var r=[],t=function(i){var a=n[i];(0,c.sE)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title})||r.push(a)},e=0;e<n.length;e++)t(e);return r}((0,c.xH)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(e&&i){var a=e.getBoundingClientRect();return new Qe(a.x,a.y,a.width,a.height).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,i=this.processCustomContent(e),a=t.getTheme(),o=(0,c.U2)(a,["components","tooltip"],{}),s=(0,c.U2)(i,"enterable",o.enterable);return(0,c.b$)({},o,i,{capture:!(!s&&!this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,c.jn)(t)||!(0,c.U2)(t,"customContent"))return t;var e=t.customContent;return m(m({},t),{customContent:function(a,o){var s=e(a,o)||"";return(0,c.HD)(s)?'<div class="g2-tooltip">'+s+"</div>":s}})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),a=new uc(m(m({parent:t.get("el").parentNode,region:e},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var i=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=m(m({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});i.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var i=(0,c.U2)(e,["crosshairs","type"],"x");"x"===i?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===i?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===i&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Ms(i,t)){var a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}):(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y});else{var s=Gn(i,t),l=i.getCenter(),u=i.getRadius();o=Ye(l.x,l.y,u,s),a=l}var h=(0,c.b$)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,c.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var f=this.xCrosshair;f?f.update(h):(f=new tc(h)).init(),f.render(),f.show(),this.xCrosshair=f}},r.prototype.renderYCrosshairs=function(t,e){var i=this.getViewWithGeometry(this.view).getCoordinate();if(Ms(i,t)){var a,o;if(i.isRect){var s=void 0,l=void 0;i.isTransposed?(s={x:t.x,y:i.end.y},l={x:t.x,y:i.start.y}):(s={x:i.start.x,y:t.y},l={x:i.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:i.getCenter(),radius:Ya(i,t),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";delete(a=(0,c.b$)({container:this.getTooltipCrosshairsGroup()},a,(0,c.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type;var u=this.yCrosshair;u?i.isRect&&"circle"===u.get("type")||!i.isRect&&"line"===u.get("type")?(u=new Tt[o](a)).init():u.update(a):(u=new Tt[o](a)).init(),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,i){var a=(0,c.U2)(i,["crosshairs","text"]),o=(0,c.U2)(i,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),f=l.getYScales()[0],v=void 0,g=void 0;if(o){var d=this.view.getCoordinate().invert(e);v=h.invert(d.x),g=f.invert(d.y)}else v=u.data[h.field],g=u.data[f.field];var x="x"===t?v:g;return(0,c.mf)(a)?a=a(t,x,s,e):a.content=x,{text:a}}},r.prototype.getGuideGroup=function(){return this.guideGroup||(this.guideGroup=this.view.foregroundGroup.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var a=Bs(t,e,this.getTooltipCfg()),o=0,s=t.views;o<s.length;o++)a=a.concat(this.findItemsFromView(s[o],e));return a},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,c.sE)(t.views,function(i){return e.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){return(this.getTooltipCfg().customItems||function(a){return a})(t)},r}(zn);const Lm=_m;var zc={};function Zc(n){return zc[n.toLowerCase()]}function lr(n,r){zc[n.toLowerCase()]=r}var Zn={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Pm={interval:function(n){return{enter:{animation:n.isRect?n.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:n.isPolar&&n.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Wc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(n){var r;return n.isRect?r=n.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",n.isPolar&&n.isTransposed&&(r="wave-in")),{animation:r}},schema:function(n){return{animation:n.isRect?n.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy"}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function jc(n,r,t){var e=Pm[n];return e&&((0,c.mf)(e)&&(e=e(r)),e=(0,c.b$)({},Zn,e),t)?e[t]:e}function Wn(n,r,t){var e=(0,c.U2)(n.get("origin"),"data",we),i=r.animation,a=function(n,r){return{delay:(0,c.mf)(n.delay)?n.delay(r):n.delay,easing:(0,c.mf)(n.easing)?n.easing(r):n.easing,duration:(0,c.mf)(n.duration)?n.duration(r):n.duration,callback:n.callback,repeat:n.repeat}}(r,e);if(i){var o=Zc(i);o&&o(n,a,t)}else n.animate(t.toAttrs,a)}var Ds="element-background",Im=function(n){function r(t){var e=n.call(this,t)||this;e.states=[];var a=t.container,o=t.offscreenGroup,s=t.elementIndex,l=t.visible,u=void 0===l||l;return e.shapeFactory=t.shapeFactory,e.container=a,e.offscreenGroup=o,e.visible=u,e.elementIndex=s,e}return ht(r,n),r.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},r.prototype.update=function(t){var i=this.shapeFactory,a=this.shape;if(a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var e=this.shapeFactory,i=this.shape;if(i){var a=this.getAnimateCfg("leave");a?Wn(i,a,{coordinate:e.coordinate,toAttrs:m({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,n.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var i=this,a=i.states,o=i.shapeFactory,s=i.model,l=i.shape,u=i.shapeType,h=a.indexOf(t);if(e){if(h>-1)return;a.push(t),("active"===t||"selected"===t)&&(null==l||l.toFront())}else{if(-1===h)return;if(a.splice(h,1),"active"===t||"selected"===t){var f=this.geometry,d=f.zIndexReversed?this.geometry.elements.length-this.elementIndex:this.elementIndex;f.sortZIndex?l.setZIndex(d):l.set("zIndex",d)}}var x=o.drawShape(u,s,this.getOffscreenGroup());this.syncShapeStyle(l,x,a.length?a:["reset"],null),x.remove(!0);var A={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",A),Uh(this.shape,"statechange",A)},r.prototype.clearStates=function(){var t=this;(0,c.S6)(this.states,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var e=this.shape,i=this.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,a=t.shapeFactory;this.statesStyle=(0,c.b$)({},a.theme[t.shapeType]||a.theme[a.defaultShapeType],t.geometry.stateOption)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var i=this.getStatesStyle(),a=(0,c.U2)(i,[t,"style"],{}),o=a[e]||a;return(0,c.mf)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this,i=this.animate;if(i){var a=i[t];return a&&m(m({},a),{callback:function(){var o;(0,c.mf)(a.callback)&&a.callback(),null===(o=e.geometry)||void 0===o||o.emit(Ke.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,e){var i;void 0===e&&(e=!1);var a=this,o=a.shapeFactory;if(this.shape=o.drawShape(a.shapeType,t,a.container),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,c.HD)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=this.getAnimateCfg(e?"enter":"appear");f&&(null===(i=this.geometry)||void 0===i||i.emit(Ke.BEFORE_DRAW_ANIMATE),Wn(this.shape,f,{coordinate:o.coordinate,toAttrs:m({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var i=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(o){i.setShapeInfo(o,e)})},r.prototype.syncShapeStyle=function(t,e,i,a,o){var l,s=this;if(void 0===i&&(i=[]),void 0===o&&(o=0),t&&e){var u=t.get("clipShape"),h=e.get("clipShape");if(this.syncShapeStyle(u,h,i,a),t.isGroup())for(var f=t.get("children"),v=e.get("children"),g=0;g<f.length;g++)this.syncShapeStyle(f[g],v[g],i,a,o+g);else{if(!(0,c.xb)(i)&&!(0,c.Xy)(i,["reset"])){var d=t.get("name");(0,c.kJ)(d)&&(d=d[1]),(0,c.S6)(i,function(A){if(e.get("name")!==Ds){var E=s.getStateStyle(A,d||o);e.attr(E)}})}var x=vc(t,e);this.animate?a?(null===(l=this.geometry)||void 0===l||l.emit(Ke.BEFORE_DRAW_ANIMATE),Wn(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:x,shapeModel:this.model})):(0,c.xb)(i)?t.attr(x):(t.stopAnimate(),t.animate(x,{duration:300})):t.attr(x)}}},r.prototype.getShapeType=function(t){var e=(0,c.U2)(t,"shape");return(0,c.kJ)(e)?e[0]:e},r}(Qi);const qc=Im;var Jc={},Qc={};function Wa(n,r){Jc[n.toLowerCase()]=r}function ir(n,r){Qc[n.toLowerCase()]=r}var km={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(n,r){var t=this.getShape(n);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(n){var r=this[n]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(n){return(0,c.U2)(n,[this.defaultShapeType,"default","style"],{})},getMarker:function(n,r){var t=this.getShape(n);t.getMarker||(t=this.getShape(this.defaultShapeType));var a=(0,c.U2)(this.theme,[n,"default"],{}),o=t.getMarker(r);return(0,c.b$)({},a,o)},drawShape:function(n,r,t){return this.getShape(n).draw(r,t)}},Rm={coordinate:null,parsePath:function(n){var r=this.coordinate,t=(0,pn.tr)(n);return t=r.isPolar?function(n,r){var e,i,t=[];return(0,c.S6)(r,function(s,l){switch(s[0].toLowerCase()){case"m":case"c":case"q":t.push(Ss(s,n));break;case"l":e=r[l-1],i=s,(n.isTransposed?e[e.length-2]===i[1]:e[e.length-1]===i[2])?t=t.concat(function(n,r,t){var e=t.isTransposed,i=t.startAngle,a=t.endAngle,o="a"===n[0].toLowerCase()?{x:n[6],y:n[7]}:{x:n[1],y:n[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-i),f=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),d=Ya(t,g);if(d>=.5)if(h===2*Math.PI){var A=t.convert({x:(s.x+o.x)/2,y:(s.y+o.y)/2});l.push(["A",d,d,0,v,f,A.x,A.y]),l.push(["A",d,d,0,v,f,g.x,g.y])}else l.push(["A",d,d,0,v,f,g.x,g.y]);return l}(e,i,n)):t.push(Ss(s,n));break;case"a":t.push(Mc(s,n));break;default:t.push(s)}}),function(n){(0,c.S6)(n,function(r,t){if("a"===r[0].toLowerCase()){var i=n[t-1],a=n[t+1];a&&"a"===a[0].toLowerCase()?i&&"l"===i[0].toLowerCase()&&(i[0]="M"):i&&"a"===i[0].toLowerCase()&&a&&"l"===a[0].toLowerCase()&&(a[0]="M")}})}(t),t}(r,t):function(n,r){var t=[];return(0,c.S6)(r,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":t.push(Ss(e,n));break;case"a":t.push(Mc(e,n));break;default:t.push(e)}}),t}(r,t),t},parsePoint:function(n){return this.coordinate.convert(n)},parsePoints:function(n){var r=this.coordinate;return n.map(function(t){return r.convert(t)})},draw:function(n,r){}},Fs={};function Jr(n,r){var t=(0,c.jC)(n),e=m(m(m({},km),r),{geometryType:n});return Fs[t]=e,e}function Oe(n,r,t){var e=(0,c.jC)(n),i=Fs[e],a=m(m({},Rm),t);return i[r]=a,a}function $c(n){var r=(0,c.jC)(n);return Fs[r]}function Kc(n,r){return(0,c.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,c.Xy)(n[t],r[t])})}function Ii(n){return(0,c.kJ)(n)?n:n.split("*")}function tf(n,r){for(var t=[],e=[],i=[],a=new Map,o=0;o<r.length;o++){var s=r[o];n[s]?e.push(s):t.push(s),a.set(s,!0)}return Object.keys(n).forEach(function(l){a.has(l)||i.push(l)}),{added:t,updated:e,removed:i}}var Hm=function(n){function r(t){var e=n.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=void 0!==l&&l,h=t.visible,f=void 0===h||h,v=t.theme,g=t.scales,d=void 0===g?{}:g,x=t.scaleDefs,A=void 0===x?{}:x,E=t.intervalPadding,R=t.dodgePadding,I=t.maxColumnWidth,D=t.minColumnWidth,q=t.columnWidthRatio,nt=t.roseWidthRatio,Pt=t.multiplePieWidthRatio,Xt=t.zIndexReversed,Jt=t.sortZIndex;return e.container=t.container,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=f,e.userTheme=v,e.scales=d,e.scaleDefs=A,e.intervalPadding=E,e.dodgePadding=R,e.maxColumnWidth=I,e.minColumnWidth=D,e.columnWidthRatio=q,e.roseWidthRatio=nt,e.multiplePieWidthRatio=Pt,e.zIndexReversed=Xt,e.sortZIndex=Jt,e}return ht(r,n),r.prototype.position=function(t){var e=t;(0,c.PO)(t)||(e={fields:Ii(t)});var i=(0,c.U2)(e,"fields");return 1===i.length&&(i.unshift("1"),(0,c.t8)(e,"fields",i)),(0,c.t8)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,c.HD)(t)||(0,c.PO)(t))&&(e=[t]),(0,c.S6)(e,function(i,a){(0,c.Kn)(i)||(e[a]={type:i})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,c.HD)(t)){var i=Ii(t);this.styleOption={fields:i,callback:e}}else this.styleOption=(i=t.fields)||t.callback||t.cfg?t:{cfg:t};return this},r.prototype.tooltip=function(t,e){if((0,c.HD)(t)){var i=Ii(t);this.tooltipOption={fields:i,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,i){if((0,c.HD)(t)){var a={},o=Ii(t);a.fields=o,(0,c.mf)(e)?a.callback=e:(0,c.PO)(e)&&(a.cfg=e),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){void 0===t&&(t={});var e=t.data,i=t.isDataChanged,a=t.isCoordinateChanged;(0,c.Xy)(this.attributeOption,this.lastAttributeOption)?!e||!i&&(0,c.Xy)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){void 0===t&&(t=!1),this.animateOption&&(this.animateOption=(0,c.b$)({},jc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[],this.getOffscreenGroup().clear();var a=this.beforeMapping(this.beforeMappingData);this.dataArray=new Array(a.length);for(var o=0;o<a.length;o++)this.dataArray[o]=this.mapping(a[o]);if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var l=this.container,u=this.type,h=this.coordinate,f=(0,c.U2)(this.animateOption,"appear"),v=this.getYScale(),g=h.convert({x:0,y:v.scale(this.getYMinValue())});!function(n,r,t,e,i){if(Wc[t]){var a=Wc[t](e),o=Zc((0,c.U2)(a,"animation",""));if(o){var s=m(m(m({},Zn.appear),a),r);n.stopAnimate(),o(n,s,{coordinate:e,minYPoint:i,toAttrs:null})}}}(l,f,u,h,g)}this.labelOption&&this.renderLabels((0,c.xH)(this.dataArray),t),this.lastAttributeOption=m({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,i=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,n.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,c.S6)(this.attributes,function(e){or.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,i=this.getAttribute(t);return i&&(0,c.xb)(i.scales)&&(e=i.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var i=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o];i.push(l.isIdentity?l.values:e[l.field])}return t.mapping.apply(t,i)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){var e=(t=(0,c.kJ)(t)?t[0]:t)[we];if(this.idFields.length){for(var i=e[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+e[this.idFields[a]];return i}var v,g,o=this.type,s=this.getXScale(),f=e[this.getYScale().field||"y"];v="identity"===s.type?s.values[0]:e[s.field||"x"],g="interval"===o||"schema"===o?"".concat(v):"line"===o||"area"===o||"path"===o?o:"".concat(v,"-").concat(f);var d=this.groupScales;(0,c.xb)(d)&&(d=(0,c.U2)(this.getAttribute("color"),"scales",[])),a=0;for(var x=d.length;a<x;a++){var E=d[a].field;g="".concat(g,"-").concat(e[E])}var R=this.getAdjust("dodge");if(R){var I=R.dodgeBy;I&&(g="".concat(g,"-").concat(e[I]))}return this.getAdjust("jitter")&&(g="".concat(g,"-").concat(t.x,"-").concat(t.y)),g},r.prototype.getScaleFields=function(){var t=[],e=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?jr(u.fields,t,e):u.values&&jr(u.values,t,e)}return o&&o.fields&&jr(o.fields,t,e),(0,c.Kn)(s)&&s.fields&&jr(s.fields,t,e),t},r.prototype.changeVisible=function(t){n.prototype.changeVisible.call(this,t);for(var e=this.elements,i=0,a=e.length;i<a;i++)e[i].changeVisible(t);t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach(function(i){((null==i?void 0:i.fields)||[]).forEach(function(o){t.has(o)||e.push(o),t.set(o,!0)})},[]),e},r.prototype.getGroupFields=function(){for(var t=[],e=new Map,i=0,a=or.length;i<a;i++){var s=this.attributeOption[or[i]];s&&s.fields&&jr(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},r.prototype.getXField=function(){return(0,c.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,c.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),i=e.field,a=0;a<t.length;a++)t[a].sort(function(s,l){return e.translate(s[we][i])-e.translate(l[we][i])});this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if($c(t))return this.shapeFactory||(this.shapeFactory=(0,c.d9)($c(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),i=this.getYScale();return{x:this.normalizeValues(t[e.field],e),y:i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e,i){void 0===i&&(i=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),l=new qc({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return l.animate=this.animateOption,l.geometry=this,l.draw(o,i),l},r.prototype.getDrawCfg=function(t){var e=t[we],i={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=(0,c.U2)(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,e)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var i=new Map,a=[],o=new Map,s=0,l=0;l<t.length;l++)for(var u=t[l],h=0;h<u.length;h++){var v=this.getElementId(f=u[h]),g=i.has(v)?"".concat(v,"-").concat(l,"-").concat(h):v;a.push(g),i.set(g,f),o.set(g,s),s++}this.elements=new Array(s);for(var d=tf(this.lastElementsMap,a),A=d.updated,E=d.removed,R=0,I=d.added;R<I.length;R++){var f=i.get(v=I[R]),D=(l=o.get(v),this.createElement(f,l,e));this.elements[l]=D,this.elementsMap[v]=D,D.shape&&D.shape.set("zIndex",this.zIndexReversed?this.elements.length-l:l)}for(var q=0,nt=A;q<nt.length;q++){D=this.lastElementsMap[v=nt[q]],f=i.get(v);var Pt=this.getDrawCfg(f),Xt=D.getModel();l=o.get(v),(this.isCoordinateChanged||Kc(Pt,Xt))&&(D.animate=this.animateOption,D.update(Pt)),this.elements[l]=D,this.elementsMap[v]=D,D.shape&&D.shape.set("zIndex",this.zIndexReversed?this.elements.length-l:l)}this.container&&this.container.sort();for(var Jt=0,oe=E;Jt<oe.length;Jt++)(D=this.lastElementsMap[v=oe[Jt]]).animate=this.animateOption,D.destroy()},r.prototype.getLabelType=function(){var t=this,i=t.coordinate,a=t.type,o=i.type,s=i.isTransposed,l=(0,c.U2)(t.labelOption,["cfg","type"]);return l||(l="polar"===o?s?"pie":"polar":"theta"===o?"pie":"interval"===a||"polygon"===a?"interval":"base"),l},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,i=t.max;return e>=0?e:i<=0?i:0},r.prototype.createAttrOption=function(t,e,i){if((0,c.UM)(e)||(0,c.Kn)(e))(0,c.Kn)(e)&&(0,c.Xy)(Object.keys(e),["values"])?(0,c.t8)(this.attributeOption,t,{fields:e.values}):(0,c.t8)(this.attributeOption,t,e);else{var a={};(0,c.hj)(e)?a.values=[e]:a.fields=Ii(e),i&&((0,c.mf)(i)?a.callback=i:a.values=i),(0,c.t8)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,i=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var d=m({},g),x=d.callback,A=d.values,E=d.fields,I=(void 0===E?[]:E).map(function(q){var nt=t.scales[q];return nt.isCategory&&!l[q]&&or.includes(v)&&(t.groupScales.push(nt),l[q]=!0),nt});d.scales=I,"position"!==v&&1===I.length&&"identity"===I[0].type?d.values=I[0].values:!x&&!A&&("size"===v?d.values=o.sizes:"shape"===v?d.values=o.shapes[s]||[]:"color"===v&&(d.values=I.length?I[0].values.length<=10?o.colors10:o.colors20:o.colors10));var D=qu(v);i[v]=new D(d)}};for(var h in a){var f=u(h);if("object"==typeof f)return f.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var i=this.getAttribute("position").scales.filter(function(q){return q.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],f=0,v=u.length;f<v;f++){var g=u[f],d={};for(var x in g)d[x]=g[x];d[we]=g;for(var A=0,E=i;A<E.length;A++){var R=E[A],I=R.field;d[I]=R.translate(d[I])}h.push(d)}o.push(h)}var D=this.adjustData(o);return this.beforeMappingData=D,D},r.prototype.adjustData=function(t){var e=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,h=this.columnWidthRatio||s.columnWidthRatio,f=t;if(e){var v=this.getXScale(),g=this.getYScale(),d=v.field,x=g?g.field:null,A=Ti(this.coordinate),E=v.values.length,R=this.getAttribute("size"),I=void 0;R&&(I=R.values[0]);for(var D=0,q=e.length;D<q;D++){var nt=e[D],Pt=m({xField:d,yField:x,intervalPadding:a,dodgePadding:o,xDimensionLength:A,groupNum:E,defaultSize:I,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:h},nt),Xt=nt.type;if("dodge"===Xt){var Jt=[];if(v.isCategory||"identity"===v.type)Jt.push("x");else{if(g)throw new Error("dodge is not support linear attribute, please use category attribute!");Jt.push("y")}Pt.adjustNames=Jt,Pt.dodgeRatio=h}else if("stack"===Xt){var oe=this.coordinate;if(!g){Pt.height=oe.getHeight();var ge=this.getDefaultValue("size")||3;Pt.size=ge}!oe.isTransposed&&(0,c.UM)(Pt.reverseOrder)&&(Pt.reverseOrder=!0)}var _e=new(ta(Xt))(Pt);f=_e.process(f),this.adjusts[Xt]=_e}}return f},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var u=e[s].field;o.push(u),(0,c.U2)(i,[u,"values"])&&(a[u]=i[u].values)}return function(n,r,t){if(void 0===t&&(t={}),!r)return[n];var e=(0,c.Ms)(n,r),i=[];if(1===r.length&&t[r[0]])for(var o=0,s=t[r[0]];o<s.length;o++){var u=e["_".concat(s[o])];u&&i.push(u)}else for(var h in e)e.hasOwnProperty(h)&&i.push(e[h]);return i}(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var i=(0,c.xH)(e),a=t.field,o=t.min,s=t.max,l=0;l<i.length;l++){var u=i[l],h=Math.min.apply(null,u[a]),f=Math.max.apply(null,u[a]);h<o&&(o=h),f>s&&(s=f)}var v=this.scaleDefs,g={};o<t.min&&!(0,c.U2)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,c.U2)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var i=0,a=e.length;i<a;i++){var o=e[i];this.generateShapePoints(o);var s=e[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=i?this.getAttributeValues(i,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var i=[];if((0,c.kJ)(t))for(var a=0;a<t.length;a++)i.push(e.scale(t[a]));else i=e.scale(t);return i},r.prototype.mapping=function(t){for(var e=this.attributes,i=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[we],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,f=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<f.length;v+=1){var g=f[v];s[h[v]]=(0,c.kJ)(g)&&1===g.length?g[0]:g}else s[h[0]]=1===f.length?f[0]:f}this.convertPoint(s),i.push(s)}return i},r.prototype.convertPoint=function(t){var a,o,s,e=t.x,i=t.y,l=this.coordinate;if((0,c.kJ)(e)&&(0,c.kJ)(i)){a=[],o=[];for(var u=0,h=0,f=e.length,v=i.length;u<f&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:i[h]}),a.push(s.x),o.push(s.y)}else if((0,c.kJ)(i)){o=[];for(var g=0;g<i.length;g++)s=l.convert({x:e,y:i[g]}),a&&a!==s.x?((0,c.kJ)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}else if((0,c.kJ)(e))for(a=[],g=0;g<e.length;g++)s=l.convert({x:e[g],y:i}),o&&o!==s.y?((0,c.kJ)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x);else{var A=l.convert({x:e,y:i});a=A.x,o=A.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var i=t.fields,o=t.callback,s=t.cfg;if(s)return s;var l=(void 0===i?[]:i).map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,i=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,c.S6)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,c.b$)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var i=this.geometryLabel;if(!i){var o=function(n){return Jc[n.toLowerCase()]}(this.getLabelType());i=new o(this),this.geometryLabel=i}i.render(t,e);var s=i.labelsRenderer.shapesMap;(0,c.S6)(this.elementsMap,function(l,u){var h=function(n,r){var t=[];return(0,c.S6)(r,function(e,i){i.split(" ")[0]===n&&t.push(e)}),t}(u,s);if(h.length){l.labelShape=h;for(var f=0;f<h.length;f++)for(var g=h[f].getChildren(),d=0;d<g.length;d++){var x=g[d];x.cfg.name=["element","label"],x.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===(0,c.U2)(this.animateOption,"appear")||(0,c.U2)(this.animateOption,"appear")&&void 0===(0,c.U2)(this.animateOption,["appear","animation"]))},r}(Qi);const Qr=Hm;var ja=Ae.vs;function Di(n,r,t){var e=ja(n.getMatrix(),[["t",r,t]]);n.setMatrix(e)}function ks(n,r){var t=function(n,r){var t=n.attr(),e=t.x,i=t.y;return ja(n.getMatrix(),[["t",-e,-i],["r",r],["t",e,i]])}(n,r);n.setMatrix(t)}function $r(n){return n.find(function(r){return"text"===r.get("type")})}function Rs(n,r,t){void 0===t&&(t=[0,0,0,0]);var e=n.getChildren()[0];if(e){var i=e.clone();(null==r?void 0:r.rotate)&&ks(i,-r.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;i.destroy();var h=t;return(0,c.UM)(h)?h=[2,2,2,2]:(0,c.hj)(h)&&(h=new Array(4).fill(h)),{x:o-h[3],y:s-h[0],width:l+h[1]+h[3],height:u+h[0]+h[2],rotation:(null==r?void 0:r.rotate)||0}}}function Vm(n,r){var t=n.getBBox();return(0,c.G)(r,function(e){var i=e.getBBox();return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(t,i,2)>0})}function ef(n,r,t){var e=t.data,i=t.origin,a=t.animateCfg,o=t.coordinate,s=(0,c.U2)(a,"update");n.set("data",e),n.set("origin",i),n.set("animateCfg",a),n.set("coordinate",o),n.set("visible",r.get("visible")),n.getChildren().forEach(function(l,u){var h=r.getChildByIndex(u);if(h){l.set("data",e),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var f=vc(l,h);s?Wn(l,s,{toAttrs:f,coordinate:o}):l.attr(f),h.isGroup()&&ef(l,h,t)}else n.removeChild(l),l.remove(!0)}),(0,c.S6)(r.getChildren(),function(l,u){u>=n.getCount()&&(l.destroyed||n.add(l))})}var zm=function(){function n(r){this.shapesMap={},this.lastShapesMap={};var e=r.container;this.layout=r.layout,this.container=e}return n.prototype.render=function(r,t,e){var i=this;void 0===e&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.renderLabelBackground(r),this.adjustLabel(r)}var h=this.lastShapesMap,f=this.shapesMap;(0,c.S6)(f,function(v,g){if(v.destroyed)delete f[g];else{if(h[g]){var d=v.get("data"),x=v.get("origin"),A=v.get("coordinate"),E=v.get("animateCfg"),R=h[g];ef(R,f[g],{data:d,origin:x,animateCfg:E,coordinate:A}),i.shapesMap[g]=R}else{a.add(v);var I=(0,c.U2)(v.get("animateCfg"),e?"enter":"appear");I&&Wn(v,I,{toAttrs:m({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,c.S6)(h,function(v){var g=(0,c.U2)(v.get("animateCfg"),"leave");g?Wn(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=f,o.destroy()},n.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},n.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},n.prototype.renderLabel=function(r,t){var v,e=r.id,o=r.mappingData,s=r.coordinate,l=r.animate,u=r.content,h={id:e,elementId:r.elementId,data:r.data,origin:m(m({},o),{data:o[we]}),coordinate:s},f=t.addGroup(m({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&(0,c.b$)({},this.animate,l)},h));if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var g=u.getCanvasBBox(),d=g.width,x=g.height,A=(0,c.U2)(r,"textAlign","left"),E=r.x;"center"===A?E-=d/2:("right"===A||"end"===A)&&(E-=d),Di(u,E,r.y-x/2),v=u,f.add(u)}else{var I=(0,c.U2)(r,["style","fill"]);v=f.addShape("text",m({attrs:m(m({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,c.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,c.Ft)(I)?r.color:I})},h))}r.rotate&&ks(v,r.rotate),this.shapesMap[e]=f},n.prototype.doLayout=function(r,t){var e=this;if(this.layout){var i=(0,c.kJ)(this.layout)?this.layout:[this.layout];(0,c.S6)(i,function(a){var o=function(n){return Qc[n.toLowerCase()]}((0,c.U2)(a,"type",""));if(o){var s=[],l=[];(0,c.S6)(e.shapesMap,function(u,h){s.push(u),l.push(t[u.get("elementId")])}),o(r,s,l,e.region,a.cfg)}})}},n.prototype.renderLabelLine=function(r){var t=this;(0,c.S6)(r,function(e){var i=(0,c.U2)(e,"coordinate");if(e&&i){var a=i.getCenter(),o=i.getRadius();if(e.labelLine){var s=(0,c.U2)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=Ye(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var f=t.shapesMap[l];f.destroyed||f.addShape("path",{capture:!1,attrs:m({path:u,stroke:e.color?e.color:(0,c.U2)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},n.prototype.renderLabelBackground=function(r){var t=this;(0,c.S6)(r,function(e){var i=(0,c.U2)(e,"coordinate"),a=(0,c.U2)(e,"background");if(a&&i){var o=e.id,s=t.shapesMap[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=Rs(s,e,a.padding),h=u.rotation,f=H(u,["rotation"]),v=s.addShape("rect",{attrs:m(m({},f),a.style||{}),id:o,origin:e.mappingData,data:e.data,coordinate:e.coordinate});if(v.setZIndex(-1),h){var g=l.getMatrix();v.setMatrix(g)}}}}})},n.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},n.prototype.adjustLabel=function(r){var t=this;(0,c.S6)(r,function(e){if(e){var a=t.shapesMap[e.id];if(!a.destroyed){var o=a.findAll(function(s){return"path"!==s.get("type")});(0,c.S6)(o,function(s){s&&(e.offsetX&&s.attr("x",s.attr("x")+e.offsetX),e.offsetY&&s.attr("y",s.attr("y")+e.offsetY))})}}})},n}();const Zm=zm;function rf(n){var r=0;return(0,c.S6)(n,function(t){r+=t}),r/n.length}var Wm=function(){function n(r){this.geometry=r}return n.prototype.getLabelItems=function(r){var t=this,e=[],i=this.getLabelCfgs(r);return(0,c.S6)(r,function(a,o){var s=i[o];if(!s||(0,c.UM)(a.x)||(0,c.UM)(a.y))e.push(null);else{var l=(0,c.kJ)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,c.S6)(l,function(h,f){if((0,c.UM)(h)||""===h)e.push(null);else{var v=m(m({},s),t.getLabelPoint(s,a,f));v.textAlign||(v.textAlign=t.getLabelAlign(v,f,u)),v.offset<=0&&(v.labelLine=null),e.push(v)}})}}),e},n.prototype.render=function(r,t){void 0===t&&(t=!1);var e=this.getLabelItems(r),i=this.getLabelsRenderer(),a=this.getGeometryShapes();i.render(e,a,t)},n.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},n.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},n.prototype.getCoordinate=function(){return this.geometry.coordinate},n.prototype.getDefaultLabelCfg=function(r,t){var e=this.geometry,i=e.type,a=e.theme;return"polygon"===i||"interval"===i&&"middle"===t||r<0&&!["line","point","path"].includes(i)?(0,c.U2)(a,"innerLabels",{}):(0,c.U2)(a,"labels",{})},n.prototype.getThemedLabelCfg=function(r){var t=this.geometry,e=this.getDefaultLabelCfg(),i=t.type,a=t.theme;return"polygon"===i||r.offset<0&&!["line","point","path"].includes(i)?(0,c.b$)({},e,a.innerLabels,r):(0,c.b$)({},e,a.labels,r)},n.prototype.setLabelPosition=function(r,t,e,i){},n.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},n.prototype.getLabelOffsetPoint=function(r,t,e){var i=r.offset,o=this.getCoordinate().isTransposed,l=o?1:-1,u={x:0,y:0};return u[o?"x":"y"]=t>0||1===e?i*l:i*l*-1,u},n.prototype.getLabelPoint=function(r,t,e){var i=this.getCoordinate(),a=r.content.length;function o(A,E,R){void 0===R&&(R=!1);var I=A;return(0,c.kJ)(I)&&(I=1===r.content.length?R?rf(I):I.length<=2?I[A.length-1]:rf(I):I[E]),I}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=(0,c.kJ)(t.shape)?t.shape[0]:t.shape,u="funnel"===l||"pyramid"===l;if("polygon"===this.geometry.type){var h=function(n,r){if((0,c.hj)(n)&&(0,c.hj)(r))return[n,r];if(r=r,hc(n=n)||hc(r))return[cc(n),cc(r)];for(var a,s,t=-1,e=0,i=0,o=n.length-1,l=0;++t<n.length;)l+=s=n[a=o]*r[o=t]-n[o]*r[a],e+=(n[a]+n[o])*s,i+=(r[a]+r[o])*s;return[e/(l*=3),i/l]}(t.x,t.y);s.x=h[0],s.y=h[1]}else"interval"!==this.geometry.type||u?(s.x=o(t.x,e),s.y=o(t.y,e)):(s.x=o(t.x,e,!0),s.y=o(t.y,e));if(u){var f=(0,c.U2)(t,"nextPoints"),v=(0,c.U2)(t,"points");if(f){var g=i.convert(v[1]),d=i.convert(f[1]);s.x=(g.x+d.x)/2,s.y=(g.y+d.y)/2}else"pyramid"===l&&(g=i.convert(v[1]),d=i.convert(v[2]),s.x=(g.x+d.x)/2,s.y=(g.y+d.y)/2)}r.position&&this.setLabelPosition(s,t,e,r.position);var x=this.getLabelOffsetPoint(r,e,a);return s.start={x:s.x,y:s.y},s.x+=x.x,s.y+=x.y,s.color=t.color,s},n.prototype.getLabelAlign=function(r,t,e){var i="center";if(this.getCoordinate().isTransposed){var o=r.offset;i=o<0?"right":0===o?"center":"left",e>1&&0===t&&("right"===i?i="left":"left"===i&&(i="right"))}return i},n.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,i=t.getXScale(),a=t.getYScale(),o=r[we],s=t.getElementId(r);return"line"===e||"area"===e?s+=" ".concat(o[i.field]):"path"===e&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},n.prototype.getLabelsRenderer=function(){var r=this.geometry,i=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new Zm({container:r.labelsContainer,layout:(0,c.U2)(r.labelOption,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=!!a&&jc("label",o),s},n.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,i=e.labelOption,a=e.scales,o=e.coordinate,l=i.fields,u=i.callback,h=i.cfg,f=l.map(function(g){return a[g]}),v=[];return(0,c.S6)(r,function(g,d){var E,x=g[we],A=t.getLabelText(x,f);if(u){var R=l.map(function(Pt){return x[Pt]});if(E=u.apply(void 0,R),(0,c.UM)(E))return void v.push(null)}var I=m(m({id:t.getLabelId(g),elementId:t.geometry.getElementId(g),data:x,mappingData:g,coordinate:o},h),E);(0,c.mf)(I.position)&&(I.position=I.position(x,g,d));var D=t.getLabelOffset(I.offset||0),q=t.getDefaultLabelCfg(D,I.position);(I=(0,c.b$)({},q,I)).offset=t.getLabelOffset(I.offset||0);var nt=I.content;(0,c.mf)(nt)?I.content=nt(x,g,d):(0,c.o8)(nt)&&(I.content=A[0]),v.push(I)}),v},n.prototype.getLabelText=function(r,t){var e=[];return(0,c.S6)(t,function(i){var a=r[i.field];a=(0,c.kJ)(a)?a.map(function(o){return i.getText(o)}):i.getText(a),(0,c.UM)(a)||""===a?e.push(null):e.push(a)}),e},n.prototype.getOffsetVector=function(r){void 0===r&&(r=0);var t=this.getCoordinate(),e=0;return(0,c.hj)(r)&&(e=r),t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},n.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,c.S6)(r.elementsMap,function(e,i){t[i]=e.shape}),(0,c.S6)(r.getOffscreenGroup().getChildren(),function(e){var i=r.getElementId(e.get("origin").mappingData);t[i]=e}),t},n}();const Ys=Wm;function Gs(n,r,t){if(!n)return t;var e;if(n.callback&&n.callback.length>1){var i=Array(n.callback.length-1).fill("");e=n.mapping.apply(n,Zt([r],i,!1)).join("")}else e=n.mapping(r).join("");return e||t}var mn={hexagon:function(n,r,t){var e=t/2*Math.sqrt(3);return[["M",n,r-t],["L",n+e,r-t/2],["L",n+e,r+t/2],["L",n,r+t],["L",n-e,r+t/2],["L",n-e,r-t/2],["Z"]]},bowtie:function(n,r,t){var e=t-1.5;return[["M",n-t,r-e],["L",n+t,r+e],["L",n+t,r-e],["L",n-t,r+e],["Z"]]},cross:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r+t],["M",n+t,r-t],["L",n-t,r+t]]},tick:function(n,r,t){return[["M",n-t/2,r-t],["L",n+t/2,r-t],["M",n,r-t],["L",n,r+t],["M",n-t/2,r+t],["L",n+t/2,r+t]]},plus:function(n,r,t){return[["M",n-t,r],["L",n+t,r],["M",n,r-t],["L",n,r+t]]},hyphen:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},line:function(n,r,t){return[["M",n,r-t],["L",n,r+t]]}},jm=["line","cross","tick","plus","hyphen"];function nf(n){var r=n.symbol;(0,c.HD)(r)&&mn[r]&&(n.symbol=mn[r])}function Hs(n){return n.startsWith(Dt.LEFT)||n.startsWith(Dt.RIGHT)?"vertical":"horizontal"}function of(n,r){var t=(0,c.U2)(n,["components","legend"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}function Us(n){return!n&&(null==n||isNaN(n))}function sf(n){if((0,c.kJ)(n))return Us(n[1].y);var r=n.y;return(0,c.kJ)(r)?Us(r[0]):Us(r)}function qa(n,r,t){if(void 0===r&&(r=!1),void 0===t&&(t=!0),!n.length||1===n.length&&!t)return[];if(r){for(var e=[],i=0,a=n.length;i<a;i++)sf(o=n[i])||e.push(o);return[e]}var s=[],l=[];for(i=0,a=n.length;i<a;i++){var o;sf(o=n[i])?l.length&&(1===l.length&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function lf(n){for(var r=[],t=0;t<n.length;t++){var e=n[t];e&&r.push([0===t?"M":"L",e.x,e.y])}var a=n[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function uf(n){for(var r=n.length/2,t=[],e=[],i=0;i<n.length;i++)i<r?t.push(n[i]):e.push(n[i]);var a=Xa(t,!1),o=Xa(e,!1);e.length&&a.push(["L",e[0].x,e[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function Fe(n,r,t,e){void 0===e&&(e="");var i=n.style,a=void 0===i?{}:i,s=n.color,l=n.size,u=m(m({},n.defaultStyle),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,c.UM)(a[e])&&!(0,c.UM)(l)&&(u[e]=l),u}function hf(n){return(0,c.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,c.U2)(n,["background","style"]))}function Ns(n){var r=n.x;return((0,c.kJ)(n.y)?n.y:[n.y]).map(function(e,i){return{x:(0,c.kJ)(r)?r[i]:r,y:e}})}var $m={line:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},dot:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},dash:function(n,r,t){return[["M",n-t,r],["L",n+t,r]]},smooth:function(n,r,t){return[["M",n-t,r],["A",t/2,t/2,0,1,1,n,r],["A",t/2,t/2,0,1,0,n+t,r]]},hv:function(n,r,t){return[["M",n-t-1,r-2.5],["L",n,r-2.5],["L",n,r+2.5],["L",n+t+1,r+2.5]]},vh:function(n,r,t){return[["M",n-t-1,r+2.5],["L",n,r+2.5],["L",n,r-2.5],["L",n+t+1,r-2.5]]},hvh:function(n,r,t){return[["M",n-(t+1),r+2.5],["L",n-t/2,r+2.5],["L",n-t/2,r-2.5],["L",n+t/2,r-2.5],["L",n+t/2,r+2.5],["L",n+t+1,r+2.5]]},vhv:function(n,r){return[["M",n-5,r+2.5],["L",n-5,r],["L",n,r],["L",n,r-3],["L",n,r+3],["L",n+6.5,r+3]]}};function cf(n,r){return{symbol:$m[r],style:{lineWidth:2,r:6,stroke:n.color}}}function Xs(n,r,t,e,i){return 1===n.length?[["M",n[0].x,n[0].y-i.lineWidth/2],["L",n[0].x,n[0].y],["L",n[0].x,n[0].y+i.lineWidth/2]]:(t?(r&&n.length&&n.push({x:n[0].x,y:n[0].y}),a=Xa(n,!1,e)):(a=_i(n,!1),r&&a.push(["Z"])),a);var a}function ff(n,r,t,e,i,a){return n.length?(0,c.kJ)(n[0].y)?function(n,r,t,e,i,a){var o=[],s=[];(0,c.S6)(n,function(h){var f=Ns(h);o.push(f[1]),s.push(f[0])});var l=Xs(o,r,e,i,a),u=Xs(s,r,e,i,a);return t?l:l.concat(u)}(n,r,t,e,i,a):Xs(n,r,e,i,a):[]}Jr("line",{defaultShapeType:"line"}),(0,c.S6)(["line","dot","dash","smooth"],function(n){Oe("line",n,{draw:function(r,t){var i,e="smooth"===n;if(e){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=function(n,r,t){for(var e=n.isStack,i=n.connectNulls,a=n.isInCircle,o=n.showSinglePoint,s=Fe(n,!0,!1,"lineWidth"),l=qa(n.points,i,o),u=[],h=0,f=l.length;h<f;h++)u=u.concat(ff(l[h],a,e,r,t,s));return s.path=u,s}(r,e,i);return t.addShape({type:"path",attrs:l,name:"line",capture:!e})},getMarker:function(r){return cf(r,n)}})});var Te_100="#FFFFFF",Te_65="#A6A6A6",Te_45="#737373",Te_25="#404040",Cr=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ex=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],rx=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],ix=function(n){void 0===n&&(n={});var r=n.backgroundColor,e=n.subColor,a=n.paletteQualitative10,o=void 0===a?Cr:a,s=n.paletteQualitative20,u=n.paletteSemanticRed,f=n.paletteSemanticGreen,g=n.paletteSemanticYellow,x=n.paletteSequence,E=n.fontFamily,I=n.brandColor;return{backgroundColor:void 0===r?"#141414":r,brandColor:void 0===I?o[0]:I,subColor:void 0===e?"rgba(255,255,255,0.05)":e,paletteQualitative10:o,paletteQualitative20:void 0===s?ex:s,paletteSemanticRed:void 0===u?"#F4664A":u,paletteSemanticGreen:void 0===f?"#30BF78":f,paletteSemanticYellow:void 0===g?"#FAAD14":g,paletteSequence:void 0===x?rx:x,fontFamily:void 0===E?'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"':E,axisLineBorderColor:Te_25,axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Te_65,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Te_25,axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:"#262626",axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Te_45,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:"#262626",axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Te_45,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Cr[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Te_65,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Te_45,legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Te_45,legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Te_65,legendPageNavigatorTextFontSize:12,sliderRailFillColor:"#262626",sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Te_45,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:"#262626",annotationArcBorder:1,annotationLineBorderColor:Te_25,annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Te_65,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Te_100,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Te_25,tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Te_65,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Te_65,labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:"#000",innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Te_65,overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:"#000",overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Te_25,cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Cr[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:"#000",pointBorderOpacity:1,pointActiveBorderColor:Te_100,pointSelectedBorder:2,pointSelectedBorderColor:Te_100,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Cr[0],hollowPointBorderOpacity:.95,hollowPointFillColor:"#000",hollowPointActiveBorder:1,hollowPointActiveBorderColor:Te_100,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Te_100,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Cr[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Cr[0],areaFillOpacity:.25,areaActiveFillColor:Cr[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Cr[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Cr[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Te_100,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Te_100,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Cr[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Te_100,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Te_100,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Cr[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:"#000",hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Te_100,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Te_100,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}}(),Vs=function(n,r){return(Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function ur(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}Vs(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var ke=function(){return ke=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},ke.apply(this,arguments)};function gf(n,r,t,e){var i=n-t,a=r-e;return Math.sqrt(i*i+a*a)}function wn(n,r,t,e,i,a){return i>=n&&i<=n+t&&a>=r&&a<=r+e}function Fi(n,r){return!(r.minX>n.maxX||r.maxX<n.minX||r.minY>n.maxY||r.maxY<n.minY)}function df(n,r){return n[0]===r[0]&&n[1]===r[1]}var hx=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,cx=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,fx=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,yf=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function mf(n,r){var t=n.match(yf);(0,c.S6)(t,function(e){var i=e.split(":");r.addColorStop(i[0],i[1])})}function dx(n,r,t){var e=r.getBBox();if(isNaN(e.x)||isNaN(e.y)||isNaN(e.width)||isNaN(e.height))return t;if((0,c.HD)(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(n,r,t){var s,l,e=hx.exec(t),i=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox();i>=0&&i<.5*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(i),h=u*u,g=n.createLinearGradient(s.x,s.y,(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y);return mf(a,g),g}(n,r,t);if("r"===t[0])return function(n,r,t){var e=cx.exec(t),i=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(0===o){var l=s.match(yf);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,f=u.maxY-u.minY,v=Math.sqrt(h*h+f*f)/2,g=n.createRadialGradient(u.minX+h*i,u.minY+f*a,0,u.minX+h/2,u.minY+f/2,o*v);return mf(s,g),g}(n,r,t);if("p"===t[0])return function(n,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,i,a=fx.exec(t),o=a[1],s=a[2];function l(){e=n.createPattern(i,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),e}(n,r,t)}return t}return t instanceof CanvasPattern?t:void 0}function Qa(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function zs(n,r){return Qa(n)*Qa(r)?(n[0]*r[0]+n[1]*r[1])/(Qa(n)*Qa(r)):1}function xf(n,r){return(n[0]*r[1]<n[1]*r[0]?-1:1)*Math.acos(zs(n,r))}function $a(n,r){var t=r[1],e=r[2],i=(0,c.wQ)((0,c.c$)(r[3]),2*Math.PI),a=r[4],o=r[5],s=n[0],l=n[1],u=r[6],h=r[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-h)/2,v=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-h)/2,g=f*f/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var d=t*t*(v*v)+e*e*(f*f),x=d?Math.sqrt((t*t*(e*e)-d)/d):1;a===o&&(x*=-1),isNaN(x)&&(x=0);var A=e?x*t*v/e:0,E=t?x*-e*f/t:0,R=(s+u)/2+Math.cos(i)*A-Math.sin(i)*E,I=(l+h)/2+Math.sin(i)*A+Math.cos(i)*E,D=[(f-A)/t,(v-E)/e],q=[(-1*f-A)/t,(-1*v-E)/e],nt=xf([1,0],D),Pt=xf(D,q);return zs(D,q)<=-1&&(Pt=Math.PI),zs(D,q)>=1&&(Pt=0),0===o&&Pt>0&&(Pt-=2*Math.PI),1===o&&Pt<0&&(Pt+=2*Math.PI),{cx:R,cy:I,rx:df(n,[u,h])?0:t,ry:df(n,[u,h])?0:e,startAngle:nt,endAngle:nt+Pt,xRotation:i,arcFlag:a,sweepFlag:o}}var Ka=Math.sin,to=Math.cos,Zs=Math.atan2,eo=Math.PI;function wf(n,r,t,e,i,a,o){var s=r.stroke,l=r.lineWidth,f=Zs(e-a,t-i),v=new tl({type:"path",canvas:n.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*to(eo/6)+","+10*Ka(eo/6)+" L0,0 L"+10*to(eo/6)+",-"+10*Ka(eo/6),stroke:s,lineWidth:l}});v.translate(i,a),v.rotateAtPoint(i,a,f),n.set(o?"startArrowShape":"endArrowShape",v)}function Cf(n,r,t,e,i,a,o){var u=r.stroke,h=r.lineWidth,f=o?r.startArrow:r.endArrow,v=f.d,g=f.fill,d=f.stroke,x=f.lineWidth,A=function(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(e=Object.getOwnPropertySymbols(n);i<e.length;i++)r.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(t[e[i]]=n[e[i]])}return t}(f,["d","fill","stroke","lineWidth"]),I=Zs(e-a,t-i);v&&(i-=to(I)*v,a-=Ka(I)*v);var D=new tl({type:"path",canvas:n.get("canvas"),isArrowShape:!0,attrs:ke(ke({},A),{stroke:d||u,lineWidth:x||h,fill:g})});D.translate(i,a),D.rotateAtPoint(i,a,I),n.set(o?"startArrowShape":"endArrowShape",D)}function Cn(n,r,t,e,i){var a=Zs(e-r,t-n);return{dx:to(a)*i,dy:Ka(a)*i}}function Ws(n,r,t,e,i,a){"object"==typeof r.startArrow?Cf(n,r,t,e,i,a,!0):r.startArrow?wf(n,r,t,e,i,a,!0):n.set("startArrowShape",null)}function js(n,r,t,e,i,a){"object"==typeof r.endArrow?Cf(n,r,t,e,i,a,!1):r.endArrow?wf(n,r,t,e,i,a,!1):n.set("startArrowShape",null)}var Mf={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function jn(n,r){var t=r.attr();for(var e in t){var i=t[e],a=Mf[e]?Mf[e]:e;"matrix"===a&&i?n.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===a&&n.setLineDash?(0,c.kJ)(i)&&n.setLineDash(i):("strokeStyle"===a||"fillStyle"===a?i=dx(n,r,i):"globalAlpha"===a&&(i*=n.globalAlpha),n[a]=i)}}function qs(n,r,t){for(var e=0;e<r.length;e++){var i=r[e];i.cfg.visible?i.draw(n,t):i.skipDraw()}}function mx(n,r,t){var e=n.get("refreshElements");(0,c.S6)(e,function(i){if(i!==n)for(var a=i.cfg.parent;a&&a!==n&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),e[0]===n?Qs(r,t):Js(r,t)}function Js(n,r){for(var t=0;t<n.length;t++){var e=n[t];if(e.cfg.visible)if(e.cfg.hasChanged)e.cfg.refresh=!0,e.isGroup()&&Qs(e.cfg.children,r);else if(e.cfg.refresh)e.isGroup()&&Js(e.cfg.children,r);else{var i=xx(e,r);e.cfg.refresh=i,i&&e.isGroup()&&Js(e.cfg.children,r)}}}function bf(n){for(var r=0;r<n.length;r++){var t=n[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&bf(t.cfg.children)}}function Qs(n,r){for(var t=0;t<n.length;t++){var e=n[t];e.cfg.refresh=!0,e.isGroup()&&Qs(e.get("children"),r)}}function xx(n,r){var t=n.cfg.cacheCanvasBBox;return n.cfg.isInView&&t&&Fi(t,r)}function Sf(n,r,t,e){var i=t.path,a=t.startArrow,o=t.endArrow;if(i){var s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<i.length;h++){var f=i[h],v=f[0];if(0===h&&a&&a.d)u=Cn((g=n.getStartTangent())[0][0],g[0][1],g[1][0],g[1][1],a.d);else if(h===i.length-2&&"Z"===i[h+1][0]&&o&&o.d)"Z"===i[h+1][0]&&(u=Cn((g=n.getEndTangent())[0][0],g[0][1],g[1][0],g[1][1],o.d));else if(h===i.length-1&&o&&o.d&&"Z"!==i[0]){var g;u=Cn((g=n.getEndTangent())[0][0],g[0][1],g[1][0],g[1][1],o.d)}var x=u.dx,A=u.dy;switch(v){case"M":r.moveTo(f[1]-x,f[2]-A),l=[f[1],f[2]];break;case"L":r.lineTo(f[1]-x,f[2]-A);break;case"Q":r.quadraticCurveTo(f[1],f[2],f[3]-x,f[4]-A);break;case"C":r.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-x,f[6]-A);break;case"A":var E=void 0;e?(E=e[h])||(E=$a(s,f),e[h]=E):E=$a(s,f);var R=E.cx,I=E.cy,D=E.rx,q=E.ry,nt=E.startAngle,Pt=E.endAngle,Xt=E.xRotation,Jt=E.sweepFlag;if(r.ellipse)r.ellipse(R,I,D,q,Xt,nt,Pt,1-Jt);else{var oe=D>q?D:q,ge=D>q?1:D/q,ye=D>q?q/D:1;r.translate(R,I),r.rotate(Xt),r.scale(ge,ye),r.arc(0,0,oe,nt,Pt,1-Jt),r.scale(1/ge,1/ye),r.rotate(-Xt),r.translate(-R,-I)}break;case"Z":r.closePath()}if("Z"===v)s=l;else{var _e=f.length;s=[f[_e-2],f[_e-1]]}}}}function Af(n,r){var t=n.get("canvas");t&&("remove"===r&&(n._cacheCanvasBBox=n.get("cacheCanvasBBox")),n.get("hasChanged")||(n.set("hasChanged",!0),n.cfg.parent&&n.cfg.parent.get("hasChanged")||(t.refreshElement(n,r,t),t.get("autoDraw")&&t.draw())))}var bx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.onCanvasChange=function(t){Af(this,t)},r.prototype.getShapeBase=function(){return Nt},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),jn(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.cacheCanvasBBox=function(){var e=[],i=[];(0,c.S6)(this.cfg.children,function(v){var g=v.cfg.cacheCanvasBBox;g&&v.cfg.isInView&&(e.push(g.minX,g.maxX),i.push(g.minY,g.maxY))});var a=null;if(e.length){var o=(0,c.VV)(e),s=(0,c.Fp)(e),l=(0,c.VV)(i),u=(0,c.Fp)(i);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var h=this.cfg.canvas;if(h){var f=h.getViewRange();this.set("isInView",Fi(a,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},r.prototype.draw=function(t,e){var i=this.cfg.children;i.length&&(!e||this.cfg.refresh)&&(t.save(),jn(t,this),this._applyClip(t,this.getClip()),qs(t,i,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(Ne.AbstractGroup);const $s=bx;var Sx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return Nt},r.prototype.getGroupBase=function(){return $s},r.prototype.onCanvasChange=function(t){Af(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),a=(0,Ne.getBBoxMethod)(t)(this),o=e/2,s=a.x-o,l=a.y-o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:a.x+a.width+o,maxY:a.y+a.height+o}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),jn(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var i=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);if(!Fi(e,this.getCanvasBBox()))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),jn(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),i=Fi(e,t);this.set("isInView",i),this.set("cacheCanvasBBox",i?e:null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&((0,c.UM)(s)||1===s?this.fill(t):(t.globalAlpha=s,this.fill(t),t.globalAlpha=a)),this.isStroke()&&i>0&&(!(0,c.UM)(o)&&1!==o&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,i,a,o)},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Ne.AbstractShape);const Mr=Sx;var Ax=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),h=s.r,f=o/2,v=gf(s.x,s.y,t,e);return a&&i?v<=h+f:a?v<=h:!!i&&v>=h-f&&v<=h+f},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(i,a,o,0,2*Math.PI,!1),t.closePath()},r}(Mr);const Tx=Ax;function ro(n,r,t,e){return n/(t*t)+r/(e*e)}var Ex=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,f=s.rx,v=s.ry,g=(t-u)*(t-u),d=(e-h)*(e-h);return a&&i?ro(g,d,f+l,v+l)<=1:a?ro(g,d,f,v)<=1:!!i&&ro(g,d,f-l,v-l)>=1&&ro(g,d,f+l,v+l)<=1},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,a,o,s,0,0,2*Math.PI,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(i,a),t.scale(u,h),t.arc(0,0,l,0,2*Math.PI),t.restore(),t.closePath()}},r}(Mr);const _x=Ex;function Tf(n){return n instanceof HTMLElement&&(0,c.HD)(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()}var Lx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,i=this.attrs;if((0,c.HD)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):Tf(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||Number(t.getAttribute("height")))},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),"img"===t&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),i=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,f=e.sheight,v=e.img;(v instanceof Image||Tf(v))&&((0,c.UM)(l)||(0,c.UM)(u)||(0,c.UM)(h)||(0,c.UM)(f)?t.drawImage(v,i,a,o,s):t.drawImage(v,l,u,h,f,i,a,o,s))},r}(Mr);const Px=Lx;function Kr(n,r,t,e,i,a,o){var s=Math.min(n,t),l=Math.max(n,t),u=Math.min(r,e),h=Math.max(r,e),f=i/2;return a>=s-f&&a<=l+f&&o>=u-f&&o<=h+f&&Xe.x1.pointToLine(n,r,t,e,a,o)<=i/2}var Ox=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.endArrow;t.startArrow&&Ws(this,t,a,o,e,i),l&&js(this,t,e,i,a,o)},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){if(!i||!o)return!1;var s=this.attr();return Kr(s.x1,s.y1,s.x2,s.y2,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),i=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},f={dx:0,dy:0};l&&l.d&&(h=Cn(i,a,o,s,e.startArrow.d)),u&&u.d&&(f=Cn(i,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(i+h.dx,a+h.dy),t.lineTo(o-f.dx,s-f.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr();return Xe.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return Xe.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(Mr);const Bx=Ox;var Ix={circle:function(n,r,t){return[["M",n-t,r],["A",t,t,0,1,0,n+t,r],["A",t,t,0,1,0,n-t,r]]},square:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r-t],["L",n+t,r+t],["L",n-t,r+t],["Z"]]},diamond:function(n,r,t){return[["M",n-t,r],["L",n,r-t],["L",n+t,r],["L",n,r+t],["Z"]]},triangle:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r+e],["L",n,r-e],["L",n+t,r+e],["Z"]]},"triangle-down":function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r-e],["L",n+t,r-e],["L",n,r+e],["Z"]]}},Dx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,c.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var s,l,t=this.attr(),e=t.x,i=t.y,a=t.symbol||"circle",o=this._getR(t);if((0,c.mf)(a))l=(s=a)(e,i,o),l=(0,pn.wb)(l);else{if(!(s=r.Symbols[a]))return console.warn(a+" marker is not supported."),null;l=s(e,i,o)}return l},r.prototype.createPath=function(t){Sf(this,t,{path:this._getPath()},this.get("paramsCache"))},r.Symbols=Ix,r}(Mr);const Fx=Dx;function Ef(n,r,t){var e=(0,Ne.getOffScreenContext)();return n.createPath(e),e.isPointInPath(r,t)}function Ks(n){return Math.abs(n)<1e-6?0:n<0?-1:1}function Rx(n,r,t){return(t[0]-n[0])*(r[1]-n[1])==(r[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],r[0])<=t[0]&&t[0]<=Math.max(n[0],r[0])&&Math.min(n[1],r[1])<=t[1]&&t[1]<=Math.max(n[1],r[1])}function _f(n,r,t){var e=!1,i=n.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=n[a],s=n[(a+1)%i];if(Rx(o,s,[r,t]))return!0;Ks(o[1]-t)>0!=Ks(s[1]-t)>0&&Ks(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}function ki(n,r,t,e,i,a,o,s){var l=(Math.atan2(s-r,o-n)+2*Math.PI)%(2*Math.PI);if(l<e||l>i)return!1;var u={x:n+t*Math.cos(l),y:r+t*Math.sin(l)};return gf(u.x,u.y,o,s)<=a/2}var Yx=Ae.vs;const no=ke({hasArc:function(n){for(var r=!1,t=n.length,e=0;e<t;e++){var a=n[e][0];if("C"===a||"A"===a||"Q"===a){r=!0;break}}return r},extractPolygons:function(n){for(var r=n.length,t=[],e=[],i=[],a=0;a<r;a++){var o=n[a],s=o[0];"M"===s?(i.length&&(e.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(t.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&e.push(i),{polygons:t,polylines:e}},isPointInStroke:function(n,r,t,e,i){for(var a=!1,o=r/2,s=0;s<n.length;s++){var l=n[s],u=l.currentPoint,h=l.params,f=l.prePoint,v=l.box;if(!v||wn(v.x-o,v.y-o,v.width+r,v.height+r,t,e)){switch(l.command){case"L":case"Z":a=Kr(f[0],f[1],u[0],u[1],r,t,e);break;case"Q":a=Xe.lD.pointDistance(f[0],f[1],h[1],h[2],h[3],h[4],t,e)<=r/2;break;case"C":a=Xe.Ll.pointDistance(f[0],f[1],h[1],h[2],h[3],h[4],h[5],h[6],t,e,i)<=r/2;break;case"A":var x=l.arcParams,R=x.rx,I=x.ry,D=x.startAngle,q=x.endAngle,Pt=[t,e,1],Xt=R>I?R:I;fi(Pt,Pt,Yx(null,[["t",-x.cx,-x.cy],["r",-x.xRotation],["s",1/(R>I?1:R/I),1/(R>I?I/R:1)]])),a=ki(0,0,Xt,D,q,r,Pt[0],Pt[1])}if(a)break}}return a}},Ne.PathUtil);function Lf(n,r,t){for(var e=!1,i=0;i<n.length&&!(e=_f(n[i],r,t));i++);return e}var Nx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),"path"===t&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,pn.wb)(t);var e=no.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,pn.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var a,t=this.attr(),i=t.endArrow;t.startArrow&&Ws(this,t,(a=this.getStartTangent())[0][0],a[0][1],a[1][0],a[1][1]),i&&js(this,t,(a=this.getEndTangent())[0][0],a[0][1],a[1][0],a[1][1])},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(i){var h=this.getTotalLength();u=no.isPointInStroke(s,o,t,e,h)}if(!u&&a)if(l)u=Ef(this,t,e);else{var f=this.attr("path"),v=no.extractPolygons(f);u=Lf(v.polygons,t,e)||Lf(v.polylines,t,e)}return u},r.prototype.createPath=function(t){Sf(this,t,this.attr(),this.get("paramsCache"))},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,c.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var i,a,o=this.get("curve");if(!e||0===e.length)return o?{x:o[0][1],y:o[0][2]}:null;(0,c.S6)(e,function(h,f){t>=h[0]&&t<=h[1]&&(i=(t-h[0])/(h[1]-h[0]),a=f)});var s=o[a];if((0,c.UM)(s)||(0,c.UM)(a))return null;var l=s.length,u=o[a+1];return Xe.Ll.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",no.pathToCurve(t))},r.prototype._setTcache=function(){var a,o,s,l,t=0,e=0,i=[],u=this.get("curve");if(u){if((0,c.S6)(u,function(h,f){l=h.length,(s=u[f+1])&&(t+=Xe.Ll.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),0===t)return void this.set("tCache",[]);(0,c.S6)(u,function(h,f){l=h.length,(s=u[f+1])&&((a=[])[0]=e/t,o=Xe.Ll.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),a[1]=(e+=o||0)/t,i.push(a))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var e,t=this.getSegments();if(t.length>1){var i=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([i[0]-o[0],i[1]-o[1]]),e.push([i[0],i[1]])):(e.push([a[0],a[1]]),e.push([i[0],i[1]]))}return e},r.prototype.getEndTangent=function(){var i,t=this.getSegments(),e=t.length;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},r}(Mr);const tl=Nx;function Pf(n,r,t,e,i){var a=n.length;if(a<2)return!1;for(var o=0;o<a-1;o++)if(Kr(n[o][0],n[o][1],n[o+1][0],n[o+1][1],r,t,e))return!0;if(i){var f=n[0],v=n[a-1];if(Kr(f[0],f[1],v[0],v[1],r,t,e))return!0}return!1}var Xx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr().points,l=!1;return i&&(l=Pf(s,o,t,e,!0)),!l&&a&&(l=_f(s,t,e)),l},r.prototype.createPath=function(t){var i=this.attr().points;if(!(i.length<2)){t.beginPath();for(var a=0;a<i.length;a++){var o=i[a];0===a?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(Mr);const Vx=Xx;var zx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,i=e.points,o=e.endArrow,s=i.length,h=i[s-1][0],f=i[s-1][1];e.startArrow&&Ws(this,t,i[1][0],i[1][1],i[0][0],i[0][1]),o&&js(this,t,i[s-2][0],i[s-2][1],h,f)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){return!(!i||!o)&&Pf(this.attr().points,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),i=e.points,a=e.startArrow,o=e.endArrow,s=i.length;if(!(i.length<2)){var v,l=i[0][0],u=i[0][1],h=i[s-1][0],f=i[s-1][1];a&&a.d&&(l+=(v=Cn(l,u,i[1][0],i[1][1],a.d)).dx,u+=v.dy),o&&o.d&&(h-=(v=Cn(i[s-2][0],i[s-2][1],h,f,o.d)).dx,f-=v.dy),t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var d=i[g];t.lineTo(d[0],d[1])}t.lineTo(h,f)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),i=this.get("endArrowShape");e&&e.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,c.UM)(e)?(this.set("totalLength",Xe.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,o,e=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,c.S6)(i,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Xe.x1.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var o,s,i=0,a=[];(0,c.S6)(t,function(l,u){t[u+1]&&((o=[])[0]=i/e,s=Xe.x1.length(l[0],l[1],t[u+1][0],t[u+1][1]),o[1]=(i+=s)/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},r}(Mr);const Zx=zx;var qx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,i,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,f=s.height,v=s.radius;if(v){var d=!1;return i&&(d=function(n,r,t,e,i,a,o,s){return Kr(n+i,r,n+t-i,r,a,o,s)||Kr(n+t,r+i,n+t,r+e-i,a,o,s)||Kr(n+t-i,r+e,n+i,r+e,a,o,s)||Kr(n,r+e-i,n,r+i,a,o,s)||ki(n+t-i,r+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||ki(n+t-i,r+e-i,i,0,.5*Math.PI,a,o,s)||ki(n+i,r+e-i,i,.5*Math.PI,Math.PI,a,o,s)||ki(n+i,r+i,i,Math.PI,1.5*Math.PI,a,o,s)}(l,u,h,f,v,o,t,e)),!d&&a&&(d=Ef(this,t,e)),d}var g=o/2;return a&&i?wn(l-g,u-g,h+g,f+g,t,e):a?wn(l,u,h,f,t,e):i?function(n,r,t,e,i,a,o){var s=i/2;return wn(n-s,r-s,t,i,a,o)||wn(n+t-s,r-s,i,e,a,o)||wn(n+s,r+e-s,t,i,a,o)||wn(n-s,r+s,i,e,a,o)}(l,u,h,f,o,t,e):void 0},r.prototype.createPath=function(t){var e=this.attr(),i=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),0===l)t.rect(i,a,o,s);else{var u=function(n){var r=0,t=0,e=0,i=0;return(0,c.kJ)(n)?1===n.length?r=t=e=i=n[0]:2===n.length?(r=e=n[0],t=i=n[1]):3===n.length?(r=n[0],t=i=n[1],e=n[2]):(r=n[0],t=n[1],e=n[2],i=n[3]):r=t=e=i=n,[r,t,e,i]}(l),h=u[0],f=u[1],v=u[2],g=u[3];t.moveTo(i+h,a),t.lineTo(i+o-f,a),0!==f&&t.arc(i+o-f,a+f,f,-Math.PI/2,0),t.lineTo(i+o,a+s-v),0!==v&&t.arc(i+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(i+g,a+s),0!==g&&t.arc(i+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(i,a+h),0!==h&&t.arc(i+h,a+h,h,Math.PI,1.5*Math.PI),t.closePath()}},r}(Mr);const Jx=qx;var Qx=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return ke(ke({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Ne.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,c.HD)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,i=1*t.fontSize;return e?e-i:.14*i},r.prototype._drawTextArr=function(t,e,i){var v,a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=1*a.fontSize,h=this._getSpaceingY(),f=(0,Ne.getTextHeight)(a.text,a.fontSize,a.lineHeight);(0,c.S6)(e,function(g,d){v=l+d*(h+u)-f+u,"middle"===o&&(v+=f-u-(f-u)/2),"top"===o&&(v+=f-u),(0,c.UM)(g)||(i?t.fillText(g,s,v):t.strokeText(g,s,v))})},r.prototype._drawText=function(t,e){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=i.text;(0,c.UM)(l)||(e?t.fillText(l,a,o):t.strokeText(l,a,o))}},r.prototype.strokeAndFill=function(t){var e=this.attrs,i=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&i>0&&(!(0,c.UM)(o)&&1!==o&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&((0,c.UM)(s)||1===s?this.fill(t):(t.globalAlpha=s,this.fill(t),t.globalAlpha=a)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(Mr);const $x=Qx;function Of(n,r,t){var e=n.getTotalMatrix();if(e){var i=function(n,r){if(r){var t=(0,Ne.invert)(r);return(0,Ne.multiplyVec2)(t,n)}return n}([r,t,1],e);return[i[0],i[1]]}return[r,t]}function Bf(n,r,t){if(n.isCanvas&&n.isCanvas())return!0;if(!(0,Ne.isAllowCapture)(n)||!1===n.cfg.isInView)return!1;if(n.cfg.clipShape){var e=Of(n,r,t);if(n.isClipped(e[0],e[1]))return!1}var o=n.cfg.cacheCanvasBBox||n.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function If(n,r,t){if(!Bf(n,r,t))return null;for(var e=null,i=n.getChildren(),o=i.length-1;o>=0;o--){var s=i[o];if(s.isGroup())e=If(s,r,t);else if(Bf(s,r,t)){var l=s,u=Of(s,r,t);l.isInShape(u[0],u[1])&&(e=s)}if(e)break}return e}var t1=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ur(r,n),r.prototype.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){("attr"===t||"sort"===t||"changeSize"===t)&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return Nt},r.prototype.getGroupBase=function(){return $s},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||(window?window.devicePixelRatio:1);return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){n.prototype.setDOMSize.call(this,t,e);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&i.scale(o,o)},r.prototype.clear=function(){n.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?If(this,t,e):n.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var i,t=this.get("refreshElements"),e=this.getViewRange();return t.length&&t[0]===this?i=e:(i=function(n){if(!n.length)return null;var r=[],t=[],e=[],i=[];return(0,c.S6)(n,function(a){var o=function(n){var r;if(n.destroyed)r=n._cacheCanvasBBox;else{var t=n.get("cacheCanvasBBox"),e=t&&!(!t.width||!t.height),i=n.getCanvasBBox(),a=i&&!(!i.width||!i.height);e&&a?r=function(n,r){return n&&r?{minX:Math.min(n.minX,r.minX),minY:Math.min(n.minY,r.minY),maxX:Math.max(n.maxX,r.maxX),maxY:Math.max(n.maxY,r.maxY)}:n||r}(t,i):e?r=t:a&&(r=i)}return r}(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),i.push(o.maxY))}),{minX:(0,c.VV)(r),minY:(0,c.VV)(t),maxX:(0,c.Fp)(e),maxY:(0,c.Fp)(i)}}(t),i&&(i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1,this.get("clipView")&&(i=function(n,r){return n&&r&&Fi(n,r)?{minX:Math.max(n.minX,r.minX),minY:Math.max(n.minY,r.minY),maxX:Math.min(n.maxX,r.maxX),maxY:Math.min(n.maxY,r.maxY)}:null}(i,e)))),i},r.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,c.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),i=this.getChildren();t.clearRect(0,0,e.width,e.height),jn(t,this),qs(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),jn(t,this),mx(this,i,a),qs(t,i,a),t.restore()):e.length&&bf(e),(0,c.S6)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,c.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(Ne.AbstractCanvas);const e1=t1;var r1="0.5.12",el=function(n,r){return(el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(n,r)};function ar(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}el(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var Ge=function(){return Ge=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r},Ge.apply(this,arguments)},rl={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Me={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function pr(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function kf(n){var r=rl[n.type],t=n.getParent();if(!r)throw new Error("the type "+n.type+" is not supported by svg");var e=pr(r);if(n.get("id")&&(e.id=n.get("id")),n.set("el",e),n.set("attrs",{}),t){var i=t.get("el");i||(i=t.createDom(),t.set("el",i)),i.appendChild(e)}return e}function Rf(n,r){var t=n.get("el"),e=(0,c.qo)(t.children).sort(r),i=document.createDocumentFragment();e.forEach(function(a){i.appendChild(a)}),t.appendChild(i)}function Ri(n){var r=n.attr().matrix;if(r){for(var t=n.cfg.el,e=[],i=0;i<9;i+=3)e.push(r[i]+","+r[i+1]);-1===(e=e.join(",")).indexOf("NaN")?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Yi(n,r){var t=n.getClip(),e=n.get("el");if(t){if(t&&!e.hasAttribute("clip-path")){kf(t),t.createPath(r);var i=r.addClip(t);e.setAttribute("clip-path","url(#"+i+")")}}else e.removeAttribute("clip-path")}function Yf(n,r){r.forEach(function(t){t.draw(n)})}function Gf(n,r){var t=n.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),i=n.getParent(),a=i?i.getChildren():[t],o=n.get("el");if("remove"===r)if(n.get("isClipShape")){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o);else if("show"===r)o.setAttribute("visibility","visible");else if("hide"===r)o.setAttribute("visibility","hidden");else if("zIndex"===r)!function(n,r){var t=n.parentNode,e=Array.from(t.childNodes).filter(function(s){return 1===s.nodeType&&"defs"!==s.nodeName.toLowerCase()}),i=e[r],a=e.indexOf(n);if(i){if(a>r)t.insertBefore(n,i);else if(a<r){var o=e[r+1];o?t.insertBefore(n,o):t.appendChild(n)}}else t.appendChild(n)}(o,a.indexOf(n));else if("sort"===r){var h=n.get("children");h&&h.length&&Rf(n,function(f,v){return h.indexOf(f)-h.indexOf(v)?1:0})}else"clear"===r?o&&(o.innerHTML=""):"matrix"===r?Ri(n):"clip"===r?Yi(n,e):"attr"===r||"add"===r&&n.draw(e)}}var s1=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ar(r,n),r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=pr("g");this.set("el",t);var e=this.getParent();if(e){var i=e.get("el");i||(i=e.createDom(),e.set("el",i)),i.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.createPath(i,t)}},r.prototype.onCanvasChange=function(t){Gf(this,t)},r.prototype.getShapeBase=function(){return kt},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),Yi(this,t),this.createPath(t),e.length&&Yf(t,e))},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){Me[s]&&a.setAttribute(Me[s],o)}),Ri(this)},r}(Ne.AbstractGroup);const nl=s1;var l1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){n.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var i=e.get("context");this.draw(i,t)}},r.prototype.getShapeBase=function(){return kt},r.prototype.getGroupBase=function(){return nl},r.prototype.onCanvasChange=function(t){Gf(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var i=(0,Ne.getBBoxMethod)(this.get("type"));i&&(e=i(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,f=a-h,v=o-h;return{x:f,y:v,minX:f,minY:v,maxX:a+s+h,maxY:o+l+h,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr();return(t.fill||t.fillStyle||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr();return(t.stroke||t.strokeStyle)&&this.canStroke},r.prototype.draw=function(t,e){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||kf(this),Yi(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var i=e||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,l=i.strokeStyle,u=i.fillOpacity,h=i.strokeOpacity,f=i.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in i?this._setColor(t,"fill",a):"fillStyle"in i&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(Me.fillOpacity,u)),this.canStroke&&f>0&&(e?"stroke"in i?this._setColor(t,"stroke",s):"strokeStyle"in i&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(Me.strokeOpacity,h),f&&v.setAttribute(Me.lineWidth,f))},r.prototype._setColor=function(t,e,i){var a=this.get("el");if(i)if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i))(o=t.find("gradient",i))||(o=t.addGradient(i)),a.setAttribute(Me[e],"url(#"+o+")");else if(/^[p,P]{1}[\s]*\(/.test(i)){var o;(o=t.find("pattern",i))||(o=t.addPattern(i)),a.setAttribute(Me[e],"url(#"+o+")")}else a.setAttribute(Me[e],i);else a.setAttribute(Me[e],"none")},r.prototype.shadow=function(t,e){var i=this.attr(),a=e||i;(a.shadowOffsetX||a.shadowOffsetY||a.shadowBlur||a.shadowColor)&&function(n,r){var t=n.cfg.el,e=n.attr(),i={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=r.find("filter",i);a||(a=r.addShadow(i)),t.setAttribute("filter","url(#"+a+")")}else t.removeAttribute("filter")}(this,t)},r.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&Ri(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var i=this.get("el"),o=this.get("canvas").get("el").getBoundingClientRect(),u=document.elementFromPoint(t+o.left,e+o.top);return!(!u||!u.isEqualNode(i))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?e+i:0},r}(Ne.AbstractShape);const gr=l1;var u1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):Me[s]&&a.setAttribute(Me[s],o)})},r}(gr);const h1=u1;var c1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return ar(r,n),r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");if((0,c.S6)(e||i,function(u,h){Me[h]&&a.setAttribute(Me[h],u)}),"function"==typeof i.html){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},r}(gr);const f1=c1;var v1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"x"===s||"y"===s?a.setAttribute("c"+s,o):Me[s]&&a.setAttribute(Me[s],o)})},r}(gr);const p1=v1;var g1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");(0,c.S6)(e||a,function(s,l){"img"===l?i._setImage(a.img):Me[l]&&o.setAttribute(Me[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),i=this.get("el");if((0,c.HD)(t))i.setAttribute("href",t);else if(t instanceof window.Image)e.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,c.HD)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",a.toDataURL())}},r}(gr);const d1=g1;var y1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){if("startArrow"===s||"endArrow"===s)if(o){var l=(0,c.Kn)(o)?t.addArrow(i,Me[s]):t.getDefaultArrow(i,Me[s]);a.setAttribute(Me[s],"url(#"+l+")")}else a.removeAttribute(Me[s]);else Me[s]&&a.setAttribute(Me[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr();return Xe.x1.length(t.x1,t.y1,t.x2,t.y2)},r.prototype.getPoint=function(t){var e=this.attr();return Xe.x1.pointAt(e.x1,e.y1,e.x2,e.y2,t)},r}(gr);const m1=y1;var ao={circle:function(n,r,t){return[["M",n,r],["m",-t,0],["a",t,t,0,1,0,2*t,0],["a",t,t,0,1,0,2*-t,0]]},square:function(n,r,t){return[["M",n-t,r-t],["L",n+t,r-t],["L",n+t,r+t],["L",n-t,r+t],["Z"]]},diamond:function(n,r,t){return[["M",n-t,r],["L",n,r-t],["L",n+t,r],["L",n,r+t],["Z"]]},triangle:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r+e],["L",n,r-e],["L",n+t,r+e],["z"]]},triangleDown:function(n,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",n-t,r-e],["L",n+t,r-e],["L",n,r+e],["Z"]]}};const Hf={get:function(n){return ao[n]},register:function(n,r){ao[n]=r},remove:function(n){delete ao[n]},getAll:function(){return ao}};var x1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,c.kJ)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var s,t=this.attr(),e=t.x,i=t.y,a=t.r||t.radius,o=t.symbol||"circle";return(s=(0,c.mf)(o)?o:Hf.get(o))?s(e,i,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=Hf,r}(gr);const w1=x1;var C1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");(0,c.S6)(e||a,function(s,l){if("path"===l&&(0,c.kJ)(s))o.setAttribute("d",i._formatPath(s));else if("startArrow"===l||"endArrow"===l)if(s){var u=(0,c.Kn)(s)?t.addArrow(a,Me[l]):t.getDefaultArrow(a,Me[l]);o.setAttribute(Me[l],"url(#"+u+")")}else o.removeAttribute(Me[l]);else Me[l]&&o.setAttribute(Me[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(i){return i.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),i=this.getTotalLength();if(0===i)return null;var a=e?e.getPointAtLength(t*i):null;return a?{x:a.x,y:a.y}:null},r}(gr);const M1=C1;var b1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"points"===s&&(0,c.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Me[s]&&a.setAttribute(Me[s],o)})},r}(gr);const S1=b1;var A1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,i){n.prototype.onAttrChange.call(this,t,e,i),-1!==["points"].indexOf(t)&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var i=this.attr(),a=this.get("el");(0,c.S6)(e||i,function(o,s){"points"===s&&(0,c.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Me[s]&&a.setAttribute(Me[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,c.UM)(e)?(this.set("totalLength",Xe.aH.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var a,o,e=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),(0,c.S6)(i,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Xe.x1.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var o,s,i=0,a=[];(0,c.S6)(t,function(l,u){t[u+1]&&((o=[])[0]=i/e,s=Xe.x1.length(l[0],l[1],t[u+1][0],t[u+1][1]),o[1]=(i+=s)/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,i=[];return i.push([t[e-1][0],t[e-1][1]]),i.push([t[e][0],t[e][1]]),i},r}(gr);const T1=A1;var P1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,c.S6)(e||a,function(u,h){-1===l.indexOf(h)||s?-1===l.indexOf(h)&&Me[h]&&o.setAttribute(Me[h],u):(o.setAttribute("d",i._assembleRect(a)),s=!0)})},r.prototype._assembleRect=function(t){var e=t.x,i=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=function(n){var r=0,t=0,e=0,i=0;return(0,c.kJ)(n)?1===n.length?r=t=e=i=n[0]:2===n.length?(r=e=n[0],t=i=n[1]):3===n.length?(r=n[0],t=i=n[1],e=n[2]):(r=n[0],t=n[1],e=n[2],i=n[3]):r=t=e=i=n,{r1:r,r2:t,r3:e,r4:i}}(s);return(0,c.kJ)(s)?1===s.length?l.r1=l.r2=l.r3=l.r4=s[0]:2===s.length?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):3===s.length?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s,[["M "+(e+l.r1)+","+i],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]].join(" ")},r}(gr);const O1=P1;var B1={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},I1={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},D1={left:"left",start:"left",center:"middle",right:"end",end:"end"},F1=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return ar(r,n),r.prototype.getDefaultAttrs=function(){var t=n.prototype.getDefaultAttrs.call(this);return Ge(Ge({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var i=this,a=this.attr(),o=this.get("el");this._setFont(),(0,c.S6)(e||a,function(s,l){"text"===l?i._setText(""+s):"matrix"===l&&s?Ri(i):Me[l]&&o.setAttribute(Me[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),i=e.textBaseline,a=e.textAlign,o=(0,Mh.qY)();o&&"firefox"===o.name?t.setAttribute("dominant-baseline",I1[i]||"alphabetic"):t.setAttribute("alignment-baseline",B1[i]||"baseline"),t.setAttribute("text-anchor",D1[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=void 0===o?"bottom":o;if(t)if(~t.indexOf("\n")){var l=t.split("\n"),u=l.length-1,h="";(0,c.S6)(l,function(f,v){0===v?"alphabetic"===s?h+='<tspan x="'+a+'" dy="'+-u+'em">'+f+"</tspan>":"top"===s?h+='<tspan x="'+a+'" dy="0.9em">'+f+"</tspan>":"middle"===s?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+f+"</tspan>":"bottom"===s?h+='<tspan x="'+a+'" dy="-'+(u+.3)+'em">'+f+"</tspan>":"hanging"===s&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-.3)+'em">'+f+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+f+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t;else e.innerHTML=""},r}(gr);const k1=F1;var R1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Y1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,G1=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Nf(n){var r=n.match(G1);if(!r)return"";var t="";return r.sort(function(e,i){return e=e.split(":"),i=i.split(":"),Number(e[0])-Number(i[0])}),(0,c.S6)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}var N1=function(){function n(r){this.cfg={};var t=null,e=(0,c.EL)("gradient_");return"l"===r.toLowerCase()[0]?function(n,r){var a,o,t=R1.exec(n),e=(0,c.wQ)((0,c.c$)(parseFloat(t[1])),2*Math.PI),i=t[2];e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=Nf(i)}(r,t=pr("linearGradient")):function(n,r){var t=Y1.exec(n),e=parseFloat(t[1]),i=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",i),r.setAttribute("r",a),r.innerHTML=Nf(o)}(r,t=pr("radialGradient")),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return n.prototype.match=function(r,t){return this.cfg===t},n}();const X1=N1;var V1={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},z1={x:"-40%",y:"-40%",width:"200%",height:"200%"},Z1=function(){function n(r){this.type="filter",this.cfg={},this.type="filter";var t=pr("filter");return(0,c.S6)(z1,function(e,i){t.setAttribute(i,e)}),this.el=t,this.id=(0,c.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return n.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,i=this.cfg;return(0,c.S6)(Object.keys(i),function(a){if(i[a]!==t[a])return e=!1,!1}),e},n.prototype.update=function(r,t){var e=this.cfg;return e[V1[r]]=t,this._parseShadow(e,this.el),this},n.prototype._parseShadow=function(r,t){t.innerHTML='<feDropShadow\n      dx="'+(r.dx||0)+'"\n      dy="'+(r.dy||0)+'"\n      stdDeviation="'+(r.blur?r.blur/10:0)+'"\n      flood-color="'+(r.color?r.color:"#000")+'"\n      flood-opacity="'+(r.opacity?r.opacity:1)+'"\n      />'},n}();const W1=Z1;var j1=function(){function n(r,t){this.cfg={};var e=pr("marker"),i=(0,c.EL)("marker_");e.setAttribute("id",i);var a=pr("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=i;var o=r["marker-start"===t?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",!0===o?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return n.prototype.match=function(){return!1},n.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY","5")},n.prototype._setMarker=function(r,t){var e=this.el,i=this.cfg.path,a=this.cfg.d;(0,c.kJ)(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",i),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},n.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},n}();const Xf=j1;var q1=function(){function n(r){this.type="clip",this.cfg={};var t=pr("clipPath");return this.el=t,this.id=(0,c.EL)("clip_"),t.id=this.id,t.appendChild(r.cfg.el),this.cfg=r,this}return n.prototype.match=function(){return!1},n.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},n}();const J1=q1;var Q1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,$1=function(){function n(r){this.cfg={};var t=pr("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=pr("image");t.appendChild(e);var i=(0,c.EL)("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=r;var o=Q1.exec(r)[2];e.setAttribute("href",o);var s=new Image;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?l():(s.onload=l,s.src=s.src),this}return n.prototype.match=function(r,t){return this.cfg===t},n}();const K1=$1;var tw=function(){function n(r){var t=pr("defs"),e=(0,c.EL)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return n.prototype.find=function(r,t){for(var e=this.children,i=null,a=0;a<e.length;a++)if(e[a].match(r,t)){i=e[a].id;break}return i},n.prototype.findById=function(r){for(var t=this.children,e=null,i=0;i<t.length;i++)if(t[i].id===r){e=t[i];break}return e},n.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},n.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var i=new Xf(r,t);return this.defaultArrow[e]=i,this.el.appendChild(i.el),this.add(i),i.id},n.prototype.addGradient=function(r){var t=new X1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addArrow=function(r,t){var e=new Xf(r,t);return this.el.appendChild(e.el),this.add(e),e.id},n.prototype.addShadow=function(r){var t=new W1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addPattern=function(r){var t=new K1(r);return this.el.appendChild(t.el),this.add(t),t.id},n.prototype.addClip=function(r){var t=new J1(r);return this.el.appendChild(t.el),this.add(t),t.id},n}();const ew=tw;var rw=function(n){function r(t){return n.call(this,Ge(Ge({},t),{autoDraw:!0,renderer:"svg"}))||this}return ar(r,n),r.prototype.getShapeBase=function(){return kt},r.prototype.getGroupBase=function(){return nl},r.prototype.getShape=function(t,e,i){var a=i.target||i.srcElement;if(!rl[a.tagName]){for(var o=a.parentNode;o&&!rl[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=pr("svg"),e=new ew(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),i=this.get("el");if("sort"===t){var a=this.get("children");a&&a.length&&Rf(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if("clear"===t){if(i){i.innerHTML="";var o=e.el;o.innerHTML="",i.appendChild(o)}}else"matrix"===t?Ri(this):"clip"===t?Yi(this,e):"changeSize"===t&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Yi(this,t),e.length&&Yf(t,e)},r}(Ne.AbstractCanvas);const nw=rw;var iw="0.5.6",aw=function(n){function r(t){var e=n.call(this,t)||this;e.type="path",e.shapeType="line";var i=t.connectNulls,o=t.showSinglePoint,s=void 0===o||o;return e.connectNulls=void 0!==i&&i,e.showSinglePoint=s,e}return ht(r,n),r.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var i=new Map,a=new Map,o=[],s=0,l=0;l<t.length;l++){var h=this.getElementId(u=t[l]);o.push(h),i.set(h,u),a.set(h,s),s++}this.elements=new Array(s);for(var f=tf(this.lastElementsMap,o),g=f.updated,d=f.removed,x=0,A=f.added;x<A.length;x++){var u=i.get(h=A[x]),E=this.getShapeFactory(),R=this.getShapeInfo(u);l=a.get(h),(I=new qc({shapeFactory:E,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:l})).geometry=this,I.animate=this.animateOption,I.draw(R,e),this.elementsMap[h]=I,this.elements[l]=I}for(var D=0,q=g;D<q.length;D++){u=i.get(h=q[D]);var I=this.lastElementsMap[h],nt=(l=a.get(h),R=this.getShapeInfo(u),I.getModel());(this.isCoordinateChanged||Kc(nt,R))&&(I.animate=this.animateOption,I.update(R)),this.elementsMap[h]=I,this.elements[l]=I}for(var Pt=0,Xt=d;Pt<Xt.length;Pt++)(I=this.lastElementsMap[h=Xt[Pt]]).animate=this.animateOption,I.destroy()},r.prototype.getPointsAndData=function(t){for(var e=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),i.push(s[we])}return{points:e,data:i}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),a=i.points,o=i.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Qr);const il=aw;function ow(n,r,t,e,i){var a=[];if(n.length){for(var o=[],s=[],l=0,u=n.length;l<u;l++){var h=n[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,c.S6)([o,s],function(f,v){var g=[],d=e.parsePoints(f),x=d[0];1===o.length&&1===s.length?g=0===v?[["M",x.x-.5,x.y],["L",x.x+.5,x.y]]:[["L",x.x+.5,x.y],["L",x.x-.5,x.y]]:(r&&d.push({x:x.x,y:x.y}),g=t?Xa(d,!1,i):_i(d,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function oo(n,r,t,e,i){for(var a=Fe(n,r,!r,"lineWidth"),s=n.isInCircle,h=qa(n.points,n.connectNulls,n.showSinglePoint),f=[],v=0,g=h.length;v<g;v++)f=f.concat(ow(h[v],s,t,e,i));return a.path=f,a}function Vf(n){var r=n.start,t=n.end;return[[r.x,t.y],[t.x,r.y]]}Jr("area",{defaultShapeType:"area",getDefaultPoints:function(n){var r=n.x,t=n.y0;return((0,c.kJ)(n.y)?n.y:[t,n.y]).map(function(i){return{x:r,y:i}})}}),Oe("area","area",{draw:function(n,r){var t=oo(n,!1,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:n.color}}}});var sw=function(n){function r(t){var e=n.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var i=t.startOnZero,o=t.sortable,s=void 0!==o&&o,l=t.showSinglePoint,u=void 0!==l&&l;return e.startOnZero=void 0===i||i,e.sortable=s,e.showSinglePoint=u,e}return ht(r,n),r.prototype.getPointsAndData=function(t){for(var e=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),i.push(s[we])}return{points:e,data:i}},r.prototype.getYMinValue=function(){return this.startOnZero?n.prototype.getYMinValue.call(this):this.getYScale().min},r}(il);const lw=sw;Jr("edge",{defaultShapeType:"line",getDefaultPoints:function(n){return Ns(n)}}),Oe("edge","line",{draw:function(n,r){var t=Fe(n,!0,!1,"lineWidth"),e=_i(this.parsePoints(n.points),this.coordinate.isPolar);return r.addShape("path",{attrs:m(m({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}});var uw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return ht(r,n),r}(Qr);const hw=uw;var cw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return ht(r,n),r.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var i=0;i<t.length;i++){var a=t[i],o=this.prepareRange(a),s=this.prepareSize(),l=(0,c.U2)(this.styleOption,["cfg","shadowBlur"]);(0,c.hj)(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},r.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!=typeof e?e:""),this},r.prototype.clear=function(){n.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var i=this.getAttribute("color").getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var l=s[we][i];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,c.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var i=this.getGrayScaleBlurredCanvas(),a=t+e,o=i.getContext("2d");i.width=i.height=2*a,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=2*a,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,2*Math.PI,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,i,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),v=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(Xt){return Xt[we][v]<=e[1]&&Xt[we][v]>=e[0]}));for(var d=this.scales[v],x=0,A=t;x<A.length;x++){var E=A[x],R=this.getDrawCfg(E),I=R.x,D=R.y,q=d.scale(E[we][v]);this.drawGrayScaleBlurredCircle(I-s.x,D-l.y,i+a,q,g)}var nt=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(nt),g.putImageData(nt,0,0);var Pt=this.getImageShape();Pt.attr("x",s.x),Pt.attr("y",l.y),Pt.attr("width",u),Pt.attr("height",h),Pt.attr("img",g.canvas),Pt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-i,e-i)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),i=t.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if((0,c.hj)(s)){var l=a[s]?a[s]:Ar.rgb2arr(e.gradient(s/256));i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;return t||(t=this.container.addShape({type:"image",attrs:{}}),this.imageShape=t,t)},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),i=t.map(function(a){return a[we]});return m(m({},e),{mappingData:t,data:i})},r}(Qr);const fw=cw;function al(n){var a,o,s,l,r=n.x,t=n.y,e=n.y0,i=n.size;(0,c.kJ)(t)?(a=t[0],o=t[1]):(a=e,o=t),(0,c.kJ)(r)?(s=r[0],l=r[1]):(s=r-i/2,l=r+i/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function ol(n,r){void 0===r&&(r=!0);var t=[],e=n[0];t.push(["M",e.x,e.y]);for(var i=1,a=n.length;i<a;i++)t.push(["L",n[i].x,n[i].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function zf(n,r){var t=0,e=0,i=0,a=0;return(0,c.kJ)(n)?1===n.length?t=e=i=a=n[0]:2===n.length?(t=i=n[0],e=a=n[1]):3===n.length?(t=n[0],e=a=n[1],i=n[2]):(t=n[0],e=n[1],i=n[2],a=n[3]):t=e=i=a=n,t+e>r&&(e=r-(t=t?r/(1+e/t):0)),i+a>r&&(a=r-(i=i?r/(1+a/i):0)),[t||0,e||0,i||0,a||0]}function Zf(n,r,t){var e=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=(0,c.U2)(n,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=zf(o,Math.min(s,l)),f=u[1],v=u[2],g=u[3];e.push(["M",i.x,a.y+(h=u[0])]),0!==h&&e.push(["A",h,h,0,0,1,i.x+h,a.y]),e.push(["L",a.x-f,a.y]),0!==f&&e.push(["A",f,f,0,0,1,a.x,a.y+f]),e.push(["L",a.x,i.y-v]),0!==v&&e.push(["A",v,v,0,0,1,a.x-v,i.y]),e.push(["L",i.x+g,i.y]),0!==g&&e.push(["A",g,g,0,0,1,i.x,i.y-g])}else e.push(["M",i.x,i.y]),e.push(["L",a.x,i.y]),e.push(["L",a.x,a.y]),e.push(["L",i.x,a.y]),e.push(["L",i.x,i.y]);e.push(["z"])}if(t.isPolar){var d=t.getCenter(),x=Ai(n,t),A=x.startAngle,E=x.endAngle;if("theta"===t.type||t.isTransposed){var R=function(q){return Math.pow(q,2)},h=Math.sqrt(R(d.x-r[0].x)+R(d.y-r[0].y));f=Math.sqrt(R(d.x-r[2].x)+R(d.y-r[2].y)),e=Wr(d.x,d.y,h,t.startAngle,t.endAngle,f)}else e=Wr(d.x,d.y,t.getRadius(),A,E)}return e}function Wf(n,r,t){var e=[];return(0,c.UM)(r)?t?e.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",(n[2].x+n[3].x)/2,(n[2].y+n[3].y)/2],["Z"]):e.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",n[2].x,n[2].y],["L",n[3].x,n[3].y],["Z"]):e.push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}function Gi(n,r){return[r,n]}function sl(n){var r=n.theme,t=n.coordinate,e=n.getXScale(),i=e.values,a=n.beforeMappingData,o=i.length,s=Ti(n.coordinate),l=n.intervalPadding,u=n.dodgePadding,h=n.maxColumnWidth||r.maxColumnWidth,f=n.minColumnWidth||r.minColumnWidth,v=n.columnWidthRatio||r.columnWidthRatio,g=n.multiplePieWidthRatio||r.multiplePieWidthRatio,d=n.roseWidthRatio||r.roseWidthRatio;if(e.isLinear&&i.length>1){i.sort();var x=function(n,r){var t=n.length,e=n;(0,c.HD)(e[0])&&(e=n.map(function(s){return r.translate(s)}));for(var i=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];i>o&&(i=o)}return i}(i,e);i.length>(o=(e.max-e.min)/x)&&(o=i.length)}var A=e.range,E=1/o,R=1;if(t.isPolar?R=t.isTransposed&&o>1?g:d:(e.isLinear&&(E*=A[1]-A[0]),R=v),!(0,c.UM)(l)&&l>=0?E=(1-l/s*(o-1))/o:E*=R,n.getAdjust("dodge")){var nt=function(n,r){if(r){var t=(0,c.xH)(n);return(0,c.I)(t,r).length}return n.length}(a,n.getAdjust("dodge").dodgeBy);!(0,c.UM)(u)&&u>=0?E=(E-u/s*(nt-1))/nt:(!(0,c.UM)(l)&&l>=0&&(E*=R),E/=nt),E=E>=0?E:0}if(!(0,c.UM)(h)&&h>=0){var Xt=h/s;E>Xt&&(E=Xt)}if(!(0,c.UM)(f)&&f>=0){var Jt=f/s;E<Jt&&(E=Jt)}return E}Jr("interval",{defaultShapeType:"rect",getDefaultPoints:function(n){return al(n)}}),Oe("interval","rect",{draw:function(n,r){var s,t=Fe(n,!1,!0),e=r,i=null==n?void 0:n.background;if(i){e=r.addGroup();var a=hf(n),o=Zf(n,this.parsePoints(n.points),this.coordinate);e.addShape("path",{attrs:m(m({},a),{path:o}),zIndex:-1,name:Ds})}s=t.radius&&this.coordinate.isRect?function(n,r,t){var e,i,a,o,s,l,u,h=Zt([],n,!0),f=h[0],v=h[1],g=h[2],d=h[3],x="number"==typeof t?Array(4).fill(t):t,A=x[0],E=x[1],R=x[2],I=x[3];r.isTransposed&&(v=(e=Gi(v,d))[0],d=e[1],A=(i=[I,A,E,R])[0],E=i[1],R=i[2],I=i[3]),r.isReflect("y")&&(f=(a=Gi(f,v))[0],v=a[1],g=(o=Gi(g,d))[0],d=o[1]),r.isReflect("x")&&(f=(s=Gi(f,d))[0],d=s[1],v=(l=Gi(v,g))[0],g=l[1]);var D=[],q=function(nt){return Math.abs(nt)};return A=(u=zf([A,E,R,I],Math.min(q(d.x-f.x),q(v.y-f.y))).map(function(nt){return q(nt)}))[0],E=u[1],R=u[2],I=u[3],f.y<v.y?(D.push(["M",d.x,d.y+R]),0!==R&&D.push(["A",R,R,0,0,0,d.x-R,d.y]),D.push(["L",f.x+I,f.y]),0!==I&&D.push(["A",I,I,0,0,0,f.x,f.y+I]),D.push(["L",v.x,v.y-A]),0!==A&&D.push(["A",A,A,0,0,0,v.x+A,v.y]),D.push(["L",g.x-E,g.y]),0!==E&&D.push(["A",E,E,0,0,0,g.x,g.y-E]),D.push(["L",d.x,d.y+R]),D.push(["z"])):d.x<f.x?(D.push(["M",g.x+E,g.y]),0!==E&&D.push(["A",E,E,0,0,0,g.x,g.y+E]),D.push(["L",d.x,d.y-R]),0!==R&&D.push(["A",R,R,0,0,0,d.x+R,d.y]),D.push(["L",f.x-I,f.y]),0!==I&&D.push(["A",I,I,0,0,0,f.x,f.y-I]),D.push(["L",v.x,v.y+A]),0!==A&&D.push(["A",A,A,0,0,0,v.x-A,v.y]),D.push(["L",g.x+E,g.y]),D.push(["z"])):(D.push(["M",v.x,v.y+A]),0!==A&&D.push(["A",A,A,0,0,1,v.x+A,v.y]),D.push(["L",g.x-E,g.y]),0!==E&&D.push(["A",E,E,0,0,1,g.x,g.y+E]),D.push(["L",d.x,d.y-R]),0!==R&&D.push(["A",R,R,0,0,1,d.x-R,d.y]),D.push(["L",f.x+I,f.y]),0!==I&&D.push(["A",I,I,0,0,1,f.x,f.y-I]),D.push(["L",v.x,v.y+A]),D.push(["z"])),D}(this.parsePoints(n.points),this.coordinate,t.radius):this.parsePath(function(n,r,t){var e=t.getWidth(),i=t.getHeight(),o=[],s=(n[2].x-n[1].x)/2,l=t.isTransposed?s*i/e:s*e/i;return"round"===r?("rect"===t.type?(o.push(["M",n[0].x,n[0].y+l]),o.push(["L",n[1].x,n[1].y-l]),o.push(["A",s,s,0,0,1,n[2].x,n[2].y-l]),o.push(["L",n[3].x,n[3].y+l]),o.push(["A",s,s,0,0,1,n[0].x,n[0].y+l])):(o.push(["M",n[0].x,n[0].y]),o.push(["L",n[1].x,n[1].y]),o.push(["A",s,s,0,0,1,n[2].x,n[2].y]),o.push(["L",n[3].x,n[3].y]),o.push(["A",s,s,0,0,1,n[0].x,n[0].y])),o.push(["z"])):o=ol(n),o}(n.points,t.lineCap,this.coordinate));var l=e.addShape("path",{attrs:m(m({},t),{path:s}),name:"interval"});return i?e:l},getMarker:function(n){var r=n.color;return n.isInPolar?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var yw=function(n){function r(t){var e=n.call(this,t)||this;return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e.background=t.background,e}return ht(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ti(this.coordinate)):(this.defaultSize||(this.defaultSize=sl(this)),i=this.defaultSize),e.size=i,e},r.prototype.adjustScale=function(){n.prototype.adjustScale.call(this);var t=this.getYScale();if("theta"===this.coordinate.type)t.change({nice:!1,min:0,max:Ey(t)});else{var e=this.scaleDefs,i=t.field,o=t.max;"time"!==t.type&&(t.min>0&&!(0,c.U2)(e,[i,"min"])&&t.change({min:0}),o<=0&&!(0,c.U2)(e,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var e=n.prototype.getDrawCfg.call(this,t);return e.background=this.background,e},r}(Qr);const mw=yw;var xw=function(n){function r(t){var e=n.call(this,t)||this;e.type="line";var i=t.sortable;return e.sortable=void 0!==i&&i,e}return ht(r,n),r}(il);const ww=xw;var jf=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function ll(n,r,t,e,i){var a=Fe(r,i,!i,"r"),o=n.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var f=h[u];l.addShape({type:"marker",attrs:m(m(m({},a),{symbol:mn[e]||e}),f)})}return l}return t.addShape({type:"marker",attrs:m(m(m({},a),{symbol:mn[e]||e}),s)})}Jr("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(n){return Ns(n)}}),(0,c.S6)(jf,function(n){Oe("point","hollow-".concat(n),{draw:function(r,t){return ll(this,r,t,n,!0)},getMarker:function(r){return{symbol:mn[n]||n,style:{r:4.5,stroke:r.color,fill:null}}}})});var Mw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return ht(r,n),r.prototype.getDrawCfg=function(t){var e=n.prototype.getDrawCfg.call(this,t);return m(m({},e),{isStack:!!this.getAdjust("stack")})},r}(Qr);const bw=Mw;Jr("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(n){var r=[];return(0,c.S6)(n.x,function(t,e){r.push({x:t,y:n.y[e]})}),r}}),Oe("polygon","polygon",{draw:function(n,r){if(!(0,c.xb)(n.points)){var t=Fe(n,!0,!0),e=this.parsePath(function(n){for(var r=n[0],t=1,e=[["M",r.x,r.y]];t<n.length;){var i=n[t];(i.x!==n[t-1].x||i.y!==n[t-1].y)&&(e.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<n.length-1&&(r=n[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,c.Xy)((0,c.Z$)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e}),name:"polygon"})}},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}});var Aw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return ht(r,n),r.prototype.createShapePointsCfg=function(t){var o,e=n.prototype.createShapePointsCfg.call(this,t),i=e.x,a=e.y;if(!(0,c.kJ)(i)||!(0,c.kJ)(a)){var s=this.getXScale(),l=this.getYScale(),f=.5/s.values.length,v=.5/l.values.length;s.isCategory&&l.isCategory?(i=[i-f,i-f,i+f,i+f],a=[a-v,a+v,a+v,a-v]):(0,c.kJ)(i)?(i=[(o=i)[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,c.kJ)(a)&&(a=[(o=a)[0],o[1],o[1],o[0]],i=[i-f/2,i-f/2,i+f/2,i+f/2]),e.x=i,e.y=a}return e},r}(Qr);const Tw=Aw;Jr("schema",{defaultShapeType:""});var Ew=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return ht(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ti(this.coordinate)):(this.defaultSize||(this.defaultSize=sl(this)),i=this.defaultSize),e.size=i,e},r}(Qr);const _w=Ew;Jr("violin",{defaultShapeType:"violin",getDefaultPoints:function(n){var r=n.size/2,t=[],e=function(n){if(!(0,c.kJ)(n))return[];var r=(0,c.Fp)(n);return(0,c.UI)(n,function(t){return t/r})}(n._size);return(0,c.S6)(n.y,function(i,a){var o=e[a]*r,s=0===a,l=a===n.y.length-1;t.push({isMin:s,isMax:l,x:n.x-o,y:i}),t.unshift({isMin:s,isMax:l,x:n.x+o,y:i})}),t}}),Oe("violin","violin",{draw:function(n,r){var t=Fe(n,!0,!0),e=this.parsePath(lf(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e}),name:"violin"})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:n.color}}}});var Pw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return ht(r,n),r.prototype.createShapePointsCfg=function(t){var i,e=n.prototype.createShapePointsCfg.call(this,t),a=this.getAttribute("size");return a?(i=this.getAttributeValues(a,t)[0],i/=Ti(this.coordinate)):(this.defaultSize||(this.defaultSize=sl(this)),i=this.defaultSize),e.size=i,e._size=(0,c.U2)(t[we],[this._sizeField]),e},r.prototype.initAttributes=function(){var t=this.attributeOption;this._sizeField=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size",delete t.size,n.prototype.initAttributes.call(this)},r}(Qr);const Ow=Pw;function ul(n,r){return["C",1*n.x/2+1*r.x/2,n.y,1*n.x/2+1*r.x/2,r.y,r.x,r.y]}function hl(n,r){var t=[];t.push({x:r.x,y:r.y}),t.push(n);var e=["Q"];return(0,c.S6)(t,function(i){e.push(i.x,i.y)}),e}Oe("area","line",{draw:function(n,r){var t=oo(n,!0,!1,this);return r.addShape({type:"path",attrs:t,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:n.color,fill:null}}}}),Oe("area","smooth",{draw:function(n,r){var e=oo(n,!1,!0,this,Vf(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,fill:n.color}}}}),Oe("area","smooth-line",{draw:function(n,r){var e=oo(n,!0,!0,this,Vf(this.coordinate));return r.addShape({type:"path",attrs:e,name:"area"})},getMarker:function(n){return{symbol:function(t,e,i){return void 0===i&&(i=5.5),[["M",t-i,e-4],["L",t+i,e-4],["L",t+i,e+4],["L",t-i,e+4],["Z"]]},style:{r:5,stroke:n.color,fill:null}}}}),Oe("edge","arc",{draw:function(n,r){var a,t=Fe(n,!0,!1,"lineWidth"),e=n.points,i=e.length>2?"weight":"normal";if(n.isInCircle){var o={x:0,y:1};return"normal"===i?a=function(n,r,t){var e=hl(r,t),i=[["M",n.x,n.y]];return i.push(e),i}(e[0],e[1],o):(t.fill=t.stroke,a=function(n,r){var t=hl(n[1],r),e=hl(n[3],r),i=[["M",n[0].x,n[0].y]];return i.push(e),i.push(["L",n[3].x,n[3].y]),i.push(["L",n[2].x,n[2].y]),i.push(t),i.push(["L",n[1].x,n[1].y]),i.push(["L",n[0].x,n[0].y]),i.push(["Z"]),i}(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:m(m({},t),{path:a})})}if("normal"===i)return a=fc(((e=this.parsePoints(e))[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,2*Math.PI),r.addShape("path",{attrs:m(m({},t),{path:a})});var s=ul(e[1],e[3]),l=ul(e[2],e[0]);return a=this.parsePath(a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]]),t.fill=t.stroke,r.addShape("path",{attrs:m(m({},t),{path:a})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),Oe("edge","smooth",{draw:function(n,r){var t=Fe(n,!0,!1,"lineWidth"),e=n.points,i=this.parsePath(function(n,r){var t=ul(n,r),e=[["M",n.x,n.y]];return e.push(t),e}(e[0],e[1]));return r.addShape("path",{attrs:m(m({},t),{path:i})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}});var so=1/3;function qf(n){var r=(0,c.kJ)(n)?n:[n],t=r[0],e=r[r.length-1],i=r.length>1?r[1]:t;return{min:t,max:e,min1:i,max1:r.length>3?r[3]:e,median:r.length>2?r[2]:i}}function Jf(n,r,t){var i,e=t/2;if((0,c.kJ)(r)){var a=qf(r),f=n-e,v=n+e;i=[[f,s=a.max],[v,s],[n,s],[n,h=a.max1],[f,u=a.min1],[f,h],[v,h],[v,u],[n,u],[n,o=a.min],[f,o],[v,o],[f,l=a.median],[v,l]]}else{r=(0,c.UM)(r)?.5:r;var o,s,l,u,h,g=qf(n),d=r-e,x=r+e;i=[[o=g.min,d],[o,x],[o,r],[u=g.min1,r],[u,d],[u,x],[h=g.max1,x],[h,d],[h,r],[s=g.max,r],[s,d],[s,x],[l=g.median,d],[l,x]]}return i.map(function(A){return{x:A[0],y:A[1]}})}function Qf(n,r,t){var e=function(n){var t=((0,c.kJ)(n)?n:[n]).sort(function(e,i){return i-e});return function(n,r,t){if((0,c.HD)(n))return n.padEnd(4,t);if((0,c.kJ)(n)){var e=n.length;if(e<4)for(var i=4-e,a=0;a<i;a++)n.push(t)}return n}(t,0,t[t.length-1])}(r);return[{x:n,y:e[0]},{x:n,y:e[1]},{x:n-t/2,y:e[2]},{x:n-t/2,y:e[1]},{x:n+t/2,y:e[1]},{x:n+t/2,y:e[2]},{x:n,y:e[2]},{x:n,y:e[3]}]}function Zw(n,r){var t=Math.abs(n[0].x-n[2].x),e=Math.abs(n[0].y-n[2].y),i=Math.min(t,e);return r&&(i=(0,c.uZ)(r,0,Math.min(t,e))),{x:(n[0].x+n[2].x)/2-(i/=2),y:(n[0].y+n[2].y)/2-i,width:2*i,height:2*i}}Oe("edge","vhv",{draw:function(n,r){var t=Fe(n,!0,!1,"lineWidth"),e=n.points,i=this.parsePath(function(n,r){var t=[];t.push({x:n.x,y:n.y*(1-so)+r.y*so}),t.push({x:r.x,y:n.y*(1-so)+r.y*so}),t.push(r);var e=[["M",n.x,n.y]];return(0,c.S6)(t,function(i){e.push(["L",i.x,i.y])}),e}(e[0],e[1]));return r.addShape("path",{attrs:m(m({},t),{path:i})})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),Oe("interval","funnel",{getPoints:function(n){return n.size=2*n.size,al(n)},draw:function(n,r){var t=Fe(n,!1,!0),e=this.parsePath(Wf(n.points,n.nextPoints,!1));return r.addShape("path",{attrs:m(m({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),Oe("interval","hollow-rect",{draw:function(n,r){var t=Fe(n,!0,!1),e=r,i=null==n?void 0:n.background;if(i){e=r.addGroup();var a=hf(n),o=Zf(n,this.parsePoints(n.points),this.coordinate);e.addShape("path",{attrs:m(m({},a),{path:o}),zIndex:-1,name:Ds})}var s=this.parsePath(ol(n.points)),l=e.addShape("path",{attrs:m(m({},t),{path:s}),name:"interval"});return i?e:l},getMarker:function(n){var r=n.color;return n.isInPolar?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}}),Oe("interval","line",{getPoints:function(n){return function(n){var r=n.x,t=n.y,e=n.y0;return(0,c.kJ)(t)?t.map(function(i,a){return{x:(0,c.kJ)(r)?r[a]:r,y:i}}):[{x:r,y:e},{x:r,y:t}]}(n)},draw:function(n,r){var t=Fe(n,!0,!1,"lineWidth"),e=nr(m({},t),["fill"]),i=this.parsePath(ol(n.points,!1));return r.addShape("path",{attrs:m(m({},e),{path:i}),name:"interval"})},getMarker:function(n){return{symbol:function(t,e,i){return[["M",t,e-i],["L",t,e+i]]},style:{r:5,stroke:n.color}}}}),Oe("interval","pyramid",{getPoints:function(n){return n.size=2*n.size,al(n)},draw:function(n,r){var t=Fe(n,!1,!0),e=this.parsePath(Wf(n.points,n.nextPoints,!0));return r.addShape("path",{attrs:m(m({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),Oe("interval","tick",{getPoints:function(n){return function(n){var a,o,r=n.x,t=n.y,e=n.y0,i=n.size;(0,c.kJ)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+i/2,l=r-i/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}(n)},draw:function(n,r){var t=Fe(n,!0,!1),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]}(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e}),name:"interval"})},getMarker:function(n){return{symbol:function(t,e,i){return[["M",t-i/2,e-i],["L",t+i/2,e-i],["M",t,e-i],["L",t,e+i],["M",t-i/2,e+i],["L",t+i/2,e+i]]},style:{r:5,stroke:n.color}}}}),(0,c.S6)(["hv","vh","hvh","vhv"],function(n){Oe("line",n,{draw:function(r,t){var e=function(n,r){var t=qa(n.points,n.connectNulls,n.showSinglePoint),e=[];return(0,c.S6)(t,function(i){var a=function(n,r){var t=[];return(0,c.S6)(n,function(e,i){var a=n[i+1];if(t.push(e),a){var o=function(n,r,t){var s,e=n.x,i=n.y,a=r.x,o=r.y;switch(t){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:i},{x:l,y:o}];break;case"vhv":var u=(i+o)/2;s=[{x:e,y:u},{x:a,y:u}]}return s}(e,a,r);t=t.concat(o)}}),t}(i,r);e=e.concat(function(n){return n.map(function(r,t){return 0===t?["M",r.x,r.y]:["L",r.x,r.y]})}(a))}),m(m({},Fe(n,!0,!1,"lineWidth")),{path:e})}(r,n);return t.addShape({type:"path",attrs:e,name:"line"})},getMarker:function(r){return cf(r,n)}})}),(0,c.S6)(["cross","tick","plus","hyphen","line"],function(n){Oe("point",n,{draw:function(r,t){return ll(this,r,t,n,!0)},getMarker:function(r){return{symbol:mn[n],style:{r:4.5,stroke:r.color,fill:null}}}})}),Oe("point","image",{draw:function(n,r){var t=Fe(n,!1,!1,"r").r,e=this.parsePoints(n.points),i=e[0];if(n.isStack)i=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:n.shape[1]}})}return a}return r.addShape("image",{attrs:{x:i.x-t/2,y:i.y-t,width:t,height:t,img:n.shape[1]}})},getMarker:function(n){return{symbol:"circle",style:{r:4.5,fill:n.color}}}}),(0,c.S6)(jf,function(n){Oe("point",n,{draw:function(r,t){return ll(this,r,t,n,!1)},getMarker:function(r){return{symbol:mn[n]||n,style:{r:4.5,fill:r.color}}}})}),Oe("schema","box",{getPoints:function(n){return Jf(n.x,n.y,n.size)},draw:function(n,r){var t=Fe(n,!0,!1),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]}(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e,name:"schema"})})},getMarker:function(n){return{symbol:function(t,e,i){var o=Jf(t,[e-6,e-3,e,e+3,e+6],i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:n.color}}}}),Oe("schema","candle",{getPoints:function(n){return Qf(n.x,n.y,n.size)},draw:function(n,r){var t=Fe(n,!0,!0),e=this.parsePath(function(n){return[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]}(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e,name:"schema"})})},getMarker:function(n){var r=n.color;return{symbol:function(t,e,i){var o=Qf(t,[e+7.5,e+3,e-3,e-7.5],i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}}),Oe("polygon","square",{draw:function(n,r){if(!(0,c.xb)(n.points)){var t=Fe(n,!0,!0),e=this.parsePoints(n.points);return r.addShape("rect",{attrs:m(m({},t),Zw(e,n.size)),name:"polygon"})}},getMarker:function(n){return{symbol:"square",style:{r:4,fill:n.color}}}}),Oe("violin","smooth",{draw:function(n,r){var t=Fe(n,!0,!0),e=this.parsePath(uf(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{stroke:null,r:4,fill:n.color}}}}),Oe("violin","hollow",{draw:function(n,r){var t=Fe(n,!0,!1),e=this.parsePath(lf(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:null,stroke:n.color}}}}),Oe("violin","hollow-smooth",{draw:function(n,r){var t=Fe(n,!0,!1),e=this.parsePath(uf(n.points));return r.addShape("path",{attrs:m(m({},t),{path:e})})},getMarker:function(n){return{symbol:"circle",style:{r:4,fill:null,stroke:n.color}}}});var Ww=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getLabelValueDir=function(t){var i=t.points;return i[0].y<=i[2].y?1:-1},r.prototype.getLabelOffsetPoint=function(t,e,i,a){var o,s=n.prototype.getLabelOffsetPoint.call(this,t,e,i),l=this.getCoordinate(),h=l.isTransposed?"x":"y",f=this.getLabelValueDir(t.mappingData);return s=m(m({},s),((o={})[h]=s[h]*f,o)),l.isReflect("x")&&(s=m(m({},s),{x:-1*s.x})),l.isReflect("y")&&(s=m(m({},s),{y:-1*s.y})),s},r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,i=this.getDefaultLabelCfg();return(0,c.b$)({},i,e.theme.labels,"middle"===t.position?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,e,i,a){var v,g,d,x,o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),f=this.getLabelValueDir(e),A=(0,c.kJ)(e.shape)?e.shape[0]:e.shape;if("funnel"===A||"pyramid"===A){var E=(0,c.U2)(e,"nextPoints"),R=(0,c.U2)(e,"points");if(E){var I=o.convert(R[0]),D=o.convert(R[1]),q=o.convert(E[0]),nt=o.convert(E[1]);s?(v=Math.min(q.y,I.y),d=Math.max(q.y,I.y),g=(D.x+nt.x)/2,x=(I.x+q.x)/2):(v=Math.min((D.y+nt.y)/2,(I.y+q.y)/2),d=Math.max((D.y+nt.y)/2,(I.y+q.y)/2),g=nt.x,x=I.x)}else v=Math.min(h.y,u.y),d=Math.max(h.y,u.y),g=h.x,x=u.x}else v=Math.min(h.y,u.y),d=Math.max(h.y,u.y),g=h.x,x=u.x;switch(a){case"right":t.x=g,t.y=(v+d)/2,t.textAlign=(0,c.U2)(t,"textAlign",f>0?"left":"right");break;case"left":t.x=x,t.y=(v+d)/2,t.textAlign=(0,c.U2)(t,"textAlign",f>0?"left":"right");break;case"bottom":s&&(t.x=(g+x)/2),t.y=d,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",f>0?"bottom":"top");break;case"middle":s&&(t.x=(g+x)/2),t.y=(v+d)/2,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline","middle");break;case"top":s&&(t.x=(g+x)/2),t.y=v,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",f>0?"bottom":"top")}},r}(Ys);const jw=Ww;var lo=Math.PI/2,qw=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),i=0;if((0,c.hj)(t))i=t;else if((0,c.HD)(t)&&-1!==t.indexOf("%")){var a=e.getRadius();e.innerRadius>0&&(a*=1-e.innerRadius),i=.01*parseFloat(t)*a}return i},r.prototype.getLabelItems=function(t){var e=n.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return(0,c.UI)(e,function(a){if(a&&i){var o=i.scale((0,c.U2)(a.data,i.field));return m(m({},a),{percent:o})}return a})},r.prototype.getLabelAlign=function(t){var i,e=this.getCoordinate();if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(e.isTransposed){var a=e.getCenter(),o=t.offset;i=Math.abs(t.x-a.x)<1?"center":t.angle>Math.PI||t.angle<=0?o>0?"left":"right":o>0?"right":"left"}else i="center";return i},r.prototype.getLabelPoint=function(t,e,i){var o,a=1,s=t.content[i];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(1===t.content.length&&0===i?i=1:0===i&&(a=-1),o=this.getArcPoint(e,i));var l=t.offset*a,u=this.getPointAngle(o),h=t.labelEmit,f=this.getCirclePoint(u,l,o,h);return 0===f.r?f.content="":(f.content=s,f.angle=u,f.color=e.color),f.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,f.start={x:o.x,y:o.y},f},r.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),(0,c.kJ)(t.x)||(0,c.kJ)(t.y)?{x:(0,c.kJ)(t.x)?t.x[e]:t.x,y:(0,c.kJ)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},r.prototype.getPointAngle=function(t){return Gn(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,i,a){var o=this.getCoordinate(),s=o.getCenter(),l=Ya(o,i);if(0===l)return m(m({},s),{r:l});var u=t;return o.isTransposed&&l>e&&!a?u=t+2*Math.asin(e/(2*l)):l+=e,{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,i){var a=t+lo;return i&&(a-=lo),a&&(a>lo?a-=Math.PI:a<-lo&&(a+=Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),i=t.length,a={x:0,y:0};return(0,c.S6)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=e.convert(a)},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Ys);const $f=qw;var Jw=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return ht(r,n),r.prototype.getDefaultLabelCfg=function(t,e){var i=n.prototype.getDefaultLabelCfg.call(this,t,e);return(0,c.b$)({},i,(0,c.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return n.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,e,i){var a;return e<0&&((a=t)>Math.PI/2&&(a-=Math.PI),a<-Math.PI/2&&(a+=Math.PI)),a},r.prototype.getLabelAlign=function(t){var a,i=this.getCoordinate().getCenter();return a=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",t.offset<=0&&(a="right"===a?"left":"right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var o,e=this.getCoordinate(),i={x:(0,c.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,c.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},s=Gn(e,i);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=Gn(e,a);s>=l&&(l+=2*Math.PI),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+e;return m(m({},Ye(a.x,a.y,o,t)),{angle:t,r:o})},r}($f);const Qw=Jw;function tv(n,r,t){var e=n.filter(function(d){return!d.invisible});e.sort(function(d,x){return d.y-x.y});var l,i=!0,a=t.minY,s=Math.abs(a-t.maxY),u=0,h=Number.MIN_VALUE,f=e.map(function(d){return d.y>u&&(u=d.y),d.y<h&&(h=d.y),{content:d.content,size:r,targets:[d.y-a],pos:null}});for(h-=a,u-a>s&&(s=u-a);i;)for(f.forEach(function(d){var x=(Math.min.apply(h,d.targets)+Math.max.apply(h,d.targets))/2;d.pos=Math.min(Math.max(h,x-d.size/2),s-d.size),d.pos=Math.max(0,d.pos)}),i=!1,l=f.length;l--;)if(l>0){var v=f[l-1],g=f[l];v.pos+v.size>g.pos&&(v.size+=g.size,v.targets=v.targets.concat(g.targets),v.pos+v.size>s&&(v.pos=s-v.size),f.splice(l,1),i=!0)}l=0,f.forEach(function(d){var x=a+r/2;d.targets.forEach(function(){e[l].y=d.pos+x,x+=r,l++})})}var nv=function(){function n(r){void 0===r&&(r={}),this.bitmap={};var t=r.xGap,i=r.yGap,a=void 0===i?8:i;this.xGap=void 0===t?1:t,this.yGap=a}return n.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,i=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=i;l<=a;l+=1)if(e[l]){if(l===i||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}else e[l]={};return t},n.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),i=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=i;s+=1)t[s]||(t[s]={});for(s=e;s<=i;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(1!==this.yGap)for(s=a;s<=o;s+=1)t[e][s]=!0,t[i][s]=!0;if(1!==this.xGap)for(s=e;s<=i;s+=1)t[s][a]=!0,t[s][o]=!0},n.prototype.destroy=function(){this.bitmap={}},n}();function uC(n,r,t,e){var i=n.getCanvasBBox(),a=i.width,o=i.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*o+2;break;case 6:s.y+=2*o+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right"}return n.attr(s),n.getCanvasBBox()}var fC=xe.AK;function iv(n){if(n.length>4)return[];var r=function(i,a){return[a.x-i.x,a.y-i.y]};return[r(n[0],n[1]),r(n[1],n[2])]}function uo(n,r,t){void 0===r&&(r=0),void 0===t&&(t={x:0,y:0});var e=n.x,i=n.y;return{x:(e-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-e)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function av(n){var r=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],t=n.rotation;return t?[uo(r[0],t,r[0]),uo(r[1],t,r[0]),uo(r[2],t,r[0]),uo(r[3],t,r[0])]:r}function ov(n,r){if(n.length>4)return{min:0,max:0};var t=[];return n.forEach(function(e){t.push(fC([e.x,e.y],r))}),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}}function vC(n,r){return n.max>r.min&&n.min<r.max}function pC(n){return(0,c.hj)(n)&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0}function sv(n){return Object.values(n).every(pC)}function dC(n,r){if(!sv(n)||!sv(r))return!1;if(!n.rotation&&!r.rotation)return function(n,r,t){return void 0===t&&(t=0),!(r.x>n.x+n.width+t||r.x+r.width<n.x-t||r.y>n.y+n.height+t||r.y+r.height<n.y-t)}(n,r);for(var t=av(n),e=av(r),i=Zt(Zt([],iv(t),!0),iv(e),!0),a=0;a<i.length;a++){var o=i[a];if(!vC(ov(t,o),ov(e,o)))return!1}return!0}var fl,lv={"#5B8FF9":!0};function uv(n,r,t){return n.some(function(e){return t(e,r)})}function hv(n,r){return uv(n,r,function(t,e){var i=$r(t),a=$r(e);return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function cv(n,r,t){return n.some(function(e){return t(e,r)})}function fv(n,r){return cv(n,r,function(t,e){var i=$r(t),a=$r(e);return function(n,r,t){return void 0===t&&(t=0),Math.max(0,Math.min(n.x+n.width+t,r.x+r.width+t)-Math.max(n.x-t,r.x-t))*Math.max(0,Math.min(n.y+n.height+t,r.y+r.height+t)-Math.max(n.y-t,r.y-t))}(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}var ho=(0,c.HP)(function(n,r){void 0===r&&(r={});var t=r.fontSize,e=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant,s=(fl||(fl=document.createElement("canvas").getContext("2d")),fl);return s.font=[a,o,i,"".concat(t,"px"),e].join(" "),s.measureText((0,c.HD)(n)?n:"").width},function(n,r){return void 0===r&&(r={}),Zt([n],(0,c.VO)(r),!0).join("")});function vl(n,r,t,e,i){var u,h,a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight();"y"===i?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):"x"===i?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):"xy"===i&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var f=function(n,r,t){var e,i=r[0],a=r[1];return n.applyToMatrix([i,a,1]),"x"===t?(n.setMatrix(Ae.vs(n.getMatrix(),[["t",-i,-a],["s",.01,1],["t",i,a]])),e=Ae.vs(n.getMatrix(),[["t",-i,-a],["s",100,1],["t",i,a]])):"y"===t?(n.setMatrix(Ae.vs(n.getMatrix(),[["t",-i,-a],["s",1,.01],["t",i,a]])),e=Ae.vs(n.getMatrix(),[["t",-i,-a],["s",1,100],["t",i,a]])):"xy"===t&&(n.setMatrix(Ae.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])),e=Ae.vs(n.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])),e}(n,[u,h],i);n.animate({matrix:f},r)}function vv(n,r){var t,e=$a(n,r),i=e.startAngle,a=e.endAngle;return!(0,c.vQ)(i,.5*-Math.PI)&&i<.5*-Math.PI&&(i+=2*Math.PI),!(0,c.vQ)(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),0===r[5]&&(i=(t=[a,i])[0],a=t[1]),(0,c.vQ)(i,1.5*Math.PI)&&(i=-.5*Math.PI),(0,c.vQ)(a,-.5*Math.PI)&&(a=1.5*Math.PI),{startAngle:i,endAngle:a}}function pv(n){var r;return"M"===n[0]||"L"===n[0]?r=[n[1],n[2]]:("a"===n[0]||"A"===n[0]||"C"===n[0])&&(r=[n[n.length-2],n[n.length-1]]),r}function gv(n){var r,t,e,i=n.filter(function(I){return"A"===I[0]||"a"===I[0]});if(0===i.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=n.indexOf(a),l=n.indexOf(o),u=pv(n[s-1]),h=pv(n[l-1]),f=vv(u,a),v=f.startAngle,g=f.endAngle,d=vv(h,o),x=d.startAngle,A=d.endAngle;(0,c.vQ)(v,x)&&(0,c.vQ)(g,A)?(t=v,e=g):(t=Math.min(v,x),e=Math.max(g,A));var E=a[1],R=i[i.length-1][1];return E<R?(E=(r=[R,E])[0],R=r[1]):E===R&&(R=0),{startAngle:t,endAngle:e,radius:E,innerRadius:R}}function pl(n,r,t){if(n.isGroup())(0,c.S6)(n.getChildren(),function(s){pl(s,r,t)});else{var e=n.getBBox(),i=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(n.applyToMatrix([i,a,1]),"zoomIn"===t){var o=Ae.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);n.setMatrix(o),n.animate({matrix:Ae.vs(n.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},r)}else n.animate({matrix:Ae.vs(n.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},m(m({},r),{callback:function(){n.remove(!0)}}))}}function Yr(n){return[Dt.TOP,Dt.BOTTOM].includes(n)?{offsetX:0,offsetY:n===Dt.TOP?-8:8,style:{textAlign:"center",textBaseline:n===Dt.TOP?"bottom":"top"}}:[Dt.LEFT,Dt.RIGHT].includes(n)?{offsetX:n===Dt.LEFT?-8:8,offsetY:0,style:{textAlign:n===Dt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function gl(n,r,t){return{x:n.x+r*Math.cos(t),y:n.y+r*Math.sin(t)}}var qC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var o=2*Math.PI/t,s=-1*Math.PI/2+o*e,l=.5/(1+1/Math.sin(o/2)),u=gl({x:.5,y:.5},.5-l,s),h=5*Math.PI/4,f=1*Math.PI/4;return{start:gl(u,l,h),end:gl(u,l,f)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,i=this.cfg,o=i.type,s=i.fields[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(f,v){var d=(0,c.hX)(t,e.getFacetDataFilter([{field:s,value:f,values:l}])),x={type:o,data:d,region:e.getRegion(u,v),columnValue:f,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(x)}),h},r.prototype.getXAxisOption=function(t,e,i,a){return i},r.prototype.getYAxisOption=function(t,e,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Yr(Dt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Hn);const JC=qC;var QC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,a=this.cfg.cols,o=this.cfg.fields[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length,u=this.getPageCount(l,a=a||l),h=[];return s.forEach(function(f,v){var g=e.getRowCol(v,a),d=g.row,x=g.col,E=(0,c.hX)(t,e.getFacetDataFilter([{field:o,value:f,values:s}])),R={type:e.cfg.type,data:E,region:e.getRegion(u,a,x,d),columnValue:f,rowValue:f,columnField:o,rowField:null,columnIndex:x,rowIndex:d,columnValuesLength:a,rowValuesLength:u,total:l};h.push(R)}),h},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?m(m({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?m(m({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Yr(Dt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},r}(Hn);const $C=QC;var KC=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:m({},n.prototype.getDefaultTitleCfg.call(this)),rowTitle:m({},n.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,i=e.fields,a=e.type,o=i.length,s=o,l=[],u=0;u<s;u++)for(var h=i[u],f=0;f<o;f++){var v=i[f],g={type:a,data:t,region:this.getRegion(o,s,u,f),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:f,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?m(m({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?m(m({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnIndex,s=e.columnValuesLength,u=e.columnValue,h=e.rowValue,f=e.view;if(0===e.rowIndex){var v=(0,c.U2)(t.cfg.columnTitle,"formatter"),g=(0,c.b$)({position:["50%","0%"],content:v?v(u):u},Yr(Dt.TOP),t.cfg.columnTitle);f.annotation().text(g)}a===s-1&&(v=(0,c.U2)(t.cfg.rowTitle,"formatter"),g=(0,c.b$)({position:["100%","50%"],content:v?v(h):h},Yr(Dt.RIGHT),t.cfg.rowTitle),f.annotation().text(g))})},r}(Hn);const tM=KC;var eM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var h,f,e=this,i=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""];return this.cfg.transpose?(l=this.getFieldValues(t,h=i).slice(0,2),o=l.length):(u=this.getFieldValues(t,f=i).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(d,x){var E=(0,c.hX)(t,e.getFacetDataFilter([{field:h,value:v,values:l},{field:f,value:d,values:u}])),R={type:e.cfg.type,data:E,region:e.getRegion(s,o,g,x),columnValue:v,rowValue:d,columnField:h,rowField:f,columnIndex:g,rowIndex:x,columnValuesLength:o,rowValuesLength:s};a.push(R)})}),a},r.prototype.getXAxisOption=function(t,e,i,a){return 1===a.columnIndex||1===a.rowIndex?m(m({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,c.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,c.b$)({position:["50%","0%"],content:l?l(a):a},Yr(Dt.TOP),t.cfg.title);s.annotation().text(u)}else u=(0,c.b$)({position:["100%","50%"],content:l?l(o):o},Yr(Dt.RIGHT),t.cfg.title),s.annotation().text(u)})},r}(Hn);const rM=eM;var nM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:m({},n.prototype.getDefaultTitleCfg.call(this)),rowTitle:m({},n.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,i=this.cfg.fields,a=i[0],o=i[1],s=[],l=1,u=1,h=[""],f=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(f=this.getFieldValues(t,o),u=f.length),h.forEach(function(v,g){f.forEach(function(d,x){var E=(0,c.hX)(t,e.getFacetDataFilter([{field:a,value:v,values:h},{field:o,value:d,values:f}])),R={type:e.cfg.type,data:E,region:e.getRegion(u,l,g,x),columnValue:v,rowValue:d,columnField:a,rowField:o,columnIndex:g,rowIndex:x,columnValuesLength:l,rowValuesLength:u};s.push(R)})}),s},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e,i){var a=e.columnIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(0===e.rowIndex){var f=(0,c.U2)(t.cfg.columnTitle,"formatter"),v=(0,c.b$)({position:["50%","0%"],content:f?f(l):l},Yr(Dt.TOP),t.cfg.columnTitle);h.annotation().text(v)}a===s-1&&(f=(0,c.U2)(t.cfg.rowTitle,"formatter"),v=(0,c.b$)({position:["100%","50%"],content:f?f(u):u},Yr(Dt.RIGHT),t.cfg.rowTitle),h.annotation().text(v))})},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?m(m({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?m(m({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.columnIndex?m(m({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?m(m({},i),{title:null}):i},r}(Hn);const iM=nM;var aM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return ht(r,n),r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){n.prototype.init.call(this),this.view.on(be.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},n.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:n.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(i){i.region=e.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,e,i,a){var o=1/e,s=1/t,l={x:o*i,y:s*a};return{start:l,end:{x:l.x+o,y:l.y+2*s/3}}},r.prototype.forceColIndex=function(t){var e=this,i=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(i.push(v),v.columnIndex=a,a++)}),i.forEach(function(v){v.columnValuesLength=i.length});for(var s=this.cfg.fields.length-1;s>=0;s--)for(var u=0,h=this.getFacetsByLevel(t,s);u<h.length;u++){var f=h[u];this.isLeaf(f)||(f.originColIndex=f.columnIndex,f.columnIndex=this.getRegionIndex(f.children),f.columnValuesLength=i.length)}},r.prototype.getFacetsByLevel=function(t,e){var i=[];return t.forEach(function(a){a.rowIndex===e&&i.push(a)}),i},r.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,i){var a=this,o=this.cfg.fields;if(!(o.length<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(f,v){var d=t.filter(a.getFacetDataFilter([{field:u,value:f,values:h}]));if(d.length){var x={type:a.cfg.type,data:d,region:null,columnValue:f,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(d,e+1,i)};l.push(x),i.push(x)}}),l}},r.prototype.render=function(){n.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(e){var i=e.columnValue,a=e.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},Yr(Dt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(i){e.isLeaf(i)||e.addFacetLines(i,i.children)})},r.prototype.addFacetLines=function(t,e){var i=this,o=t.view.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},f={x:s.x,y:s.y+(h.y-s.y)/2};i.drawLine([s,f,{x:h.x,y:f.y},h])})},r.prototype.getPath=function(t){var e=[];return this.cfg.line.smooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){e.push(0===o?["M",a.x,a.y]:["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t);this.container.addShape("path",{attrs:(0,c.f0)({path:e},this.cfg.line.style)})},r.prototype.getXAxisOption=function(t,e,i,a){return a.rowIndex!==a.rowValuesLength-1?m(m({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,e,i,a){return 0!==a.originColIndex&&0!==a.columnIndex?m(m({},i),{title:null,label:null}):i},r}(Hn);const oM=aM;function co(n,r){if(!r)return null;var t;switch(n){case"start":return 0;case"center":return.5;case"end":return 1;case"median":t=function(n){var r=Zt([],n,!0);r.sort(function(e,i){return e-i});var t=r.length;return 0===t?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}(r.isCategory?r.values.map(function(e,i){return i}):r.values);break;case"mean":t=r.isCategory?(r.values.length-1)/2:function(n){var r=(0,c.u4)(n,function(t,e){return t+(isNaN(e)||!(0,c.hj)(e)?0:e)},0);return 0===n.length?0:r/n.length}(r.values);break;case"min":t=r.isCategory?0:r[n];break;case"max":t=r.isCategory?r.values.length-1:r[n];break;default:t=n}return r.scale(t)}var fo=["regionFilter","shape"],lM=function(n){function r(t){var e=n.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(le.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(le.BG).addGroup(),e.option=[],e}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;(0,c.S6)(t.option,function(a){if((0,c.q9)(fo,a.type)){var o=t.updateOrCreate(a);o&&i.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(i)});var e=new Map;(0,c.S6)(this.option,function(i){if(!(0,c.q9)(fo,i.type)){var a=t.updateOrCreate(i);a&&e.set(t.getCacheKey(i),a)}}),this.cache=this.syncCache(e)},r.prototype.clear=function(t){void 0===t&&(t=!1),n.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(e){e.animateOption&&e.once(Ke.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(be.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var e=t.type,i=_t[(0,c.jC)(e)];if(i){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a);return{component:new i(o),layer:this.isTop(o)?le.FORE:le.BG,direction:Dt.NONE,type:Ee.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation(m({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation(m({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation(m({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation(m({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation(m({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation(m({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation(m({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation(m({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation(m({type:"shape"},t))},r.prototype.html=function(t){this.annotation(m({type:"html"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),i=this.view.getScalesByDim("y"),a=(0,c.mf)(t)?t.call(null,e,i):t,o=0,s=0;if((0,c.kJ)(a)){var l=a[0],u=a[1];if((0,c.HD)(l)&&-1!==l.indexOf("%")&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=co(l,e),s=co(u,Object.values(i)[0])}else if(!(0,c.UM)(a))for(var h=0,f=(0,c.XP)(a);h<f.length;h++){var v=f[h],g=a[v];v===e.field&&(o=co(g,e)),i[v]&&(s=co(g,i[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var g,i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,c.kJ)(t)?t[0]:t[l],f=(0,c.kJ)(e)?e[0]:e[l],v=[];return(0,c.S6)(u,function(d,x){if(d[l]===h&&(g=x),x>=g){var A=i.parsePosition([d[l],d[s.field]]);A&&v.push(A)}if(d[l]===f)return!1}),v},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,i=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l_x=Math.min(o.x,s.x),l_y=Math.min(o.y,s.y);return{x:a.getWidth()*e+l_x,y:a.getHeight()*i+l_y}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,i=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,i.x),y:Math.min(e.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if((0,c.UM)(e))return null;if("arc"===t){var h=e.start,f=e.end,v=H(e,["start","end"]),g=this.parsePosition(h),d=this.parsePosition(f),x=Gn(o,g),A=Gn(o,d);x>A&&(A=2*Math.PI+A),l=m(m({},v),{center:o.getCenter(),radius:Ya(o,g),startAngle:x,endAngle:A})}else if("image"===t)h=e.start,f=e.end,v=H(e,["start","end"]),l=m(m({},v),{start:this.parsePosition(h),end:this.parsePosition(f),src:e.src});else if("line"===t)h=e.start,f=e.end,v=H(e,["start","end"]),l=m(m({},v),{start:this.parsePosition(h),end:this.parsePosition(f),text:(0,c.U2)(e,"text",null)});else if("region"===t)h=e.start,f=e.end,v=H(e,["start","end"]),l=m(m({},v),{start:this.parsePosition(h),end:this.parsePosition(f)});else if("text"===t){var D=this.view.getData(),nt=e.position,Pt=e.content,Xt=(v=H(e,["position","content"]),Pt);(0,c.mf)(Pt)&&(Xt=Pt(D)),l=m(m(m({},this.parsePosition(nt)),v),{content:Xt})}else if("dataMarker"===t){nt=e.position;var oe=e.point,ge=e.line,ye=e.text,_e=e.autoAdjust,Re=e.direction;v=H(e,["position","point","line","text","autoAdjust","direction"]),l=m(m(m({},v),this.parsePosition(nt)),{coordinateBBox:this.getCoordinateBBox(),point:oe,line:ge,text:ye,autoAdjust:_e,direction:Re})}else if("dataRegion"===t){h=e.start,f=e.end;var Br=e.region,dr=(ye=e.text,e.lineLength);v=H(e,["start","end","region","text","lineLength"]),l=m(m({},v),{points:this.getRegionPoints(h,f),region:Br,text:ye,lineLength:dr})}else if("regionFilter"===t){h=e.start,f=e.end;var Be=e.apply,Jn=e.color,Xi=(v=H(e,["start","end","apply","color"]),[]),Qn=function(an){!an||(an.isGroup()?an.getChildren().forEach(function(Zi){return Qn(Zi)}):Xi.push(an))};(0,c.S6)(this.view.geometries,function(an){Be?(0,c.FX)(Be,an.type)&&(0,c.S6)(an.elements,function(Zi){Qn(Zi.shape)}):(0,c.S6)(an.elements,function(Zi){Qn(Zi.shape)})}),l=m(m({},v),{color:Jn,shapes:Xi,start:this.parsePosition(h),end:this.parsePosition(f)})}else if("shape"===t){var Dr=e.render,zi=H(e,["render"]);l=m(m({},zi),{render:function(XS){if((0,c.mf)(e.render))return Dr(XS,a.view,{parsePosition:a.parsePosition.bind(a)})}})}else if("html"===t){var nn=e.html;nt=e.position,zi=H(e,["html","position"]),l=m(m(m({},zi),this.parsePosition(nt)),{parent:s.get("el").parentNode,html:function(VS){return(0,c.mf)(nn)?nn(VS,a.view):nn}})}var Fr=(0,c.b$)({},i,m(m({},l),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(Fr.container=this.getComponentContainer(Fr)),Fr.animate=this.view.getOptions().animate&&Fr.animate&&(0,c.U2)(e,"animate",Fr.animate),Fr.animateOption=(0,c.b$)({},Zn,Fr.animateOption,e.animateOption),Fr},r.prototype.isTop=function(t){return(0,c.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,c.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var i=t.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);nr(o,["container"]),e.component.update(o),(0,c.q9)(fo,t.type)&&e.component.render()}else(e=this.createAnnotation(t))&&(e.component.init(),(0,c.q9)(fo,t.type)&&e.component.render());return e},r.prototype.syncCache=function(t){var e=this,i=new Map(this.cache);return t.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){(0,c.sE)(e.option,function(s){return o===e.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},r.prototype.getCacheKey=function(t){return t},r}(zn);const uM=lM;function yv(n,r){var t=(0,c.b$)({},(0,c.U2)(n,["components","axis","common"]),(0,c.U2)(n,["components","axis",r]));return(0,c.U2)(t,["grid"],{})}function vo(n,r,t,e){var i=[],a=r.getTicks();return n.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)i.push({points:[n.convert("y"===t?{x:0,y:u}:{x:u,y:0}),n.convert("y"===t?{x:1,y:u}:{x:u,y:1})]});else if(l){var f=(o.value+u)/2;i.push({points:[n.convert("y"===t?{x:0,y:f}:{x:f,y:0}),n.convert("y"===t?{x:1,y:f}:{x:f,y:1})]})}return s},a[0]),i}function dl(n,r,t,e,i){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var f=u.value,v=((l?l.value:u.value)+f)/2;return o.push("x"===i?{points:[n.convert({x:e?f:v,y:0}),n.convert({x:e?f:v,y:1})]}:{points:(0,c.UI)(Array(a+1),function(g,d){return n.convert({x:d/a,y:e?f:v})})}),u},s[0]),o}function mv(n,r){var t=(0,c.U2)(r,"grid");if(null===t)return!1;var e=(0,c.U2)(n,"grid");return!(void 0===t&&null===e)}var tn=["container"],xv=m(m({},Zn),{appear:null}),hM=function(n){function r(t){var e=n.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(le.BG).addGroup(),e.gridForeContainer=e.view.getLayer(le.FORE).addGroup(),e.axisContainer=e.view.getLayer(le.BG).addGroup(),e.axisForeContainer=e.view.getLayer(le.FORE).addGroup(),e}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,c.S6)(this.getComponents(),function(i){var v,a=i.component,o=i.direction,s=i.type,l=i.extra,u=l.dim,h=l.scale,f=l.alignTick;s===Ee.AXIS?e.isPolar?"x"===u?v=e.isTransposed?Ga(e,o):bs(e):"y"===u&&(v=e.isTransposed?bs(e):Ga(e,o)):v=Ga(e,o):s===Ee.GRID&&(v=e.isPolar?{items:e.isTransposed?"x"===u?dl(e,t.view.getYScales()[0],h,f,u):vo(e,h,u,f):"x"===u?vo(e,h,u,f):dl(e,t.view.getXScale(),h,f,u),center:t.view.getCoordinate().getCenter()}:{items:vo(e,h,u,f)}),a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(i,a){t.has(a)?e.set(a,i):i.component.destroy()}),this.cache=e},r.prototype.clear=function(){n.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var i=Ua(this.option,e.field);if(!1!==i){var a=xc(i,Dt.BOTTOM),o=le.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect)(f=this.cache.get(u))?(nr(v=this.getLineAxisCfg(e,i,a),tn),f.component.update(v),t.set(u,f)):(f=this.createLineAxis(e,i,o,a,s),this.cache.set(u,f),t.set(u,f)),(g=this.cache.get(h))?(nr(v=this.getLineGridCfg(e,i,a,s),tn),g.component.update(v),t.set(h,g)):(g=this.createLineGrid(e,i,o,a,s))&&(this.cache.set(h,g),t.set(h,g));else if(l.isPolar){var f,g;if(f=this.cache.get(u))nr(v=l.isTransposed?this.getLineAxisCfg(e,i,Dt.RADIUS):this.getCircleAxisCfg(e,i,a),tn),f.component.update(v),t.set(u,f);else{if(l.isTransposed){if((0,c.o8)(i))return;f=this.createLineAxis(e,i,o,Dt.RADIUS,s)}else f=this.createCircleAxis(e,i,o,a,s);this.cache.set(u,f),t.set(u,f)}if(g=this.cache.get(h)){var v;nr(v=l.isTransposed?this.getCircleGridCfg(e,i,Dt.RADIUS,s):this.getLineGridCfg(e,i,Dt.CIRCLE,s),tn),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,c.o8)(i))return;g=this.createCircleGrid(e,i,o,Dt.RADIUS,s)}else g=this.createLineGrid(e,i,o,Dt.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,i=this.view.getYScales();(0,c.S6)(i,function(a,o){if(a&&!a.isIdentity){var s=a.field,l=Ua(e.option,s);if(!1!==l){var u=le.BG,h="y",f=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var d=xc(l,0===o?Dt.LEFT:Dt.RIGHT);(x=e.cache.get(f))?(nr(A=e.getLineAxisCfg(a,l,d),tn),x.component.update(A),t.set(f,x)):(x=e.createLineAxis(a,l,u,d,h),e.cache.set(f,x),t.set(f,x)),(E=e.cache.get(v))?(nr(A=e.getLineGridCfg(a,l,d,h),tn),E.component.update(A),t.set(v,E)):(E=e.createLineGrid(a,l,u,d,h))&&(e.cache.set(v,E),t.set(v,E))}else if(g.isPolar){var x,E;if(x=e.cache.get(f))nr(A=g.isTransposed?e.getCircleAxisCfg(a,l,Dt.CIRCLE):e.getLineAxisCfg(a,l,Dt.RADIUS),tn),x.component.update(A),t.set(f,x);else{if(g.isTransposed){if((0,c.o8)(l))return;x=e.createCircleAxis(a,l,u,Dt.CIRCLE,h)}else x=e.createLineAxis(a,l,u,Dt.RADIUS,h);e.cache.set(f,x),t.set(f,x)}if(E=e.cache.get(v)){var A;nr(A=g.isTransposed?e.getLineGridCfg(a,l,Dt.CIRCLE,h):e.getCircleGridCfg(a,l,Dt.RADIUS,h),tn),E.component.update(A),t.set(v,E)}else{if(g.isTransposed){if((0,c.o8)(l))return;E=e.createLineGrid(a,l,u,Dt.CIRCLE,h)}else E=e.createCircleGrid(a,l,u,Dt.RADIUS,h);E&&(e.cache.set(v,E),t.set(v,E))}}}}})},r.prototype.createLineAxis=function(t,e,i,a,o){var s={component:new fy(this.getLineAxisCfg(t,e,a)),layer:i,direction:a===Dt.RADIUS?Dt.NONE:a,type:Ee.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,i,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new py(s),layer:i,direction:Dt.NONE,type:Ee.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,i,a,o){var s={component:new vy(this.getCircleAxisCfg(t,e,a)),layer:i,direction:a,type:Ee.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,i,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new gy(s),layer:i,direction:Dt.NONE,type:Ee.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,i){var a=(0,c.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Ga(o,i),l=wc(t,e),u=Ha(this.view.getTheme(),i),h=(0,c.U2)(e,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:mc(this.view.getTheme(),i,e.title)},e):e,f=(0,c.b$)(m(m({container:a},s),{ticks:t.getTicks().map(function(I){return{id:"".concat(I.tickValue),name:I.text,value:I.value}}),verticalFactor:o.isPolar?-1*yc(s,o.getCenter()):yc(s,o.getCenter()),theme:u}),u,h),v=this.getAnimateCfg(f),g=v.animate;f.animateOption=v.animateOption,f.animate=g;var x=dc(s),A=(0,c.U2)(f,"verticalLimitLength",x?1/3:.5);if(A<=1){var E=this.view.getCanvas().get("width"),R=this.view.getCanvas().get("height");f.verticalLimitLength=A*(x?E:R)}return f},r.prototype.getLineGridCfg=function(t,e,i,a){if(mv(Ha(this.view.getTheme(),i),e)){var o=yv(this.view.getTheme(),i),s=(0,c.b$)({container:(0,c.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},o,(0,c.U2)(e,"grid"),this.getAnimateCfg(e));return s.items=vo(this.view.getCoordinate(),t,a,(0,c.U2)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,i){var a=(0,c.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(x){return{id:"".concat(x.tickValue),name:x.text,value:x.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===2*Math.PI&&s.pop();var l=wc(t,e),u=Ha(this.view.getTheme(),Dt.CIRCLE),h=(0,c.U2)(e,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:mc(this.view.getTheme(),i,e.title)},e):e,f=(0,c.b$)(m(m({container:a},bs(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,h),v=this.getAnimateCfg(f),d=v.animateOption;return f.animate=v.animate,f.animateOption=d,f},r.prototype.getCircleGridCfg=function(t,e,i,a){if(mv(Ha(this.view.getTheme(),i),e)){var o=yv(this.view.getTheme(),Dt.RADIUS),s=(0,c.b$)({container:(0,c.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,c.U2)(e,"grid"),this.getAnimateCfg(e)),l=(0,c.U2)(s,"alignTick",!0),u="x"===a?this.view.getYScales()[0]:this.view.getXScale();return s.items=dl(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var i=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(i.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,c.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,c.b$)({},xv,t.animateOption):xv}},r}(zn);const cM=hM;function en(n,r,t){return t===Dt.TOP?[n.minX+n.width/2-r.width/2,n.minY]:t===Dt.BOTTOM?[n.minX+n.width/2-r.width/2,n.maxY-r.height]:t===Dt.LEFT?[n.minX,n.minY+n.height/2-r.height/2]:t===Dt.RIGHT?[n.maxX-r.width,n.minY+n.height/2-r.height/2]:t===Dt.TOP_LEFT||t===Dt.LEFT_TOP?[n.tl.x,n.tl.y]:t===Dt.TOP_RIGHT||t===Dt.RIGHT_TOP?[n.tr.x-r.width,n.tr.y]:t===Dt.BOTTOM_LEFT||t===Dt.LEFT_BOTTOM?[n.bl.x,n.bl.y-r.height]:t===Dt.BOTTOM_RIGHT||t===Dt.RIGHT_BOTTOM?[n.br.x-r.width,n.br.y-r.height]:[0,0]}function Mv(n,r){return(0,c.jn)(n)?!1!==n&&{}:(0,c.U2)(n,[r],n)}function po(n){return(0,c.U2)(n,"position",Dt.BOTTOM)}var gM=function(n){function r(t){var e=n.call(this,t)||this;return e.container=e.view.getLayer(le.FORE).addGroup(),e}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,c.S6)(this.components,function(e){var i=e.component,a=e.direction,o=Hs(a),s=i.get("maxWidthRatio"),l=i.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),h=i.get("maxWidth"),f=i.get("maxHeight");i.update({maxWidth:Math.min(u.maxWidth,h||0),maxHeight:Math.min(u.maxHeight,f||0)});var v=i.get("padding"),g=i.getLayoutBBox(),d=new Qe(g.x,g.y,g.width,g.height).expand(v),x=en(t.view.viewBBox,d,a),A=x[0],E=x[1],R=en(t.layoutBBox,d,a),I=R[0],D=R[1],q=0,nt=0;a.startsWith("top")||a.startsWith("bottom")?(q=A,nt=D):(q=I,nt=E),i.setLocation({x:q+v[3],y:nt+v[0]}),t.layoutBBox=t.layoutBBox.cut(d,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={};if((0,c.U2)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);nr(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=le.FORE,h=po(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Ee.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(function(v,g,d){var x=t.getId(d.field),A=t.getComponentById(x);if(A){var E=void 0,R=Mv(t.option,d.field);!1!==R&&((0,c.U2)(R,"custom")?E=t.getCategoryCfg(v,g,d,R,!0):d.isLinear?E=t.getContinuousCfg(v,g,d,R):d.isCategory&&(E=t.getCategoryCfg(v,g,d,R))),E&&(nr(E,["container"]),A.direction=po(R),A.component.update(E),e[x]=!0)}else{var I=t.createFieldLegend(v,g,d);I&&(I.component.init(),t.components.push(I),e[x]=!0)}});var f=[];(0,c.S6)(this.getComponents(),function(v){e[v.id]?f.push(v):v.component.destroy()}),this.components=f},r.prototype.clear=function(){n.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,i=t.geometries;return(0,c.S6)(t.views,function(a){i=i.concat(e.getGeometries(a))}),i},r.prototype.loopLegends=function(t){if(this.view.getRootView()===this.view){var i=this.getGeometries(this.view),a={};(0,c.S6)(i,function(o){var s=o.getGroupAttributes();(0,c.S6)(s,function(l){var u=l.getScale(l.type);!u||"identity"===u.type||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,i){var a,o=Mv(this.option,i.field),s=le.FORE,l=po(o);if(!1!==o&&((0,c.U2)(o,"custom")?a=this.createCustomLegend(t,e,i,o):i.isLinear?a=this.createContinuousLegend(t,e,i,o):i.isCategory&&(a=this.createCategoryLegend(t,e,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:l,type:Ee.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,e,i,a){var o=this.getCategoryCfg(t,e,i,a,!0);return new lc(o)},r.prototype.createContinuousLegend=function(t,e,i,a){var o=this.getContinuousCfg(t,e,i,nr(a,["value"]));return new dy(o)},r.prototype.createCategoryLegend=function(t,e,i,a){var o=this.getCategoryCfg(t,e,i,a);return new lc(o)},r.prototype.getContinuousCfg=function(t,e,i,a){var o=i.getTicks(),s=(0,c.sE)(o,function(x){return 0===x.value}),l=(0,c.sE)(o,function(x){return 1===x.value}),u=o.map(function(x){var A=x.value,E=x.tickValue,R=e.mapping(i.invert(A)).join("");return{value:E,attrValue:R,color:R,scaleValue:A}});s||u.push({value:i.min,attrValue:e.mapping(i.invert(0)).join(""),color:e.mapping(i.invert(0)).join(""),scaleValue:0}),l||u.push({value:i.max,attrValue:e.mapping(i.invert(1)).join(""),color:e.mapping(i.invert(1)).join(""),scaleValue:1}),u.sort(function(x,A){return x.value-A.value});var h={min:(0,c.YM)(u).value,max:(0,c.Z$)(u).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(h.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(h.colors=u.map(function(x){return x.attrValue}));var f=this.container,g=Hs(po(a)),d=(0,c.U2)(a,"title");return d&&(d=(0,c.b$)({text:Ei(i)},d)),h.container=f,h.layout=g,h.title=d,h.animateOption=Zn,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,i,a,o){var s=this.container,l=(0,c.U2)(a,"position",Dt.BOTTOM),u=of(this.view.getTheme(),l),h=(0,c.U2)(u,["marker"]),f=(0,c.U2)(a,"marker"),v=Hs(l),g=(0,c.U2)(u,["pageNavigator"]),d=(0,c.U2)(a,"pageNavigator"),x=o?function(n,r,t){return t.map(function(e,i){var a=r;(0,c.mf)(a)&&(a=a(e.name,i,(0,c.b$)({},n,e)));var o=(0,c.mf)(e.marker)?e.marker(e.name,i,(0,c.b$)({},n,e)):e.marker,s=(0,c.b$)({},n,a,o);return nf(s),e.marker=s,e})}(h,f,a.items):function(n,r,t,e,i){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=n.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(f,v){var g,A=f.text,E=a.invert(f.value),R=0===n.filterFieldData(o,[(g={},g[o]=E,g)]).length;(0,c.S6)(n.views,function(Pt){var Xt;Pt.filterFieldData(o,[(Xt={},Xt[o]=E,Xt)]).length||(R=!0)});var I=Gs(s,E,u),D=Gs(l,E,"point"),q=r.getShapeMarker(D,{color:I,isInPolar:h}),nt=i;return(0,c.mf)(nt)&&(nt=nt(A,v,m({name:A,value:E},(0,c.b$)({},e,q)))),function(n,r){var t=n.symbol;if((0,c.HD)(t)&&-1!==jm.indexOf(t)){var e=(0,c.U2)(n,"style",{}),i=(0,c.U2)(e,"lineWidth",1);n.style=(0,c.b$)({},n.style,{lineWidth:i,stroke:e.stroke||e.fill||r,fill:null})}}(q=(0,c.b$)({},e,q,nr(m({},nt),["style"])),I),nt&&nt.style&&(q.style=function(n,r){return(0,c.mf)(r)?r(n):(0,c.b$)({},n,r)}(q.style,nt.style)),nf(q),{id:E,name:A,value:E,marker:q,unchecked:R}})}return[]}(this.view,t,e,h,f),A=(0,c.U2)(a,"title");A&&(A=(0,c.b$)({text:i?Ei(i):""},A));var E=(0,c.U2)(a,"maxWidthRatio"),R=(0,c.U2)(a,"maxHeightRatio"),I=this.getCategoryLegendSizeCfg(v,E,R);I.container=s,I.layout=v,I.items=x,I.title=A,I.animateOption=Zn,I.pageNavigator=(0,c.b$)({},g,d);var D=this.mergeLegendCfg(I,a,l);D.reversed&&D.items.reverse();var q=(0,c.U2)(D,"maxItemWidth");return q&&q<=1&&(D.maxItemWidth=this.view.viewBBox.width*q),D},r.prototype.mergeLegendCfg=function(t,e,i){var a=i.split("-")[0],o=of(this.view.getTheme(),a);return(0,c.b$)({},o,t,e)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,c.sE)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,e,i){void 0===e&&(e=.25),void 0===i&&(i=.25);var a=this.view.viewBBox,o=a.width,s=a.height;return"vertical"===t?{maxWidth:o*e,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},r}(zn);const dM=gM;var yM=function(n){function r(t){var e=n.call(this,t)||this;return e.onChangeFn=c.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(i){var a=i[0],o=i[1];e.start=a,e.end=o,e.changeViewData(a,o)},e.container=e.view.getLayer(le.FORE).addGroup(),e.onChangeFn=(0,c.P2)(e.onValueChange,20,{leading:!0}),e.width=0,e.view.on(be.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(be.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.view.off(be.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(be.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,i=t.end;(0,c.UM)(this.start)&&(this.start=e,this.end=i);var a=this.view.getOptions().data;this.option&&!(0,c.xb)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var e=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=i[0],l=i[3],u=this.slider.component.getLayoutBBox(),h=new Qe(u.x,u.y,Math.min(u.width,e),u.height).expand(i),f=this.getMinMaxText(this.start,this.end),v=f.minText,g=f.maxText,A=en(this.view.viewBBox,h,Dt.BOTTOM)[1],R=en(this.view.coordinateBBox,h,Dt.BOTTOM)[0];this.slider.component.update(m(m({},this.getSliderCfg()),{x:R+l,y:A+a,width:this.width,start:this.start,end:this.end,minText:v,maxText:g})),this.view.viewBBox=this.view.viewBBox.cut(h,Dt.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new uy(m({container:this.container},t));return e.init(),{component:e,layer:le.FORE,direction:Dt.BOTTOM,type:Ee.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),i=e.minText,a=e.maxText;t=m(m({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,c.Kn)(this.option)){var e=m({data:this.getData()},(0,c.U2)(this.option,"trendCfg",{}));t=(0,c.b$)({},t,this.getThemeOptions(),this.option),t=m(m({},t),{trendCfg:e})}return t.start=(0,c.uZ)(Math.min((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t.end=(0,c.uZ)(Math.max((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],i=this.view.getGroupScales();if(i.length){var a=i[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,e){var i=this.view.getOptions().data,a=this.view.getXScale(),l=(0,c.I)(i,a.field),u=(0,c.dp)(i);if(!a||!u)return{};var h=(0,c.dp)(l),f=Math.floor(t*(h-1)),v=Math.floor(e*(h-1)),g=(0,c.U2)(l,[f]),d=(0,c.U2)(l,[v]),x=this.getSliderCfg().formatter;return x&&(g=x(g,i[f],f),d=x(d,i[v],v)),{minText:g,maxText:d}},r.prototype.changeViewData=function(t,e){var i=this.view.getOptions().data,a=this.view.getXScale(),o=(0,c.dp)(i);if(a&&o){var u=(0,c.I)(i,a.field),h=(0,c.dp)(u),f=Math.floor(t*(h-1)),v=Math.floor(e*(h-1));this.view.filter(a.field,function(g,d){var x=u.indexOf(g);return!(x>-1)||Yn(x,f,v)}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(zn);const mM=yM;var CM=function(n){function r(t){var e=n.call(this,t)||this;return e.onChangeFn=c.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(i){var a=i.ratio,o=e.getValidScrollbarCfg().animate;e.ratio=(0,c.uZ)(a,0,1);var s=e.view.getOptions().animate;o||e.view.animate(!1),e.changeViewData(e.getScrollRange(),!0),e.view.animate(s)},e.container=e.view.getLayer(le.FORE).addGroup(),e.onChangeFn=(0,c.P2)(e.onValueChange,20,{leading:!0}),e.trackLen=0,e.thumbLen=0,e.ratio=0,e.view.on(be.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(be.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return ht(r,n),Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.view.off(be.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(be.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var e=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Qe(a.x,a.y,Math.min(a.width,e),a.height).expand(i),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var v=en(this.view.viewBBox,o,Dt.BOTTOM)[1];l=en(this.view.coordinateBBox,o,Dt.BOTTOM)[0],u=v}else{l=(v=en(this.view.viewBBox,o,Dt.RIGHT)[1],en(this.view.viewBBox,o,Dt.RIGHT))[0],u=v}l+=i[3],u+=i[0],this.scrollbar.component.update(m(m({},s),this.trackLen?{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}:{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Dt.BOTTOM:Dt.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var e=(0,c.U2)(this.view.getTheme(),["components","scrollbar"]),i=t||{},a=i.thumbHighlightColor,o=H(i,["thumbHighlightColor"]);return{default:(0,c.b$)({},(0,c.U2)(e,["default","style"],{}),o),hover:(0,c.b$)({},(0,c.U2)(e,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),o=i.thumbLen;this.trackLen=i.trackLen,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,c.uZ)(this.ratio,0,1));return[t,Math.min(t+this.step-1,this.cnt-1)]},r.prototype.changeViewData=function(t,e){var i=this,a=t[0],o=t[1],l="vertical"!==this.getValidScrollbarCfg().type,u=(0,c.I)(this.data,this.xScaleCfg.field),h=l?u:u.reverse();this.yScalesCfg.forEach(function(f){i.view.scale(f.field,{formatter:f.formatter,type:f.type,min:f.min,max:f.max,tickMethod:f.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(f){var v=h.indexOf(f);return!(v>-1)||Yn(v,a,o)}),this.view.render(!0)},r.prototype.createScrollbar=function(){var e="vertical"!==this.getValidScrollbarCfg().type,i=new cy(m(m({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:le.FORE,direction:e?Dt.BOTTOM:Dt.RIGHT,type:Ee.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?m(m({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):m({},t);return this.scrollbar.component.update(e),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg();return Math.floor(("vertical"!==e.type?t.width:t.height)/e.categorySize)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),i=(0,c.I)(e,t.field);return(0,c.dp)(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,i=t.viewBBox,a=this.getValidScrollbarCfg(),s=a.padding,l=a.width,u=a.height,h=a.style,f="vertical"!==a.type,v=s[0],g=s[1],d=s[2],x=s[3],A=f?{x:e.minX+x,y:i.maxY-u-d}:{x:i.maxX-l-g,y:e.minY+v},E=this.getStep(),R=this.getCnt(),I=f?e.width-x-g:e.height-v-d,D=Math.max(I*(0,c.uZ)(E/R,0,1),20);return m(m({},this.getThemeOptions()),{x:A.x,y:A.y,size:f?u:l,isHorizontal:f,trackLen:I,thumbLen:D,thumbOffset:0,theme:this.getScrollbarTheme(h)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0],animate:!0,style:{}};return(0,c.Kn)(this.option)&&(t=m(m({},t),this.option)),(!(0,c.Kn)(this.option)||!this.option.padding)&&(t.padding=[0,0,0,0]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(i=Zt([],i,!0).reverse()),i},r}(zn);const MM=CM;var bM={fill:"#CCD6EC",opacity:.3};var AM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.show=function(t){var e=this.context.view,i=this.context.event,a=e.getController("tooltip").getTooltipCfg(),o=function(n,r,t){var e=function(n,r,t){for(var e=Bs(n,r,t),i=0,a=n.views;i<a.length;i++)e=e.concat(Bs(a[i],r,t));return e}(n,r,t);if(e.length){for(var i=0,a=e=(0,c.xH)(e);i<a.length;i++)for(var s=0,l=a[i];s<l.length;s++){var u=l[s],h=u.mappingData,f=h.x,v=h.y;u.x=(0,c.kJ)(f)?f[f.length-1]:f,u.y=(0,c.kJ)(v)?v[v.length-1]:v}if(!1===t.shared&&e.length>1){for(var d=e[0],x=Math.abs(r.y-d[0].y),A=0,E=e;A<E.length;A++){var R=E[A],I=Math.abs(r.y-R[0].y);I<=x&&(d=R,x=I)}e=[d]}return(0,c.jj)((0,c.xH)(e))}return[]}(e,{x:i.x,y:i.y},a);if(!(0,c.Xy)(o,this.items)&&(this.items=o,o.length)){var s=e.getXScale().field,l=o[0].data[s],u=[];if((0,c.S6)(e.geometries,function(ze){if("interval"===ze.type||"schema"===ze.type){var Be=ze.getElementsBy(function(Jn){return Jn.getData()[s]===l});u=u.concat(Be)}}),u.length){var f=e.getCoordinate(),v=u[0].shape.getCanvasBBox(),g=u[0].shape.getCanvasBBox(),d=v;(0,c.S6)(u,function(ze){var Be=ze.shape.getCanvasBBox();f.isTransposed?(Be.minY<v.minY&&(v=Be),Be.maxY>g.maxY&&(g=Be)):(Be.minX<v.minX&&(v=Be),Be.maxX>g.maxX&&(g=Be)),d.x=Math.min(Be.minX,d.minX),d.y=Math.min(Be.minY,d.minY),d.width=Math.max(Be.maxX,d.maxX)-d.x,d.height=Math.max(Be.maxY,d.maxY)-d.y});var x=e.backgroundGroup,A=e.coordinateBBox,E=void 0;if(f.isRect){var R=e.getXScale(),I=t||{},D=I.appendRatio,q=I.appendWidth;(0,c.UM)(q)&&(D=(0,c.UM)(D)?R.isLinear?0:.25:D,q=f.isTransposed?D*g.height:D*v.width);var nt=void 0,Pt=void 0,Xt=void 0,Jt=void 0;f.isTransposed?(nt=A.minX,Pt=Math.min(g.minY,v.minY)-q,Xt=A.width,Jt=d.height+2*q):(nt=Math.min(v.minX,g.minX)-q,Pt=A.minY,Xt=d.width+2*q,Jt=A.height),E=[["M",nt,Pt],["L",nt+Xt,Pt],["L",nt+Xt,Pt+Jt],["L",nt,Pt+Jt],["Z"]]}else{var oe=(0,c.YM)(u),ge=(0,c.Z$)(u),ye=Ai(oe.getModel(),f).startAngle,_e=Ai(ge.getModel(),f).endAngle,Re=f.getCenter(),Ve=f.getRadius();E=Wr(Re.x,Re.y,Ve,ye,_e,f.innerRadius*Ve)}if(this.regionPath)this.regionPath.attr("path",E),this.regionPath.show();else{var dr=(0,c.U2)(t,"style",bM);this.regionPath=x.addShape({type:"path",name:"active-region",capture:!1,attrs:m(m({},dr),{path:E})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),n.prototype.destroy.call(this)},r}(je);const TM=AM;var EM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.timeStamp=0,t}return ht(r,n),r.prototype.show=function(){var t=this.context,e=t.event,i=t.view;if(!i.isTooltipLocked()){var o=this.timeStamp,s=+new Date;if(s-o>(0,c.U2)(t.view.getOptions(),"tooltip.showDelay",16)){var u=this.location,h={x:e.x,y:e.y};(!u||!(0,c.Xy)(u,h))&&this.showTooltip(i,h),this.timeStamp=s,this.location=h}}},r.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),i=this.context.event;e.isCursorEntered({x:i.clientX,y:i.clientY})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(je);const Sv=EM;var _M=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.showTooltip=function(t,e){var i=Lr(t);(0,c.S6)(i,function(a){var o=_s(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Lr(t);(0,c.S6)(e,function(i){i.hideTooltip()})},r}(Sv);const LM=_M;var PM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.timeStamp=0,t}return ht(r,n),r.prototype.destroy=function(){n.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var e=this.context.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,c.Xy)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var a=this.context.event.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update(m({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=this.context.view,i=e.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=e.getTheme(),s=(0,c.U2)(o,["components","tooltip","domStyles"],{}),l=new uc({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:m({},(0,c.b$)({},s,(t={},t[Fn]={"max-width":"50%"},t[kn]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},r}(je);const OM=PM;var BM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="",t}return ht(r,n),r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){this.clearViewState(this.context.view)},r.prototype.clearViewState=function(t){var e=this,i=_c(t,this.stateName);(0,c.S6)(i,function(a){e.setElementState(a,!1)})},r}(je);const yl=BM;function Av(n){return(0,c.U2)(n.get("delegateObject"),"item")}var IM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return ht(r,n),r.prototype.isItemIgnore=function(t,e){return!!this.ignoreListItemStates.filter(function(o){return e.hasState(t,o)}).length},r.prototype.setStateByComponent=function(t,e,i){var a=this.context.view,o=t.get("field"),s=qe(a);this.setElementsStateByItem(s,o,e,i)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,i){var o=Xn(this.context.view,e),s=wr(t,e);return!(0,c.UM)(s)&&i.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,i,a){var o=this;(0,c.S6)(t,function(s){o.isMathItem(s,e,i)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=qr(this.context);if(e)Ac(this.context)&&this.setStateByElement(e,t);else{var i=Nn(this.context);if(Li(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Av(s.fromShape)===Av(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=qr(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(yl);const ml=IM;var DM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.active=function(){this.setState()},r}(ml);const FM=DM;var kM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.cache={},t}return ht(r,n),r.prototype.getColorScale=function(t,e){var i=e.geometry.getAttribute("color");return i?t.getScaleByField(i.getFields()[0]):null},r.prototype.getLinkPath=function(t,e){var a=this.context.view.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=e.shape.getCanvasBBox();return a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]]},r.prototype.addLinkShape=function(t,e,i,a){var o={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:m(m({},(0,c.b$)({},o,(0,c.mf)(a)?a(o,e):a)),{path:this.getLinkPath(e,i)})})},r.prototype.linkByElement=function(t,e){var i=this,a=this.context.view,o=this.getColorScale(a,t);if(o){var s=wr(t,o.field);if(!this.cache[s]){var l=function(n,r,t){return qe(n).filter(function(i){return wr(i,r)===t})}(a,o.field,s),h=this.linkGroup.addGroup();this.cache[s]=h;var f=l.length;(0,c.S6)(l,function(v,g){g<f-1&&i.addLinkShape(h,v,l[g+1],e)})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var i=wr(t,e.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=qr(e);i&&this.linkByElement(i,null==t?void 0:t.style)},r.prototype.unlink=function(){var t=qr(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){n.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(je);const RM=kM;var YM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return ht(r,n),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Pi(this.context))t=As(this.context,10);else{var e=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!i)return;var a={minX:Math.min(e.x,i.x),minY:Math.min(e.y,i.y),maxX:Math.max(e.x,i.x),maxY:Math.max(e.y,i.y)};t=Ts(this.context.view,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=qe(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var i=this,a=this.context.view,o=Lr(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,c.S6)(o,function(h){var f=qe(h),v=f.filter(function(g){var d=g.getModel().data;return Bc(s,d,l,u)});i.setElementsState(v,e,f)})},r.prototype.setSiblingsState=function(t){var e=this,a=Lr(this.context.view);Pi(this.context)&&(0,c.S6)(a,function(o){var s=qe(o),l=Ec(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,i){var a=this;(0,c.S6)(i,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var i=Lr(e);(0,c.S6)(i,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(yl);const xl=YM;var GM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.active=function(){this.setState()},r}(xl);const HM=GM;var UM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.setStateEnable=function(t){var e=qr(this.context);if(e){if(!Ac(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=qr(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(yl);const wl=UM;var NM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.active=function(){this.setState()},r}(wl);const XM=NM;var Hi="inactive",Ui="active";function Cl(n){var r=qe(n);(0,c.S6)(r,function(t){t.hasState(Ui)&&t.setState(Ui,!1),t.hasState(Hi)&&t.setState(Hi,!1)})}function Tv(n,r,t){(0,c.S6)(n,function(e){r(e)?(e.hasState(Hi)&&e.setState(Hi,!1),e.setState(Ui,t)):(e.hasState(Ui)&&e.setState(Ui,!1),e.setState(Hi,t))})}var Mn=yr.INACTIVE,Gr=yr.ACTIVE,VM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=Gr,t}return ht(r,n),r.prototype.setElementsStateByItem=function(t,e,i,a){var o=this;this.setHighlightBy(t,function(l){return o.isMathItem(l,e,i)},a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Mn)&&t.setState(Mn,!1),t.setState(Gr,!0)):t.hasState(Gr)||t.setState(Mn,!0)},r.prototype.setHighlightBy=function(t,e,i){var a=this;if(i)(0,c.S6)(t,function(l){a.setElementHighlight(l,e)});else{var o=_c(this.context.view,Gr),s=!0;(0,c.S6)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,c.S6)(t,function(l){e(l)&&(l.hasState(Gr)&&l.setState(Gr,!1),l.setState(Mn,!0))})}},r.prototype.setElementState=function(t,e){var a=qe(this.context.view);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){Cl(this.context.view)},r}(ml);const Ml=VM;var zM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.setStateByElement=function(t,e){var i=this.context.view,a=t.geometry.getAttribute("color");if(a){var o=i.getScaleByField(a.getFields()[0]),s=wr(t,o.field),l=qe(i),u=l.filter(function(h){return wr(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Ml);const ZM=zM;var WM=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Mn)&&t.setState(Mn,!1),t.setState(Gr,!0)):(t.setState(Mn,!0),t.hasState(Gr)&&t.setState(Gr,!1))},r.prototype.setStateByElement=function(t,e){var i=this.context.view,a=i.getXScale(),o=wr(t,a.field),s=qe(i),l=s.filter(function(u){return wr(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=qr(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Ml);const jM=WM;var br=(()=>(function(n){n.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",n.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",n.BEFORE_CLEAR="element-range-highlight:beforeclear",n.AFTER_CLEAR="element-range-highlight:afterclear"}(br||(br={})),br))(),qM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.clearViewState=function(t){Cl(t)},r.prototype.highlight=function(){var t=this.context,e=t.view,o={view:e,event:t.event,highlightElements:this.getIntersectElements()};e.emit(br.BEFORE_HIGHLIGHT,$e.fromData(e,br.BEFORE_HIGHLIGHT,o)),this.setState(),e.emit(br.AFTER_HIGHLIGHT,$e.fromData(e,br.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(br.BEFORE_CLEAR,$e.fromData(t,br.BEFORE_CLEAR,{})),n.prototype.clear.call(this),t.emit(br.AFTER_CLEAR,$e.fromData(t,br.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,e,i){Tv(i,function(a){return t.indexOf(a)>=0},e)},r}(xl);const Ev=qM;var JM=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){Tv(qe(this.context.view),function(o){return t===o},e)},r.prototype.clear=function(){Cl(this.context.view)},r}(wl);const QM=JM;var $M=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return ht(r,n),r.prototype.selected=function(){this.setState()},r}(xl);const KM=$M;var tb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return ht(r,n),r.prototype.selected=function(){this.setState()},r}(ml);const eb=tb;var rb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return ht(r,n),r.prototype.selected=function(){this.setState()},r}(wl);const nb=rb;var ib=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return ht(r,n),r.prototype.getTriggerListInfo=function(){var t=Nn(this.context),e=null;return Li(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,i=Pc(this.context.view),a=[];return(0,c.S6)(i,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,c.S6)(e,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(-1===this.cfg.componentNames.indexOf(i))return!1}var o=Xn(this.context.view,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var i=this.ignoreItemStates;return!i.length||0===i.filter(function(o){return e.hasState(t,o)}).length},r.prototype.setStateByElement=function(t,e,i){var a=t.get("field"),s=Xn(this.context.view,a),l=wr(e,a),u=s.getText(l);this.setItemsState(t,u,i)},r.prototype.setStateEnable=function(t){var e=this,i=qr(this.context);if(i){var a=this.getAllowComponents();(0,c.S6)(a,function(u){e.setStateByElement(u,i,t)})}else{var o=Nn(this.context);if(Li(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,i){var a=this,o=t.getItems();(0,c.S6)(o,function(s){s.name===e&&a.setItemState(t,s,i)})},r.prototype.setItemState=function(t,e,i){t.setItemState(e,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,i=t.item,a=this.hasState(e,i);this.setItemState(e,i,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(je);const bn=ib;var ab=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="active",t}return ht(r,n),r.prototype.active=function(){this.setState()},r}(bn);const ob=ab;var _v="inactive",Ni="inactive",Sn="active",lb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=Sn,t.ignoreItemStates=["unchecked"],t}return ht(r,n),r.prototype.setItemsState=function(t,e,i){this.setHighlightBy(t,function(a){return a.name===e},i)},r.prototype.setItemState=function(t,e,i){t.getItems(),this.setHighlightBy(t,function(o){return o===e},i)},r.prototype.setHighlightBy=function(t,e,i){var a=t.getItems();if(i)(0,c.S6)(a,function(l){e(l)?(t.hasState(l,Ni)&&t.setItemState(l,Ni,!1),t.setItemState(l,Sn,!0)):t.hasState(l,Sn)||t.setItemState(l,Ni,!0)});else{var o=t.getItemsByState(Sn),s=!0;(0,c.S6)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,c.S6)(a,function(l){e(l)&&(t.hasState(l,Sn)&&t.setItemState(l,Sn,!1),t.setItemState(l,Ni,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)!function(n){var r=n.getItems();(0,c.S6)(r,function(t){n.hasState(t,"active")&&n.setItemState(t,"active",!1),n.hasState(t,_v)&&n.setItemState(t,_v,!1)})}(t.list);else{var e=this.getAllowComponents();(0,c.S6)(e,function(i){i.clearItemsState(Sn),i.clearItemsState(Ni)})}},r}(bn);const bl=lb;var ub=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="selected",t}return ht(r,n),r.prototype.selected=function(){this.setState()},r}(bn);const hb=ub;var cb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName="unchecked",t}return ht(r,n),r.prototype.unchecked=function(){this.setState()},r}(bn);const fb=cb;var qn="unchecked",yo="checked",vb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.stateName=yo,t}return ht(r,n),r.prototype.setItemState=function(t,e,i){this.setCheckedBy(t,function(a){return a===e},i)},r.prototype.setCheckedBy=function(t,e,i){var a=t.getItems();i&&(0,c.S6)(a,function(o){e(o)?(t.hasState(o,qn)&&t.setItemState(o,qn,!1),t.setItemState(o,yo,!0)):t.hasState(o,yo)||t.setItemState(o,qn,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,i=t.item;!(0,c.G)(e.getItems(),function(o){return e.hasState(o,qn)})||e.hasState(i,qn)?this.setItemState(e,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,c.S6)(t,function(e){e.clearItemsState(yo),e.clearItemsState(qn)})},r}(bn);const pb=vb;var Sl="unchecked",gb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(null==t?void 0:t.item)for(var e=t.list,i=t.item,a=e.getItems(),o=a.filter(function(f){return!e.hasState(f,Sl)}),s=0,l=a;s<l.length;s++){var u=l[s];e.setItemState(u,Sl,u!==i&&o.length>1)}},r}(bn);const db=gb;var Pv="showRadio",yb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.show=function(){var t=this.getTriggerListInfo();(null==t?void 0:t.item)&&t.list.setItemState(t.item,Pv,!0)},r.prototype.hide=function(){var t=this.getTriggerListInfo();(null==t?void 0:t.item)&&t.list.setItemState(t.item,Pv,!1)},r}(bn);const mb=yb;var xb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return ht(r,n),r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:".concat(t),a=this.context.event;this.context.view.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:m({fill:"#C5D4EB",opacity:.3},e)})},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null==t?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,i=t.x-e.x,a=t.y-e.y;(0,c.S6)(this.points,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var e=(0,c.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,n.prototype.destroy.call(this)},r}(je);const Al=xb;var wb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.shapeType="circle",t}return ht(r,n),r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,c.Z$)(this.points),i=0,a=0,o=0;if(t.length){var s=t[0];i=Es(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:i}},r}(Al);const Cb=wb;var Mb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.shapeType="rect",t}return ht(r,n),r.prototype.getRegion=function(){var t=this.points;return{start:(0,c.YM)(t),end:(0,c.Z$)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,i=t.end;return{x:Math.min(e.x,i.x),y:Math.min(e.y,i.y),width:Math.abs(i.x-e.x),height:Math.abs(i.y-e.y)}},r}(Al);const Ov=Mb;function Bv(n){n.x=(0,c.uZ)(n.x,0,1),n.y=(0,c.uZ)(n.y,0,1)}var bb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return ht(r,n),r.prototype.getRegion=function(){var t=null,e=null,i=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,c.YM)(i)),l=o.invert((0,c.Z$)(i));return this.inPlot&&(Bv(s),Bv(l)),"x"===a?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Ov);const Iv=bb;var Sb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,c.S6)(t,function(i,a){e.push(0===a?["M",i.x,i.y]:["L",i.x,i.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Al);const Dv=Sb;var Ab=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.getMaskPath=function(){return function(n,r){if(n.length<=2)return _i(n,!1);var t=n[0],e=[];(0,c.S6)(n,function(a){e.push(a.x),e.push(a.y)});var i=bc(e,!0,null);return i.unshift(["M",t.x,t.y]),i}(this.points)},r}(Dv);const Tb=Ab;var Eb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(je);const _b=Eb;var Lb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.filterView=function(t,e,i){var a=this;t.getScaleByField(e)&&t.filter(e,i),t.views&&t.views.length&&(0,c.S6)(t.views,function(o){a.filterView(o,e,i)})},r.prototype.filter=function(){var t=Nn(this.context);if(t){var e=this.context.view,i=t.component,a=i.get("field");if(Li(t)){if(a){var o=i.getItemsByState("unchecked"),s=Xn(e,a),l=o.map(function(v){return v.name});this.filterView(e,a,l.length?function(v){var g=s.getText(v);return!l.includes(g)}:null),e.render(!0)}}else if(Tc(t)){var u=i.getValue(),h=u[0],f=u[1];this.filterView(e,a,function(v){return v>=h&&v<=f}),e.render(!0)}}},r}(je);const Pb=Lb;function Fv(n,r,t,e){var i=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=n.range,s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var u=n.invert(i),h=n.invert(a);if(n.isCategory){var f=n.values.indexOf(u),v=n.values.indexOf(h),g=n.values.slice(f,v+1);return function(d){return g.includes(d)}}return function(d){return d>=u&&d<=h}}var hr=(()=>(function(n){n.FILTER="brush-filter-processing",n.RESET="brush-filter-reset",n.BEFORE_FILTER="brush-filter:beforefilter",n.AFTER_FILTER="brush-filter:afterfilter",n.BEFORE_RESET="brush-filter:beforereset",n.AFTER_RESET="brush-filter:afterreset"}(hr||(hr={})),hr))(),Ob=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return ht(r,n),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Pi(this.context)){var a=this.context.event.target.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context,s=o.view,u={view:s,event:o.event,dims:this.dims};s.emit(hr.BEFORE_FILTER,$e.fromData(s,hr.BEFORE_FILTER,u));var h=s.getCoordinate(),f=h.invert(e),v=h.invert(t);if(this.hasDim("x")){var g=s.getXScale(),d=Fv(g,"x",f,v);this.filterView(s,g.field,d)}if(this.hasDim("y")){var x=s.getYScales()[0];d=Fv(x,"y",f,v),this.filterView(s,x.field,d)}this.reRender(s,{source:hr.FILTER}),s.emit(hr.AFTER_FILTER,$e.fromData(s,hr.AFTER_FILTER,u))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(hr.BEFORE_RESET,$e.fromData(t,hr.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:hr.RESET}),t.emit(hr.AFTER_RESET,$e.fromData(t,hr.AFTER_RESET,{}))},r.prototype.filterView=function(t,e,i){t.filter(e,i)},r.prototype.reRender=function(t,e){t.render(!0,e)},r}(je);const mo=Ob;var Bb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.filterView=function(t,e,i){var a=Lr(t);(0,c.S6)(a,function(o){o.filter(e,i)})},r.prototype.reRender=function(t){var e=Lr(t);(0,c.S6)(e,function(i){i.render(!0)})},r}(mo);const Tl=Bb;var Ib=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.filter=function(){var t=Nn(this.context),e=this.context.view,i=qe(e);if(Pi(this.context)){var a=As(this.context,10);a&&(0,c.S6)(i,function(d){a.includes(d)?d.show():d.hide()})}else if(t){var o=t.component,s=o.get("field");if(Li(t)){if(s){var l=o.getItemsByState("unchecked"),u=Xn(e,s),h=l.map(function(d){return d.name});(0,c.S6)(i,function(d){var x=wr(d,s),A=u.getText(x);h.indexOf(A)>=0?d.hide():d.show()})}}else if(Tc(t)){var f=o.getValue(),v=f[0],g=f[1];(0,c.S6)(i,function(d){var x=wr(d,s);x>=v&&x<=g?d.show():d.hide()})}}},r.prototype.clear=function(){var t=qe(this.context.view);(0,c.S6)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(je);const Db=Ib;var Fb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.byRecord=!1,t}return ht(r,n),r.prototype.filter=function(){Pi(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=As(this.context,10);if(e){var i=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Lr(t);(0,c.S6)(s,function(l){var u=qe(l);(0,c.S6)(u,function(h){var f=h.getModel().data;Bc(o,f,i,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,i=Lr(this.context.view);(0,c.S6)(i,function(a){var o=Ec(t.context,a,10),s=qe(a);o&&(0,c.S6)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Lr(this.context.view);(0,c.S6)(t,function(e){var i=qe(e);(0,c.S6)(i,function(a){a.show()})})},r}(je);const kv=Fb;var Yb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return ht(r,n),r.prototype.getButtonCfg=function(){return(0,c.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),a=e.addShape({type:"text",name:"button-text",attrs:m({text:t.text},t.textStyle)}).getBBox(),o=Is(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:m({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var i=this.context.view.getCoordinate().convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Ae.vs(null,[["t",i.x-o.width-10,i.y+o.height+5]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),n.prototype.destroy.call(this)},r}(je);const Gb=Yb;var Ub=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return ht(r,n),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,i=this.context.event;this.dragStart?e.emit("drag",{target:i.target,x:i.x,y:i.y}):Es(t,this.startPoint)>4&&(e.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var e=this.context.event;this.context.view.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(je);const Nb=Ub;var Vb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return ht(r,n),r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint();if(Es(t,e)>5&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Ae.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(je);const zb=Vb;var Zb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return ht(r,n),r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);e.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},r}(je);const Gv=Zb;var Wb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return ht(r,n),r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0,(0,c.S6)(this.dims,function(i){var a=t.getScale(i);t.startCache[i]={min:a.min,max:a.max,values:a.values}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(e),s=i.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view;(0,c.S6)(this.dims,function(v){t.translateDim(v,{x:-1*l,y:-1*u})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,e)}},r.prototype.translateLinear=function(t,e,i){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,h=i[t]*(l-s);this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){n.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Gv);const jb=Wb;var qb=function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.zoomRatio=.05,t}return ht(r,n),r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this;(0,c.S6)(this.dims,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,e)}},r.prototype.zoomLinear=function(t,e,i){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=i*s,f=l-h,v=u+h,d=(v-f)/s;v>f&&d<100&&d>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(Gv);const Jb=qb;var Kb=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return ht(r,n),r.prototype.scroll=function(t){var e=this.context,i=e.view,a=e.event;if(i.getOptions().scrollbar){var o=(null==t?void 0:t.wheelDelta)||1,s=i.getController("scrollbar"),l=i.getXScale(),u=i.getOptions().data,h=(0,c.dp)((0,c.I)(u,l.field)),f=(0,c.dp)(l.values),v=s.getValue(),d=Math.floor((h-f)*v)+(function(n){return n.gEvent.originalEvent.deltaY>0}(a)?o:-o),A=(0,c.uZ)(d/(h-f)+o/(h-f)/1e4,0,1);s.setValue(A)}},r}(je);const tS=Kb;function rn(n){return n.isInPlot()}function Hv(n){return n.gEvent.preventDefault(),n.gEvent.originalEvent.deltaY>0}var r;r=kc(ix),Ls[(0,c.vl)("dark")]=Va(r),An("canvas",zt),An("svg",Wt),Pr("Polygon",Tw),Pr("Interval",mw),Pr("Schema",_w),Pr("Path",il),Pr("Point",bw),Pr("Line",ww),Pr("Area",lw),Pr("Edge",hw),Pr("Heatmap",fw),Pr("Violin",Ow),Wa("base",Ys),Wa("interval",jw),Wa("pie",Qw),Wa("polar",$f),ir("overlap",function(n,r,t,e){var i=new nv;(0,c.S6)(r,function(a){for(var o=a.find(function(g){return"text"===g.get("type")}),s=o.attr(),l=s.x,u=s.y,h=!1,f=0;f<=8;f++){var v=uC(o,l,u,f);if(i.hasGap(v)){i.fillGap(v),h=!0;break}}h||a.remove(!0)}),i.destroy()}),ir("distribute",function(n,r,t,e){if(n.length&&r.length){var i=n[0]?n[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var h=2*(o+i)+28,f={start:a.start,end:a.end},v=[[],[]];n.forEach(function(g){!g||("right"===g.textAlign?v[0].push(g):v[1].push(g))}),v.forEach(function(g,d){var x=h/14;g.length>x&&(g.sort(function(A,E){return E["..percent"]-A["..percent"]}),g.splice(x,g.length-x)),g.sort(function(A,E){return A.y-E.y}),function(n,r,t,e,i,a){var f,o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),v=0,g=Number.MIN_VALUE,d=r.map(function(q){return q.y>v&&(v=q.y),q.y<g&&(g=q.y),{size:14,targets:[q.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(d.forEach(function(q){var nt=(Math.min.apply(g,q.targets)+Math.max.apply(g,q.targets))/2;q.pos=Math.min(Math.max(g,nt-q.size/2),h-q.size)}),o=!1,f=d.length;f--;)if(f>0){var x=d[f-1],A=d[f];x.pos+x.size>A.pos&&(x.size+=A.size,x.targets=x.targets.concat(A.targets),x.pos+x.size>h&&(x.pos=h-x.size),d.splice(f,1),o=!0)}f=0,d.forEach(function(q){var nt=u+7;q.targets.forEach(function(){r[f].y=q.pos+nt,nt+=14,f++})});for(var E={},R=0,I=n;R<I.length;R++){var D=I[R];E[D.get("id")]=D}r.forEach(function(q){var nt=q.r*q.r,Pt=Math.pow(Math.abs(q.y-i.y),2);if(nt<Pt)q.x=i.x;else{var Xt=Math.sqrt(nt-Pt);q.x=a?i.x+Xt:i.x-Xt}var Jt=E[q.id];Jt.attr("x",q.x),Jt.attr("y",q.y);var oe=(0,c.sE)(Jt.getChildren(),function(ge){return"text"===ge.get("type")});oe&&(oe.attr("y",q.y),oe.attr("x",q.x))})}(r,g,0,f,s,d)})}(0,c.S6)(n,function(g){if(g&&g.labelLine){var d=g.offset,x=g.angle,A=Ye(s.x,s.y,o,x),E=Ye(s.x,s.y,o+d/2,x),R=g.x+(0,c.U2)(g,"offsetX",0),I=g.y+(0,c.U2)(g,"offsetY",0),D={x:R-4*Math.cos(x),y:I-4*Math.sin(x)};(0,c.Kn)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M ".concat(A.x),"".concat(A.y," Q").concat(E.x),"".concat(E.y," ").concat(D.x),D.y].join(",")}})}}),ir("fixed-overlap",function(n,r,t,e){var i=new nv;(0,c.S6)(r,function(a){(function(n,r,t){void 0===t&&(t=100);var u,R,i=n.attr(),a=i.x,o=i.y,s=n.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),h=1,f=0,v=0;if(r.hasGap(s))return r.fillGap(s),!0;for(var d=!1,x=0,A={};Math.min(Math.abs(f),Math.abs(v))<l&&x<t;)if(void 0,v=~~(u=[(R=.1*(h+=-1))*Math.cos(R),R*Math.sin(R)])[1],((f=~~u[0])||v)&&!A["".concat(f,"-").concat(v)]&&(n.attr({x:a+f,y:o+v}),f+v<0&&n.attr("textAlign","right"),x++,r.hasGap(n.getCanvasBBox()))){r.fillGap(n.getCanvasBBox()),d=!0,A["".concat(f,"-").concat(v)]=!0;break}return d})(a.find(function(s){return"text"===s.get("type")}),i)||a.remove(!0)}),i.destroy()}),ir("hide-overlap",function(n,r,t,e){for(var i=0;i<r.length;i++){var a=r[i];if(r[i].get("visible"))for(var o=i+1;o<r.length;o++){var s=r[o];a&&s&&a!==s&&s.get("visible")&&dC(Rs(a,n[i],(0,c.U2)(n[i],"background.padding")),Rs(s,n[o],(0,c.U2)(n[o],"background.padding")))&&r[o].set("visible",!1)}}}),ir("limit-in-shape",function(n,r,t,e){(0,c.S6)(r,function(i,a){var o=i.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}),ir("limit-in-canvas",function(n,r,t,e){(0,c.S6)(r,function(i){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=i.getCanvasBBox(),h=u.minX,f=u.minY,v=u.maxX,g=u.maxY,d=u.x,x=u.y,R=d,I=x;(h<a||v<a)&&(R=a),(f<o||g<o)&&(I=o),h>s?R=s-u.width:v>s&&(R-=v-s),f>l?I=l-u.height:g>l&&(I-=g-l),(R!==d||I!==x)&&Di(i,R-d,I-x)})}),ir("limit-in-plot",function(n,r,t,e,i){if(!(r.length<=0)){var a=(null==i?void 0:i.direction)||["top","right","bottom","left"],o=(null==i?void 0:i.action)||"translate",s=(null==i?void 0:i.margin)||0,l=r[0].get("coordinate");if(l){var u=function(n,r){void 0===r&&(r=0);var t=n.start,e=n.end,i=n.getWidth(),a=n.getHeight(),o=Math.min(t.x,e.x),s=Math.min(t.y,e.y);return Qe.fromRange(o-r,s-r,o+i+r,s+a+r)}(l,s),h=u.minX,f=u.minY,v=u.maxX,g=u.maxY;(0,c.S6)(r,function(d){var x=d.getCanvasBBox(),A=x.minX,E=x.minY,R=x.maxX,I=x.maxY,D=x.x,q=x.y,nt=x.width,Pt=x.height,Xt=D,Jt=q;if(a.indexOf("left")>=0&&(A<h||R<h)&&(Xt=h),a.indexOf("top")>=0&&(E<f||I<f)&&(Jt=f),a.indexOf("right")>=0&&(A>v?Xt=v-nt:R>v&&(Xt-=R-v)),a.indexOf("bottom")>=0&&(E>g?Jt=g-Pt:I>g&&(Jt-=I-g)),Xt!==D||Jt!==q){var oe=Xt-D;"translate"===o?Di(d,oe,Jt-q):"ellipsis"===o?d.findAll(function(ye){return"text"===ye.get("type")}).forEach(function(ye){var _e=(0,c.ei)(ye.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Re=ye.getCanvasBBox(),Ve=function(n,r,t){var a,i=ho("...",t);a=(0,c.HD)(n)?n:(0,c.BB)(n);var l,u,o=r,s=[];if(ho(n,t)<=r)return n;for(;l=a.substr(0,16),!((u=ho(l,t))+i>o&&u>o);)if(s.push(l),o-=u,!(a=a.substr(16)))return s.join("");for(;l=a.substr(0,1),!((u=ho(l,t))+i>o);)if(s.push(l),o-=u,!(a=a.substr(1)))return s.join("");return"".concat(s.join(""),"...")}(ye.attr("text"),Re.width-Math.abs(oe),_e);ye.attr("text",Ve)}):d.hide()}})}}}),ir("pie-outer",function(n,r,t,e){var i=(0,c.hX)(n,function(nt){return!(0,c.UM)(nt)}),a=r[0]&&r[0].get("coordinate");if(a){for(var o=a.getCenter(),s=a.getRadius(),l={},u=0,h=r;u<h.length;u++){var f=h[u];l[f.get("id")]=f}var v=(0,c.U2)(i[0],"labelHeight",14),g=(0,c.U2)(i[0],"offset",0);if(!(g<=0)){var x="right",A=(0,c.vM)(i,function(nt){return nt.x<o.x?"left":x}),E=a.start,R=a.end,I=Math.min(2*(s+g+v),a.getHeight()),D=I/2,q={minX:E.x,maxX:R.x,minY:o.y-D,maxY:o.y+D};(0,c.S6)(A,function(nt,Pt){var Xt=Math.floor(I/v);nt.length>Xt&&(nt.sort(function(Jt,oe){return oe.percent-Jt.percent}),(0,c.S6)(nt,function(Jt,oe){oe+1>Xt&&(l[Jt.id].set("visible",!1),Jt.invisible=!0)})),tv(nt,v,q)}),(0,c.S6)(A,function(nt,Pt){(0,c.S6)(nt,function(Xt){var Jt=Pt===x,ge=l[Xt.id].getChildByIndex(0);if(ge){var ye=s+g,_e=Xt.y-o.y,Re=Math.pow(ye,2),Ve=Math.pow(_e,2),dr=Math.sqrt(Re-Ve>0?Re-Ve:0),ze=Math.abs(Math.cos(Xt.angle)*ye);Xt.x=Jt?o.x+Math.max(dr,ze):o.x-Math.max(dr,ze)}ge&&(ge.attr("y",Xt.y),ge.attr("x",Xt.x)),function(n,r){var t=r.getCenter(),e=r.getRadius();if(n&&n.labelLine){var i=n.angle,a=n.offset,o=Ye(t.x,t.y,e,i),s=n.x+(0,c.U2)(n,"offsetX",0)*(Math.cos(i)>0?1:-1),l=n.y+(0,c.U2)(n,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:s-4*Math.cos(i),y:l-4*Math.sin(i)},h=n.labelLine.smooth,f=[],v=u.x-t.x,d=Math.atan((u.y-t.y)/v);if(v<0&&(d+=Math.PI),!1===h){(0,c.Kn)(n.labelLine)||(n.labelLine={});var x=0;(i<0&&i>-Math.PI/2||i>1.5*Math.PI)&&u.y>o.y&&(x=1),i>=0&&i<Math.PI/2&&u.y>o.y&&(x=1),i>=Math.PI/2&&i<Math.PI&&o.y>u.y&&(x=1),(i<-Math.PI/2||i>=Math.PI&&i<1.5*Math.PI)&&o.y>u.y&&(x=1);var A=a/2>4?4:Math.max(a/2-1,0),E=Ye(t.x,t.y,e+A,i),R=Ye(t.x,t.y,e+a/2,d);f.push("M ".concat(o.x," ").concat(o.y)),f.push("L ".concat(E.x," ").concat(E.y)),f.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(0," ").concat(x," ").concat(R.x," ").concat(R.y)),f.push("L ".concat(u.x," ").concat(u.y))}else{E=Ye(t.x,t.y,e+(a/2>4?4:Math.max(a/2-1,0)),i);var D=o.x<t.x?1:-1;f.push("M ".concat(u.x," ").concat(u.y)),Math.abs((o.y-t.y)/(o.x-t.x)-(u.y-t.y)/(u.x-t.x))>Math.pow(Math.E,-16)&&f.push.apply(f,["C",u.x+4*D,u.y,2*E.x-o.x,2*E.y-o.y,o.x,o.y]),f.push("L ".concat(o.x," ").concat(o.y))}n.labelLine.path=f.join(" ")}}(Xt,a)})})}}}),ir("adjust-color",function(n,r,t){if(0!==t.length){var i=t[0].get("element").geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(l,u){var f=r[u].find(function(E){return"text"===E.get("type")}),v=Qe.fromObject(l.getBBox()),g=Qe.fromObject(f.getCanvasBBox()),d=!v.contains(g),A=function(n){var r=Ar.toRGB(n).toUpperCase();if(lv[r])return lv[r];var t=Ar.rgb2arr(r);return(299*t[0]+587*t[1]+114*t[2])/1e3<128}(l.attr("fill"));d?f.attr(i.overflowLabels.style):A?o&&f.attr("fill",o):s&&f.attr("fill",s)})}}),ir("interval-adjust-position",function(n,r,t){var e;if(0!==t.length){var i=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=null==i?void 0:i.geometry;a&&"interval"===a.type&&function(n,r,t){return!!n.getAdjust("stack")||r.every(function(i,a){return function(n,r,t){var e=n.coordinate,i=$r(r),a=Qe.fromObject(i.getCanvasBBox()),o=Qe.fromObject(t.getBBox());return e.isTransposed?o.height>=a.height:o.width>=a.width}(n,i,t[a])})}(a,r,t)&&t.forEach(function(s,l){!function(n,r,t){var e=n.coordinate,i=Qe.fromObject(t.getBBox());$r(r).attr(e.isTransposed?{x:i.minX+i.width/2,textAlign:"center"}:{y:i.minY+i.height/2,textBaseline:"middle"})}(a,r[l],s)})}}),ir("interval-hide-overlap",function(n,r,t){var e;if(0!==t.length){var i=null===(e=t[0])||void 0===e?void 0:e.get("element"),a=null==i?void 0:i.geometry;if(a&&"interval"===a.type){var v,o=function(n){var t=[],e=Math.max(Math.floor(n.length/500),1);return(0,c.S6)(n,function(i,a){a%e==0?t.push(i):i.set("visible",!1)}),t}(r),s=a.getXYFields()[0],l=[],u=[],h=(0,c.vM)(o,function(x){return x.get("data")[s]}),f=(0,c.jj)((0,c.UI)(o,function(x){return x.get("data")[s]}));o.forEach(function(x){x.set("visible",!0)});var g=function(x){x&&(x.length&&u.push(x.pop()),u.push.apply(u,x))};for((0,c.dp)(f)>0&&(v=f.shift(),g(h[v])),(0,c.dp)(f)>0&&(v=f.pop(),g(h[v])),(0,c.S6)(f.reverse(),function(x){g(h[x])});u.length>0;){var d=u.shift();d.get("visible")&&(Vm(d,l)?d.set("visible",!1):l.push(d))}}}}),ir("point-adjust-position",function(n,r,t,e,i){var a,o;if(0!==t.length){var s=null===(a=t[0])||void 0===a?void 0:a.get("element"),l=null==s?void 0:s.geometry;if(l&&"point"===l.type){var u=l.getXYFields(),h=u[0],f=u[1],v=(0,c.vM)(r,function(x){return x.get("data")[h]}),g=[],d=i&&i.offset||(null===(o=n[0])||void 0===o?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(v).reverse(),function(x){for(var A=function(n,r){var t=n.getXYFields()[1],e=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&e.push(i.shift()),i.length>0&&e.push(i.pop()),e.push.apply(e,i),e}(l,v[x]);A.length;){var E=A.shift(),R=$r(E);if(uv(g,E,function(q,nt){return q.get("data")[h]===nt.get("data")[h]&&q.get("data")[f]===nt.get("data")[f]}))R.set("visible",!1);else{var D=!1;hv(g,E)&&(R.attr("y",R.attr("y")+2*d),D=hv(g,E)),D?R.set("visible",!1):g.push(E)}}})}}}),ir("pie-spider",function(n,r,t,e){var i=r[0]&&r[0].get("coordinate");if(i){for(var a=i.getCenter(),o=i.getRadius(),s={},l=0,u=r;l<u.length;l++){var h=u[l];s[h.get("id")]=h}var f=(0,c.U2)(n[0],"labelHeight",14),v=Math.max((0,c.U2)(n[0],"offset",0),4);(0,c.S6)(n,function(nt){if((0,c.U2)(s,[nt.id])){var Xt=nt.x>a.x||nt.x===a.x&&nt.y>a.y,Jt=(0,c.UM)(nt.offsetX)?4:nt.offsetX,oe=Ye(a.x,a.y,o+4,nt.angle);nt.x=a.x+(Xt?1:-1)*(o+(v+Jt)),nt.y=oe.y}});var g=i.start,d=i.end,A="right",E=(0,c.vM)(n,function(nt){return nt.x<a.x?"left":A}),R=2*(o+v)+f;(0,c.S6)(E,function(nt){var Pt=nt.length*f;Pt>R&&(R=Math.min(Pt,Math.abs(g.y-d.y)))});var I={minX:g.x,maxX:d.x,minY:a.y-R/2,maxY:a.y+R/2};(0,c.S6)(E,function(nt,Pt){var Xt=R/f;nt.length>Xt&&(nt.sort(function(Jt,oe){return oe.percent-Jt.percent}),(0,c.S6)(nt,function(Jt,oe){oe>Xt&&(s[Jt.id].set("visible",!1),Jt.invisible=!0)})),tv(nt,f,I)});var D=I.minY,q=I.maxY;(0,c.S6)(E,function(nt,Pt){var Xt=Pt===A;(0,c.S6)(nt,function(Jt){var oe=(0,c.U2)(s,Jt&&[Jt.id]);if(oe){if(Jt.y<D||Jt.y>q)return void oe.set("visible",!1);var ge=oe.getChildByIndex(0),ye=ge.getCanvasBBox(),_e={x:Xt?ye.x:ye.maxX,y:ye.y+ye.height/2};Di(ge,Jt.x-_e.x,Jt.y-_e.y),Jt.labelLine&&function(n,r,t){var h,e=r.getCenter(),i=r.getRadius(),a={x:n.x-(t?4:-4),y:n.y},o=Ye(e.x,e.y,i+4,n.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=Ye(e.x,e.y,i,n.angle);if(a.y!==o.y){var f=t?4:-4;s.y=a.y,n.angle<0&&n.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),n.angle>0&&n.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-f))),n.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f))),n.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-f)))}h=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),n.labelLine=(0,c.b$)({},n.labelLine,{path:h})}(Jt,i,Xt)}})})}}),ir("path-adjust-position",function(n,r,t,e,i){var a,o;if(0!==t.length){var s=null===(a=t[0])||void 0===a?void 0:a.get("element"),l=null==s?void 0:s.geometry;if(l&&!(["path","line","area"].indexOf(l.type)<0)){var u=l.getXYFields(),h=u[0],f=u[1],v=(0,c.vM)(r,function(x){return x.get("data")[h]}),g=[],d=i&&i.offset||(null===(o=n[0])||void 0===o?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(v).reverse(),function(x){for(var A=function(n,r){var t=n.getXYFields()[1],e=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&e.push(i.shift()),i.length>0&&e.push(i.pop()),e.push.apply(e,i),e}(l,v[x]);A.length;){var E=A.shift(),R=$r(E);if(cv(g,E,function(q,nt){return q.get("data")[h]===nt.get("data")[h]&&q.get("data")[f]===nt.get("data")[f]}))R.set("visible",!1);else{var D=!1;fv(g,E)&&(R.attr("y",R.attr("y")+2*d),D=fv(g,E)),D?R.set("visible",!1):g.push(E)}}})}}}),lr("fade-in",function(n,r,t){var e={fillOpacity:(0,c.UM)(n.attr("fillOpacity"))?1:n.attr("fillOpacity"),strokeOpacity:(0,c.UM)(n.attr("strokeOpacity"))?1:n.attr("strokeOpacity"),opacity:(0,c.UM)(n.attr("opacity"))?1:n.attr("opacity")};n.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),n.animate(e,r)}),lr("fade-out",function(n,r,t){n.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r.duration,r.easing,function(){n.remove(!0)},r.delay)}),lr("grow-in-x",function(n,r,t){vl(n,r,t.coordinate,t.minYPoint,"x")}),lr("grow-in-xy",function(n,r,t){vl(n,r,t.coordinate,t.minYPoint,"xy")}),lr("grow-in-y",function(n,r,t){vl(n,r,t.coordinate,t.minYPoint,"y")}),lr("scale-in-x",function(n,r,t){var e=n.getBBox(),a=n.get("origin").mappingData.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;n.applyToMatrix([o,s,1]);var l=Ae.vs(n.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);n.setMatrix(l),n.animate({matrix:Ae.vs(n.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}),lr("scale-in-y",function(n,r,t){var e=n.getBBox(),i=n.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;n.applyToMatrix([a,s,1]);var l=Ae.vs(n.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);n.setMatrix(l),n.animate({matrix:Ae.vs(n.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}),lr("wave-in",function(n,r,t){var e=pc(t.coordinate,20),o=e.endState,s=n.setClip({type:e.type,attrs:e.startState});s.animate(o,m(m({},r),{callback:function(){n&&!n.get("destroyed")&&n.set("clipShape",null),s.remove(!0)}}))}),lr("zoom-in",function(n,r,t){pl(n,r,"zoomIn")}),lr("zoom-out",function(n,r,t){pl(n,r,"zoomOut")}),lr("position-update",function(n,r,t){var e=t.toAttrs,i=e.x,a=e.y;delete e.x,delete e.y,n.attr(e),n.animate({x:i,y:a},r)}),lr("sector-path-update",function(n,r,t){var e=t.toAttrs,i=t.coordinate,a=e.path||[],o=a.map(function(R){return R[0]});if(!(a.length<1)){var s=gv(a),l=s.startAngle,u=s.endAngle,h=s.radius,f=s.innerRadius,v=gv(n.attr("path")),g=v.startAngle,d=v.endAngle,x=i.getCenter(),A=l-g,E=u-d;if(0===A&&0===E)return void n.attr("path",a);n.animate(function(R){var I=g+R*A,D=d+R*E;return m(m({},e),{path:(0,c.Xy)(o,["M","A","A","Z"])?fc(x.x,x.y,h,I,D):Wr(x.x,x.y,h,I,D,f)})},m(m({},r),{callback:function(){n.attr("path",a)}}))}}),lr("path-in",function(n,r,t){var e=n.getTotalLength();n.attr("lineDash",[e]),n.animate(function(i){return{lineDashOffset:(1-i)*e}},r)}),Un("rect",iM),Un("mirror",rM),Un("list",$C),Un("matrix",tM),Un("circle",JC),Un("tree",oM),Vn("axis",cM),Vn("legend",dM),Vn("tooltip",Lm),Vn("annotation",uM),Vn("slider",mM),Vn("scrollbar",MM),de("tooltip",Sv),de("sibling-tooltip",LM),de("ellipsis-text",OM),de("element-active",FM),de("element-single-active",XM),de("element-range-active",HM),de("element-highlight",Ml),de("element-highlight-by-x",jM),de("element-highlight-by-color",ZM),de("element-single-highlight",QM),de("element-range-highlight",Ev),de("element-sibling-highlight",Ev,{effectSiblings:!0,effectByRecord:!0}),de("element-selected",eb),de("element-single-selected",nb),de("element-range-selected",KM),de("element-link-by-color",RM),de("active-region",TM),de("list-active",ob),de("list-selected",hb),de("list-highlight",bl),de("list-unchecked",fb),de("list-checked",pb),de("list-focus",db),de("list-radio",mb),de("legend-item-highlight",bl,{componentNames:["legend"]}),de("axis-label-highlight",bl,{componentNames:["axis"]}),de("rect-mask",Ov),de("x-rect-mask",Iv,{dim:"x"}),de("y-rect-mask",Iv,{dim:"y"}),de("circle-mask",Cb),de("path-mask",Dv),de("smooth-path-mask",Tb),de("cursor",_b),de("data-filter",Pb),de("brush",mo),de("brush-x",mo,{dims:["x"]}),de("brush-y",mo,{dims:["y"]}),de("sibling-filter",Tl),de("sibling-x-filter",Tl),de("sibling-y-filter",Tl),de("element-filter",Db),de("element-sibling-filter",kv),de("element-sibling-filter-record",kv,{byRecord:!0}),de("view-drag",Nb),de("view-move",zb),de("scale-translate",jb),de("scale-zoom",Jb),de("reset-button",Gb,{name:"reset-button",text:"reset"}),de("mousewheel-scroll",tS),Ie("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Ie("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Ie("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Ie("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Ie("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Ie("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Ie("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Ie("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Ie("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Ie("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Ie("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Ie("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(n){return!n.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(n){return!n.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Ie("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:rn,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:rn,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:rn,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Ie("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Ie("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:rn,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:rn,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:rn,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Ie("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:rn,action:"path-mask:start"},{trigger:"mousedown",isEnable:rn,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Ie("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Ie("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(n){return!n.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Ie("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Ie("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Ie("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Ie("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Ie("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(n){return Hv(n.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(n){return!Hv(n.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Ie("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Ie("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});const eS=["userCallDuration"];let rS=(()=>{class n{constructor(t){this.ngZone=t,this.title=""}ngOnChanges(t){this.ngZone.runOutsideAngular(()=>{var e;return null===(e=this.chart)||void 0===e?void 0:e.destroy()}),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.install()},0)})}install(){let t=0;this.data.forEach(e=>{e.duration>t&&(t=e.duration)}),this.chart=new Bi({container:this.interaction.nativeElement,autoFit:!0,height:350}),this.chart.data(this.data),this.chart.scale("duration",{nice:!0}),this.chart.coordinate().transpose(),this.chart.tooltip({showMarkers:!1}),this.chart.interaction("active-region"),this.chart.interval().adjust("stack").position("email*duration"),this.chart.axis("duration",{label:{formatter:e=>e}}),this.data.forEach(e=>{this.chart.annotation().text({position:[e.email,e.duration],content:e.duration+"s",style:{textAlign:"center"}})}),this.chart.render()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-user-call-duration"]],viewQuery:function(t,e){if(1&t&&p.Gf(eS,7),2&t){let i;p.iGM(i=p.CRH())&&(e.interaction=i.first)}},inputs:{data:"data",title:"title"},features:[p.TTD],decls:7,vars:1,consts:[["userCallDuration",""],[2,"text-align","center","font-weight","500"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-card"),p.TgZ(1,"mat-card-content"),p._UZ(2,"div",null,0),p.qZA(),p.TgZ(4,"mat-card-footer"),p.TgZ(5,"p",1),p._uU(6),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.Oqu(e.title))},directives:[lt.a8,lt.dn,lt.rt],styles:[""]}),n})();var Or=K(6856);const nS=["g2MinBar"];let Uv=(()=>{class n{constructor(t){this.ngZone=t,this.padding=[2,2,2,2],this.title="Average Call Metric",this.data=[]}ngOnChanges(){this.ngZone.runOutsideAngular(()=>{var t;return null===(t=this.chart)||void 0===t?void 0:t.destroy()}),setTimeout(()=>{this.ngZone.runOutsideAngular(()=>this.install())},0)}install(){this.chart=new Bi({container:this.g2MinBar.nativeElement,autoFit:!0,height:350,padding:[50,20,50,20]}),this.chart.data(this.data),this.chart.scale("value",{alias:"Total Calls"}),this.chart.axis("type",{tickLine:{alignTick:!1}}),this.chart.axis("value",!1),this.chart.tooltip({showMarkers:!0}),this.chart.interval().position("type*value"),this.chart.interaction("element-active"),this.data.forEach(t=>{this.chart.annotation().text({position:[t.type,t.value],content:t.value,style:{textAlign:"center"},offsetY:-30}).text({position:[t.type,t.value],style:{textAlign:"center"},offsetY:-12})}),this.chart.render()}ngOnDestroy(){this.chart&&this.ngZone.runOutsideAngular(()=>this.chart.destroy())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-bar"]],viewQuery:function(t,e){if(1&t&&p.Gf(nS,7),2&t){let i;p.iGM(i=p.CRH())&&(e.g2MinBar=i.first)}},inputs:{padding:"padding",title:"title",data:"data"},features:[p.TTD],decls:7,vars:1,consts:[[2,"padding","0","margin","0"],["g2MinBar",""],[2,"text-align","center","font-weight","500"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-card"),p.TgZ(1,"mat-card-content"),p._UZ(2,"div",0,1),p.qZA(),p.TgZ(4,"mat-card-footer"),p.TgZ(5,"p",2),p._uU(6),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.Oqu(e.title))},directives:[lt.a8,lt.dn,lt.rt],styles:[""]}),n})();const iS=["interaction"];let aS=(()=>{class n{constructor(t){this.ngZone=t}ngOnChanges(t){this.ngZone.runOutsideAngular(()=>{var e;return null===(e=this.chart)||void 0===e?void 0:e.destroy()}),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.install()},0)})}install(){this.chart=new Bi({container:this.interaction.nativeElement,autoFit:!0,height:500}),this.chart.data(this.data),this.chart.coordinate("theta",{radius:.75}),this.chart.tooltip({showMarkers:!1}),this.chart.interval().position("value").color("type").label("type*value",{layout:{type:"pie-spider"},labelHeight:20,content:t=>`${t.type} (${t.value})`,labelLine:{style:{lineWidth:.5}}}).adjust("stack"),this.chart.interaction("element-single-selected"),this.chart.theme({styleSheet:{brandColor:"#025DF4",paletteQualitative10:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF"],paletteQualitative20:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF","#FFC328","#A0DC2C","#946DFF","#626681","#EB4185","#CD8150","#36BCCB","#327039","#803488","#83BC99"]}}),this.chart.render()}ngOnDestroy(){this.chart&&this.ngZone.runOutsideAngular(()=>this.chart.destroy())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-pie"]],viewQuery:function(t,e){if(1&t&&p.Gf(iS,7),2&t){let i;p.iGM(i=p.CRH())&&(e.interaction=i.first)}},inputs:{data:"data",message:"message"},features:[p.TTD],decls:7,vars:1,consts:[["interaction",""],[2,"text-align","center"],[2,"font-size","smaller"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-card-content"),p._UZ(1,"div",null,0),p.TgZ(3,"h3",1),p._uU(4," Interactions "),p.TgZ(5,"mat-hint",2),p._uU(6),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.Oqu(e.message))},directives:[lt.dn,Ct.bx],styles:[""]}),n})();const oS=["avgCallDuration"];let El=(()=>{class n{constructor(t){this.ngZone=t,this.XAxisLabel="month",this.YAxisLabel="sales",this.max=500,this.title="Average Call Duration"}ngOnChanges(){this.chart&&this.ngZone.runOutsideAngular(()=>this.ngOnDestroy()),setTimeout(()=>{this.ngZone.runOutsideAngular(()=>this.install())},0)}install(){Ie("element-link",{start:[{trigger:"interval:mouseenter",action:"element-link-by-color:link"}],end:[{trigger:"interval:mouseleave",action:"element-link-by-color:unlink"}]}),this.chart=new Bi({container:this.avgCallDuration.nativeElement,autoFit:!0,height:350}),this.chart.data(this.data),this.chart.scale({[this.YAxisLabel]:{nice:!0}}),this.chart.tooltip({showMarkers:!1}),this.chart.interval().position(`${this.XAxisLabel}*${this.YAxisLabel}`).color("type").adjust("stack"),this.chart.interaction("element-highlight-by-color"),this.chart.interaction("element-link"),this.chart.theme({styleSheet:{brandColor:"#025DF4",paletteQualitative10:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF"],paletteQualitative20:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF","#FFC328","#A0DC2C","#946DFF","#626681","#EB4185","#CD8150","#36BCCB","#327039","#803488","#83BC99"]}}),this.chart.render()}ngOnDestroy(){this.chart&&this.ngZone.runOutsideAngular(()=>this.chart.destroy())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-stack-bar"]],viewQuery:function(t,e){if(1&t&&p.Gf(oS,7),2&t){let i;p.iGM(i=p.CRH())&&(e.avgCallDuration=i.first)}},inputs:{data:"data",XAxisLabel:"XAxisLabel",YAxisLabel:"YAxisLabel",max:"max",title:"title"},features:[p.TTD],decls:7,vars:1,consts:[[2,"padding","0","margin","0"],["avgCallDuration",""],[2,"text-align","center","font-weight","500"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-card"),p.TgZ(1,"mat-card-content"),p._UZ(2,"div",0,1),p.qZA(),p.TgZ(4,"mat-card-footer"),p.TgZ(5,"p",2),p._uU(6),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.Oqu(e.title))},directives:[lt.a8,lt.dn,lt.rt],styles:[""]}),n})();const sS=["drawer"];function lS(n,r){if(1&n&&(p.TgZ(0,"mat-option",18),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.Q6J("value",t._id),p.xp6(1),p.hij(" ",t.campaignName," ")}}function uS(n,r){if(1&n&&(p.TgZ(0,"mat-form-field",7),p.TgZ(1,"mat-label"),p._uU(2,"Enter start and end date"),p.qZA(),p.TgZ(3,"mat-date-range-input",24),p._UZ(4,"input",25),p._UZ(5,"input",26),p.qZA(),p._UZ(6,"mat-datepicker-toggle",27),p._UZ(7,"mat-date-range-picker",null,28),p.qZA()),2&n){const t=p.MAs(8);p.xp6(3),p.Q6J("rangePicker",t),p.xp6(3),p.Q6J("for",t)}}const hS=function(){return{standalone:!0}};function cS(n,r){if(1&n){const t=p.EpF();p.TgZ(0,"mat-form-field",29),p.TgZ(1,"mat-label"),p._uU(2),p.ALo(3,"date"),p.ALo(4,"date"),p.qZA(),p.TgZ(5,"mat-select",30),p.NdJ("ngModelChange",function(i){return p.CHM(t),p.oxw().dateDropdownSelector=i})("ngModelChange",function(){return p.CHM(t),p.oxw().onSelectionChange()}),p.TgZ(6,"mat-option",31),p._uU(7,"This Week"),p.qZA(),p.TgZ(8,"mat-option",32),p._uU(9,"This Month"),p.qZA(),p.TgZ(10,"mat-option",33),p._uU(11,"Last three Months"),p.qZA(),p.TgZ(12,"mat-option",34),p._uU(13,"Last six Months"),p.qZA(),p.TgZ(14,"mat-option",35),p.NdJ("click",function(){return p.CHM(t),p.oxw().customSelectorMode=!0}),p._uU(15,"Custom"),p.qZA(),p.qZA(),p.qZA()}if(2&n){const t=p.oxw();p.xp6(2),p.AsE("",p.xi3(3,4,t.startDate.value,"shortDate")," - ",p.xi3(4,7,t.endDate.value,"shortDate"),""),p.xp6(3),p.Q6J("ngModel",t.dateDropdownSelector)("ngModelOptions",p.DdM(10,hS))}}function fS(n,r){if(1&n&&(p.TgZ(0,"mat-option",18),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.Q6J("value",t.email),p.xp6(1),p.hij(" ",t.fullName," ")}}function vS(n,r){if(1&n&&p._UZ(0,"app-bar",36),2&n){const t=p.oxw();p.Q6J("data",t.barData)}}function pS(n,r){if(1&n&&p._UZ(0,"app-pie",37),2&n){const t=p.oxw();p.Q6J("data",t.pieData)("message","(Admin count not included)")}}function gS(n,r){if(1&n&&p._UZ(0,"app-stack-bar",38),2&n){const t=p.oxw();p.Q6J("data",t.stackBarData)("XAxisLabel",t.XAxisLabel)("YAxisLabel",t.YAxisLabel)("max",t.max)}}let dS=(()=>{class n{constructor(t,e,i,a,o,s){this.graphService=t,this.menu=e,this.fb=i,this.campaignService=a,this.userService=o,this.pubsub=s,this.userList=[],this.today=new Date,this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this.startDt=At(this.today).startOf("week").toDate(),this.endDt=At(this.today).endOf("week").toDate(),this.customSelectorMode=!1,this.handlerFilter=new xt.NI,this.startDate=new xt.NI(this.startDt),this.endDate=new xt.NI(this.endDt),this.prospectName=new xt.NI,this.handler=new xt.NI([]),this.campaign=new xt.NI,this.userCallDurationData=[],this.showBar=!1,this.barData=[],this.max=10,this.XAxisLabel="month",this.YAxisLabel="NOC",this.stackBarData=[],this.pieData=[]}onSelectionChange(){"thisWeek"===this.dateDropdownSelector?(this.startDate.setValue(At().startOf("week").toISOString()),this.endDate.setValue(At().endOf("week").toISOString())):"thisMonth"===this.dateDropdownSelector?(this.startDate.setValue(At().startOf("month").toISOString()),this.endDate.setValue(At().endOf("month").toISOString())):"lastThreeMonths"===this.dateDropdownSelector?(this.startDate.setValue(At().subtract(3,"month").toISOString()),this.endDate.setValue(At().toISOString())):"lastSixMonths"===this.dateDropdownSelector&&(this.startDate.setValue(At().subtract(6,"month").toISOString()),this.endDate.setValue(At().toISOString()))}ngOnInit(){this.initFilters(),this.initCampaignList(),this.initHandlerList()}ionViewWillEnter(){this.pubsub.$pub(J.h,[{iconName:"filter_alt",onIconClick:()=>{this.drawer.toggle()}}])}initCampaignList(){return(0,Ht.mG)(this,void 0,void 0,function*(){this.listOfCampaigns=yield this.campaignService.populateCampaignDropdown({select:["_id","campaignName"]}),this.campaign.setValue(this.listOfCampaigns[0]._id),this.getGraphData({})})}openFilter(){this.menu.enable(!0,"transactionFilter"),this.menu.open("transactionFilter")}initFilters(){this.filterForm=this.fb.group({startDate:this.startDate,endDate:this.endDate,prospectName:this.prospectName,handler:this.handler,campaign:this.campaign})}getGraphData(t){console.log(t),this.graphService.getGraphData(this.filterForm.value).subscribe(e=>{this.barData=e.barData,this.pieData=e.pieData,this.stackBarData=e.stackData,this.telecallerCallDetails=e.callDetails,this.userCallDurationData=e.userCallDurationTransposed,this.computeAvgUserCallDuration()},e=>{console.log(e)})}computeAvgUserCallDuration(){return this.avgUserCallDurationData=this.userCallDurationData.map(t=>({duration:t.duration/t.callCount,email:t.email})),this.avgUserCallDurationData}initHandlerList(){this.userService.getAllUsersHack().subscribe(t=>{this.tempUserList=t[0].users,this.listOfHandlers=t[0].users}),this.handlerFilter.valueChanges.subscribe(t=>{this.listOfHandlers=this.tempUserList.filter(e=>(e.fullName+e.email).includes(t))})}downloadGraph(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(st),p.Y36(Ft._q),p.Y36(xt.qu),p.Y36(Ot.U),p.Y36(te.f),p.Y36(vt.A))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-graphs"]],viewQuery:function(t,e){if(1&t&&p.Gf(sS,5),2&t){let i;p.iGM(i=p.CRH())&&(e.drawer=i.first)}},decls:41,vars:16,consts:[[1,"card-container"],["mode","over","opened","false","position","end",1,"drawer"],["drawer",""],[1,"filter-toolbar-spacer"],[1,"filter-toolbar-icon",3,"click"],[1,"contents"],[3,"formGroup","submit"],["appearance","outline",1,"mat-always-full-width"],["formControlName","campaign","placeholder","Campaign"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","class","mat-always-full-width",4,"ngIf"],["appearance","outline","class","mat-always-full-width","appearance","outline",4,"ngIf"],["formControlName","handler","placeholder","Assignees",3,"multiple"],["placeholderLabel","Jon Doe","noEntriesFoundLabel","'no matching assignee found'",3,"formControl"],["mat-flat-button","","type","submit",3,"click"],[1,"main","contents",2,"margin","4px","padding","8px"],[3,"dataSource"],["name","fontStyle",3,"ngModel","ngModelChange"],[3,"value"],[3,"data",4,"ngIf"],[3,"data","message",4,"ngIf"],[3,"data","XAxisLabel","YAxisLabel","max",4,"ngIf"],[2,"height","25px"],[3,"title","data"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Start date"],["matEndDate","","formControlName","endDate","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["appearance","outline","appearance","outline",1,"mat-always-full-width"],[3,"ngModel","ngModelOptions","ngModelChange"],["value","thisWeek"],["value","thisMonth"],["value","lastThreeMonths"],["value","lastSixMonths"],["value","custom",3,"click"],[3,"data"],[3,"data","message"],[3,"data","XAxisLabel","YAxisLabel","max"]],template:function(t,e){if(1&t){const i=p.EpF();p.TgZ(0,"mat-card-content",0),p.TgZ(1,"mat-drawer-container"),p.TgZ(2,"mat-drawer",1,2),p.TgZ(4,"mat-toolbar"),p.TgZ(5,"mat-toolbar-row"),p.TgZ(6,"span"),p._uU(7,"Filters"),p.qZA(),p._UZ(8,"span",3),p.TgZ(9,"mat-icon",4),p.NdJ("click",function(){return p.CHM(i),p.MAs(3).toggle()}),p._uU(10,"close"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",5),p.TgZ(12,"form",6),p.NdJ("submit",function(){return e.getGraphData({refresh:!0})}),p.TgZ(13,"mat-form-field",7),p.TgZ(14,"mat-label"),p._uU(15,"Campaign"),p.qZA(),p.TgZ(16,"mat-select",8),p.YNc(17,lS,2,2,"mat-option",9),p.qZA(),p.qZA(),p.YNc(18,uS,9,2,"mat-form-field",10),p.YNc(19,cS,16,11,"mat-form-field",11),p.TgZ(20,"mat-form-field",7),p.TgZ(21,"mat-label"),p._uU(22,"Assigned To"),p.qZA(),p.TgZ(23,"mat-select",12),p.TgZ(24,"mat-option"),p._UZ(25,"ngx-mat-select-search",13),p.qZA(),p.YNc(26,fS,2,2,"mat-option",9),p.qZA(),p.qZA(),p.TgZ(27,"button",14),p.NdJ("click",function(){return p.CHM(i),p.MAs(3).toggle()}),p._uU(28,"Submit"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",15),p._UZ(30,"app-telecaller-talktime",16),p.TgZ(31,"mat-button-toggle-group",17),p.NdJ("ngModelChange",function(o){return e.showBar=o}),p.TgZ(32,"mat-button-toggle",18),p._uU(33,"Bar"),p.qZA(),p.TgZ(34,"mat-button-toggle",18),p._uU(35,"Pie"),p.qZA(),p.qZA(),p.YNc(36,vS,1,1,"app-bar",19),p.YNc(37,pS,1,2,"app-pie",20),p.YNc(38,gS,1,4,"app-stack-bar",21),p._UZ(39,"div",22),p._UZ(40,"app-user-call-duration",23),p.qZA(),p.qZA()}2&t&&(p.xp6(12),p.Q6J("formGroup",e.filterForm),p.xp6(5),p.Q6J("ngForOf",e.listOfCampaigns),p.xp6(1),p.Q6J("ngIf",e.customSelectorMode),p.xp6(1),p.Q6J("ngIf",!e.customSelectorMode),p.xp6(4),p.Q6J("multiple",!0),p.xp6(2),p.Q6J("formControl",e.handlerFilter),p.xp6(1),p.Q6J("ngForOf",e.listOfHandlers),p.xp6(4),p.Q6J("dataSource",e.telecallerCallDetails),p.xp6(1),p.Q6J("ngModel",e.showBar),p.xp6(1),p.Q6J("value",!0),p.xp6(2),p.Q6J("value",!1),p.xp6(2),p.Q6J("ngIf",e.showBar&&(null==e.pieData?null:e.pieData.length)>0),p.xp6(1),p.Q6J("ngIf",!e.showBar&&(null==e.pieData?null:e.pieData.length)>0),p.xp6(1),p.Q6J("ngIf",(null==e.stackBarData?null:e.stackBarData.length)>0),p.xp6(2),p.Q6J("title","Average call duration / User")("data",e.avgUserCallDurationData))},directives:[lt.dn,bt.kh,bt.jA,mt.Ye,mt.rD,Ut.Hw,xt._Y,xt.JL,xt.sg,Ct.KE,Ct.hX,C.gD,xt.JJ,xt.u,jt.sg,jt.O5,S.ey,G.nu,xt.oH,z.lW,gt,Rt.A9,xt.On,Rt.Yi,rS,Or.wx,Or.zY,xt.Fj,Or.By,Or.nW,Ct.R9,Or._g,Uv,aS,El],pipes:[jt.uU],styles:[".drawer[_ngcontent-%COMP%]{position:fixed;padding:4px;height:100vh;width:230px}.main[_ngcontent-%COMP%]{background-color:#fff}.main.header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:2;border-bottom:1px solid #ccc}.filter-toolbar-icon[_ngcontent-%COMP%]{padding:0 14px}.filter-toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),n})();const yS=["lineChart"];function mS(n,r){if(1&n&&p._UZ(0,"app-stack-bar",1),2&n){const t=p.oxw();p.Q6J("data",t.data)("XAxisLabel","month")("YAxisLabel","total")("title","Leads Per Month")("max",t.max)}}let xS=(()=>{class n{constructor(t,e){this.ngZone=t,this.graphService=e,this.title="Lead State Summary",this.data=[],this.max=100}ngOnInit(){setTimeout(()=>{console.log("runnning outside angular"),this.ngZone.runOutsideAngular(()=>{this.graphService.getLeadStatusLineData(2021).subscribe(t=>{this.data=t,this.install()})})},0)}install(){this.chart=new Bi({container:this.lineChart.nativeElement,autoFit:!0,height:500}),this.chart.data(this.data),this.chart.scale({month:{range:[0,1]},total:{nice:!0}}),this.chart.tooltip({showCrosshairs:!0,shared:!0}),this.chart.axis("total",{label:{formatter:t=>t}}),this.chart.line().position("month*total").color("leadStatus").shape("smooth"),this.chart.point().position("month*total").color("leadStatus").shape("circle").style({stroke:"#fff",lineWidth:1}),this.chart.theme({styleSheet:{brandColor:"#025DF4",paletteQualitative10:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF"],paletteQualitative20:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF","#FFC328","#A0DC2C","#946DFF","#626681","#EB4185","#CD8150","#36BCCB","#327039","#803488","#83BC99"]}}),this.chart.removeInteraction("legend-filter"),this.chart.interaction("legend-visible-filter"),this.chart.render()}ngOnDestroy(){this.chart&&this.ngZone.runOutsideAngular(()=>this.chart.destroy())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.R0b),p.Y36(st))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-line-chart"]],viewQuery:function(t,e){if(1&t&&p.Gf(yS,7),2&t){let i;p.iGM(i=p.CRH())&&(e.lineChart=i.first)}},inputs:{title:"title",data:"data"},decls:1,vars:1,consts:[[3,"data","XAxisLabel","YAxisLabel","title","max",4,"ngIf"],[3,"data","XAxisLabel","YAxisLabel","title","max"]],template:function(t,e){1&t&&p.YNc(0,mS,1,5,"app-stack-bar",0),2&t&&p.Q6J("ngIf",e.data)},directives:[jt.O5,El],styles:[""]}),n})();var wS=K(6087),CS=K(4847);function MS(n,r){1&n&&(p.TgZ(0,"th",13),p._uU(1,"Email"),p.qZA())}function bS(n,r){if(1&n&&(p.TgZ(0,"td",14),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.Oqu(t.email||"Unassigned")}}function SS(n,r){1&n&&(p.TgZ(0,"th",13),p._uU(1,"Total Closed"),p.qZA())}function AS(n,r){if(1&n&&(p.TgZ(0,"td",14),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.Oqu(t.totalClosed)}}function TS(n,r){1&n&&(p.TgZ(0,"th",13),p._uU(1,"Total Open"),p.qZA())}function ES(n,r){if(1&n&&(p.TgZ(0,"td",14),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.xp6(1),p.Oqu(t.totalOpen)}}function _S(n,r){1&n&&p._UZ(0,"tr",15)}function LS(n,r){1&n&&p._UZ(0,"tr",16)}let PS=(()=>{class n{constructor(t){this.graphService=t,this.displayedColumns=["email","totalOpen","totalClosed"],this.data=[],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.totalLeads=0}ngOnChanges(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(st))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-telecaller-lc-table"]],viewQuery:function(t,e){if(1&t&&(p.Gf(wS.NW,5),p.Gf(CS.YE,5),p.Gf(Q.BZ,5)),2&t){let i;p.iGM(i=p.CRH())&&(e.paginator=i.first),p.iGM(i=p.CRH())&&(e.sort=i.first),p.iGM(i=p.CRH())&&(e.table=i.first)}},inputs:{data:"data"},features:[p.TTD],decls:26,vars:4,consts:[[1,"example-card"],[2,"font-size","large","font-weight","500"],[1,"example-container","mat-elevation-z8"],[1,"example-table-container"],["mat-table","",1,"example-table",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalClosed"],["matColumnDef","totalOpen"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[2,"text-align","center","font-weight","500"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(p.TgZ(0,"mat-card",0),p.TgZ(1,"mat-card-header"),p.TgZ(2,"mat-card-title"),p._uU(3,"Total Leads"),p.qZA(),p.qZA(),p.TgZ(4,"mat-card-content"),p.TgZ(5,"span",1),p._uU(6),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"mat-card"),p.TgZ(8,"mat-card-content"),p.TgZ(9,"div",2),p.TgZ(10,"div",3),p.TgZ(11,"table",4),p.ynx(12,5),p.YNc(13,MS,2,0,"th",6),p.YNc(14,bS,2,1,"td",7),p.BQk(),p.ynx(15,8),p.YNc(16,SS,2,0,"th",6),p.YNc(17,AS,2,1,"td",7),p.BQk(),p.ynx(18,9),p.YNc(19,TS,2,0,"th",6),p.YNc(20,ES,2,1,"td",7),p.BQk(),p.YNc(21,_S,1,0,"tr",10),p.YNc(22,LS,1,0,"tr",11),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(23,"mat-card-footer"),p.TgZ(24,"p",12),p._uU(25,"Users Workload Report"),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.hij(" ",e.totalLeads," "),p.xp6(5),p.Q6J("dataSource",e.data),p.xp6(10),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns))},directives:[lt.a8,lt.dk,lt.n5,lt.dn,Q.BZ,Q.w1,Q.fO,Q.Dz,Q.as,Q.nj,lt.rt,Q.ge,Q.ev,Q.XQ,Q.Gk],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-card[_ngcontent-%COMP%]{max-width:400px;display:flex;justify-content:center;margin-bottom:50px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}"]}),n})();const OS=["drawer"];function BS(n,r){if(1&n&&(p.TgZ(0,"mat-option",22),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.Q6J("value",t._id),p.xp6(1),p.hij(" ",t.campaignName," ")}}function IS(n,r){if(1&n&&(p.TgZ(0,"mat-form-field",9),p.TgZ(1,"mat-label"),p._uU(2,"Enter start and end date"),p.qZA(),p.TgZ(3,"mat-date-range-input",23),p._UZ(4,"input",24),p._UZ(5,"input",25),p.qZA(),p._UZ(6,"mat-datepicker-toggle",26),p._UZ(7,"mat-date-range-picker",null,27),p.qZA()),2&n){const t=p.MAs(8);p.xp6(3),p.Q6J("rangePicker",t),p.xp6(3),p.Q6J("for",t)}}const DS=function(){return{standalone:!0}};function FS(n,r){if(1&n){const t=p.EpF();p.TgZ(0,"mat-form-field",28),p.TgZ(1,"mat-label"),p._uU(2),p.ALo(3,"date"),p.ALo(4,"date"),p.qZA(),p.TgZ(5,"mat-select",29),p.NdJ("ngModelChange",function(i){return p.CHM(t),p.oxw().dateDropdownSelector=i})("ngModelChange",function(){return p.CHM(t),p.oxw().onSelectionChange()}),p.TgZ(6,"mat-option",30),p._uU(7,"This Week"),p.qZA(),p.TgZ(8,"mat-option",31),p._uU(9,"This Month"),p.qZA(),p.TgZ(10,"mat-option",32),p._uU(11,"Last three Months"),p.qZA(),p.TgZ(12,"mat-option",33),p._uU(13,"Last six Months"),p.qZA(),p.TgZ(14,"mat-option",34),p.NdJ("click",function(){return p.CHM(t),p.oxw().customSelectorMode=!0}),p._uU(15,"Custom"),p.qZA(),p.qZA(),p.qZA()}if(2&n){const t=p.oxw();p.xp6(2),p.AsE("",p.xi3(3,4,t.startDate.value,"shortDate")," - ",p.xi3(4,7,t.endDate.value,"shortDate"),""),p.xp6(3),p.Q6J("ngModel",t.dateDropdownSelector)("ngModelOptions",p.DdM(10,DS))}}function kS(n,r){if(1&n&&(p.TgZ(0,"mat-option",22),p._uU(1),p.qZA()),2&n){const t=r.$implicit;p.Q6J("value",t.email),p.xp6(1),p.hij(" ",t.fullName," ")}}function RS(n,r){if(1&n&&p._UZ(0,"app-bar",35),2&n){const t=p.oxw();p.Q6J("data",t.barData)("title","Campaign wise lead count")}}function YS(n,r){if(1&n&&p._UZ(0,"app-stack-bar",36),2&n){const t=p.oxw();p.Q6J("data",t.stackBarData)("XAxisLabel",t.XAxisLabel)("YAxisLabel",t.YAxisLabel)("title",t.stackBarTitle)("max",t.max)}}const GS=[{path:"graphs",pathMatch:"full",component:dS},{path:"lineChart",pathMatch:"full",component:xS},{path:"campaignReports",pathMatch:"full",component:(()=>{class n{constructor(t,e,i,a,o){this.graphService=t,this.fb=e,this.campaignService=i,this.userService=a,this.pubsub=o,this.stackBarTitle="Disposition Wise Lead Count / Campaign",this.XAxisLabel="Campaign Name",this.YAxisLabel="Total Leads",this.stackBarData=null,this.max=50,this.listOfCampaigns=[],this.telecallerLCData=[],this.today=new Date,this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this.startDate=new xt.NI(new Date(this.year,this.month-2,1)),this.endDate=new xt.NI(new Date(this.year,this.month,28)),this.handlerFilter=new xt.NI,this.prospectName=new xt.NI,this.handler=new xt.NI([]),this.campaign=new xt.NI([]),this.leadId=new xt.NI(null),this.customSelectorMode=!1}ngOnInit(){this.initFilterForm(),this.initHandlerList(),this.initCampaignList()}ionViewWillEnter(){this.pubsub.$pub(J.h,[{iconName:"filter_alt",onIconClick:()=>{this.drawer.toggle()}}])}ngAfterViewInit(){}fetchAllAnalyticsData(){this.graphService.campaignWiseLeadCount(this.filterForm.value).subscribe(t=>{this.barData=t}),this.graphService.campaignWiseLeadCountPerCategory(this.filterForm.value).subscribe(t=>{this.XAxisLabel=t.XAxisLabel,this.YAxisLabel=t.YAxisLabel,this.max=t.max,this.stackBarData=t.stackBarData}),this.graphService.getOpenClosedLeadCount(this.filterForm.value).subscribe(t=>{this.telecallerLCData=t.items})}initCampaignList(){return(0,Ht.mG)(this,void 0,void 0,function*(){this.listOfCampaigns=yield this.campaignService.populateCampaignDropdown({select:["_id","campaignName"]}),this.campaign.setValue([this.listOfCampaigns[0]._id]),this.fetchAllAnalyticsData()})}initHandlerList(){return(0,Ht.mG)(this,void 0,void 0,function*(){this.userService.getAllUsersHack().subscribe(t=>{this.tempUserList=t[0].users,this.listOfHandlers=t[0].users}),this.handlerFilter.valueChanges.subscribe(t=>{this.listOfHandlers=this.tempUserList.filter(e=>(e.fullName+e.email).includes(t))})})}initFilterForm(){this.filterForm=this.fb.group({startDate:this.startDate,endDate:this.endDate,prospectName:this.prospectName,handler:this.handler,campaign:this.campaign,leadId:this.leadId})}onSelectionChange(){"thisWeek"===this.dateDropdownSelector?(this.startDate.setValue(At().startOf("week").toISOString()),this.endDate.setValue(At().endOf("week").toISOString())):"thisMonth"===this.dateDropdownSelector?(this.startDate.setValue(At().startOf("month").toISOString()),this.endDate.setValue(At().endOf("month").toISOString())):"lastThreeMonths"===this.dateDropdownSelector?(this.startDate.setValue(At().subtract(3,"month").toISOString()),this.endDate.setValue(At().toISOString())):"lastSixMonths"===this.dateDropdownSelector&&(this.startDate.setValue(At().subtract(6,"month").toISOString()),this.endDate.setValue(At().toISOString()))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(st),p.Y36(xt.qu),p.Y36(Ot.U),p.Y36(te.f),p.Y36(vt.A))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-campaign-report-container"]],viewQuery:function(t,e){if(1&t&&p.Gf(OS,5),2&t){let i;p.iGM(i=p.CRH())&&(e.drawer=i.first)}},decls:36,vars:12,consts:[["fullscreen","",2,"overflow-y","hidden"],[1,"example-container"],["mode","over","opened","false","position","end",1,"drawer"],["drawer",""],[1,"header"],[1,"filter-toolbar-spacer"],["aria-hidden","false","aria-label","Example close icon",1,"filter-toolbar-icon",3,"click"],[1,"contents"],[3,"formGroup","submit"],["appearance","outline",1,"mat-always-full-width"],["formControlName","campaign","placeholder","Campaign","multiple",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","class","mat-always-full-width",4,"ngIf"],["appearance","outline","class","mat-always-full-width","appearance","outline",4,"ngIf"],["formControlName","handler","placeholder","Assignees",3,"multiple"],["placeholderLabel","Jon Doe","noEntriesFoundLabel","'no matching assignee found'",3,"formControl"],["mat-flat-button","","type","submit","color","accent",3,"click"],[1,"main","contents"],[3,"data"],[1,"mb100"],[3,"data","title",4,"ngIf"],[3,"data","XAxisLabel","YAxisLabel","title","max",4,"ngIf"],[3,"value"],[3,"rangePicker"],["matStartDate","","formControlName","startDate","placeholder","Start date"],["matEndDate","","formControlName","endDate","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],["appearance","outline","appearance","outline",1,"mat-always-full-width"],[3,"ngModel","ngModelOptions","ngModelChange"],["value","thisWeek"],["value","thisMonth"],["value","lastThreeMonths"],["value","lastSixMonths"],["value","custom",3,"click"],[3,"data","title"],[3,"data","XAxisLabel","YAxisLabel","title","max"]],template:function(t,e){if(1&t){const i=p.EpF();p.TgZ(0,"ion-content",0),p.TgZ(1,"mat-drawer-container",1),p.TgZ(2,"mat-drawer",2,3),p.TgZ(4,"mat-toolbar",4),p.TgZ(5,"mat-toolbar-row"),p.TgZ(6,"span"),p._uU(7,"Filters"),p.qZA(),p._UZ(8,"span",5),p.TgZ(9,"mat-icon",6),p.NdJ("click",function(){return p.CHM(i),p.MAs(3).toggle()}),p._uU(10,"close"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(11,"div",7),p.TgZ(12,"form",8),p.NdJ("submit",function(){return e.fetchAllAnalyticsData()}),p.TgZ(13,"mat-form-field",9),p.TgZ(14,"mat-label"),p._uU(15,"Campaign"),p.qZA(),p.TgZ(16,"mat-select",10),p.YNc(17,BS,2,2,"mat-option",11),p.qZA(),p.qZA(),p.YNc(18,IS,9,2,"mat-form-field",12),p.YNc(19,FS,16,11,"mat-form-field",13),p.TgZ(20,"mat-form-field",9),p.TgZ(21,"mat-label"),p._uU(22,"Assigned To"),p.qZA(),p.TgZ(23,"mat-select",14),p.TgZ(24,"mat-option"),p._UZ(25,"ngx-mat-select-search",15),p.qZA(),p.YNc(26,kS,2,2,"mat-option",11),p.qZA(),p.qZA(),p.TgZ(27,"button",16),p.NdJ("click",function(){return p.CHM(i),p.MAs(3).close()}),p._uU(28,"Submit"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",17),p.TgZ(30,"div"),p._UZ(31,"app-telecaller-lc-table",18),p._UZ(32,"div",19),p.YNc(33,RS,1,2,"app-bar",20),p._UZ(34,"div",19),p.YNc(35,YS,1,5,"app-stack-bar",21),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const i=p.MAs(3);p.xp6(1),p.ekj("drawer-opened",i.opened),p.xp6(11),p.Q6J("formGroup",e.filterForm),p.xp6(5),p.Q6J("ngForOf",e.listOfCampaigns),p.xp6(1),p.Q6J("ngIf",e.customSelectorMode),p.xp6(1),p.Q6J("ngIf",!e.customSelectorMode),p.xp6(4),p.Q6J("multiple",!0),p.xp6(2),p.Q6J("formControl",e.handlerFilter),p.xp6(1),p.Q6J("ngForOf",e.listOfHandlers),p.xp6(5),p.Q6J("data",e.telecallerLCData),p.xp6(2),p.Q6J("ngIf",e.barData),p.xp6(2),p.Q6J("ngIf",e.stackBarData)}},directives:[Ft.W2,bt.kh,bt.jA,mt.Ye,mt.rD,Ut.Hw,xt._Y,xt.JL,xt.sg,Ct.KE,Ct.hX,C.gD,xt.JJ,xt.u,jt.sg,jt.O5,S.ey,G.nu,xt.oH,z.lW,PS,Or.wx,Or.zY,xt.Fj,Or.By,Or.nW,Ct.R9,Or._g,xt.On,Uv,El],pipes:[jt.uU],styles:[".drawer[_ngcontent-%COMP%]{position:fixed;padding:4px;height:100vh;width:230px}.main[_ngcontent-%COMP%]{background-color:#fff}.main.header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;z-index:2;border-bottom:1px solid #ccc}.filter-toolbar-icon[_ngcontent-%COMP%]{padding:0 14px}.filter-toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mb100[_ngcontent-%COMP%]{margin-bottom:50px}"]}),n})()}];let HS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Et.Bz.forChild(GS)],Et.Bz]}),n})();var US=K(3315);let NS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[st],imports:[[US.Y4,HS,G.Co,jt.ez,Ft.Pc,xt.u5,xt.UX,dt.O]]}),n})()},6399:(Le,se,K)=>{"use strict";function Vt(y){return+y}function _t(y){return y*y}function ee(y){return y*(2-y)}function St(y){return((y*=2)<=1?y*y:--y*(2-y)+1)/2}function It(y){return y*y*y}function yt(y){return--y*y*y+1}function Tt(y){return((y*=2)<=1?y*y*y:(y-=2)*y*y+2)/2}K.r(se),K.d(se,{easeBack:()=>k,easeBackIn:()=>Bt,easeBackInOut:()=>k,easeBackOut:()=>_,easeBounce:()=>G,easeBounceIn:()=>S,easeBounceInOut:()=>z,easeBounceOut:()=>G,easeCircle:()=>at,easeCircleIn:()=>p,easeCircleInOut:()=>at,easeCircleOut:()=>j,easeCubic:()=>Tt,easeCubicIn:()=>It,easeCubicInOut:()=>Tt,easeCubicOut:()=>yt,easeElastic:()=>wt,easeElasticIn:()=>ot,easeElasticInOut:()=>B,easeElasticOut:()=>wt,easeExp:()=>J,easeExpIn:()=>Ht,easeExpInOut:()=>J,easeExpOut:()=>At,easeLinear:()=>Vt,easePoly:()=>kt,easePolyIn:()=>Nt,easePolyInOut:()=>kt,easePolyOut:()=>zt,easeQuad:()=>St,easeQuadIn:()=>_t,easeQuadInOut:()=>St,easeQuadOut:()=>ee,easeSin:()=>dt,easeSinIn:()=>Ft,easeSinInOut:()=>dt,easeSinOut:()=>xt});var Nt=function y(b){function T(O){return Math.pow(O,b)}return b=+b,T.exponent=y,T}(3),zt=function y(b){function T(O){return 1-Math.pow(1-O,b)}return b=+b,T.exponent=y,T}(3),kt=function y(b){function T(O){return((O*=2)<=1?Math.pow(O,b):2-Math.pow(2-O,b))/2}return b=+b,T.exponent=y,T}(3),Wt=Math.PI,jt=Wt/2;function Ft(y){return 1==+y?1:1-Math.cos(y*jt)}function xt(y){return Math.sin(y*jt)}function dt(y){return(1-Math.cos(Wt*y))/2}function Et(y){return 1.0009775171065494*(Math.pow(2,-10*y)-.0009765625)}function Ht(y){return Et(1-+y)}function At(y){return 1-Et(y)}function J(y){return((y*=2)<=1?Et(1-y):2-Et(y-1))/2}function p(y){return 1-Math.sqrt(1-y*y)}function j(y){return Math.sqrt(1- --y*y)}function at(y){return((y*=2)<=1?1-Math.sqrt(1-y*y):Math.sqrt(1-(y-=2)*y)+1)/2}var C=7.5625;function S(y){return 1-G(1-y)}function G(y){return(y=+y)<.36363636363636365?C*y*y:y<.7272727272727273?C*(y-=.5454545454545454)*y+.75:y<.9090909090909091?C*(y-=.8181818181818182)*y+.9375:C*(y-=.9545454545454546)*y+.984375}function z(y){return((y*=2)<=1?1-G(1-y):G(y-1)+1)/2}var Q=1.70158,Bt=function y(b){function T(O){return(O=+O)*O*(b*(O-1)+O)}return b=+b,T.overshoot=y,T}(Q),_=function y(b){function T(O){return--O*O*((O+1)*b+O)+1}return b=+b,T.overshoot=y,T}(Q),k=function y(b){function T(O){return((O*=2)<1?O*O*((b+1)*O-b):(O-=2)*O*((b+1)*O+b)+2)/2}return b=+b,T.overshoot=y,T}(Q),N=2*Math.PI,ot=function y(b,T){var O=Math.asin(1/(b=Math.max(1,b)))*(T/=N);function X(W){return b*Et(- --W)*Math.sin((O-W)/T)}return X.amplitude=function(W){return y(W,T*N)},X.period=function(W){return y(b,W)},X}(1,.3),wt=function y(b,T){var O=Math.asin(1/(b=Math.max(1,b)))*(T/=N);function X(W){return 1-b*Et(W=+W)*Math.sin((W+O)/T)}return X.amplitude=function(W){return y(W,T*N)},X.period=function(W){return y(b,W)},X}(1,.3),B=function y(b,T){var O=Math.asin(1/(b=Math.max(1,b)))*(T/=N);function X(W){return((W=2*W-1)<0?b*Et(-W)*Math.sin((O-W)/T):2-b*Et(W)*Math.sin((O+W)/T))/2}return X.amplitude=function(W){return y(W,T*N)},X.period=function(W){return y(b,W)},X}(1,.3)},268:(Le,se,K)=>{"use strict";K.d(se,{Z:()=>ee,M:()=>St});var Vt=K(5386),_t=K(2681);function ee(It,yt){return((0,_t.v)(yt)?_t.Z:St)(It,yt)}function St(It,yt){var kt,Tt=yt?yt.length:0,ft=It?Math.min(Tt,It.length):0,Nt=new Array(ft),zt=new Array(Tt);for(kt=0;kt<ft;++kt)Nt[kt]=(0,Vt.Z)(It[kt],yt[kt]);for(;kt<Tt;++kt)zt[kt]=yt[kt];return function(Wt){for(kt=0;kt<ft;++kt)zt[kt]=Nt[kt](Wt);return zt}}},2681:(Le,se,K)=>{"use strict";function Vt(ee,St){St||(St=[]);var Tt,It=ee?Math.min(St.length,ee.length):0,yt=St.slice();return function(ft){for(Tt=0;Tt<It;++Tt)yt[Tt]=ee[Tt]*(1-ft)+St[Tt]*ft;return yt}}function _t(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)}K.d(se,{Z:()=>Vt,v:()=>_t})},5386:(Le,se,K)=>{"use strict";function Vt(m,H,M){m.prototype=H.prototype=M,M.constructor=m}function _t(m,H){var M=Object.create(m.prototype);for(var P in H)M[P]=H[P];return M}function ee(){}K.d(se,{Z:()=>ht});var It=1/.7,yt="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nt=/^#([0-9a-f]{3,8})$/,zt=new RegExp("^rgb\\("+[yt,yt,yt]+"\\)$"),kt=new RegExp("^rgb\\("+[ft,ft,ft]+"\\)$"),Wt=new RegExp("^rgba\\("+[yt,yt,yt,Tt]+"\\)$"),jt=new RegExp("^rgba\\("+[ft,ft,ft,Tt]+"\\)$"),Ft=new RegExp("^hsl\\("+[Tt,ft,ft]+"\\)$"),xt=new RegExp("^hsla\\("+[Tt,ft,ft,Tt]+"\\)$"),dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(){return this.rgb().formatHex()}function At(){return this.rgb().formatRgb()}function J(m){var H,M;return m=(m+"").trim().toLowerCase(),(H=Nt.exec(m))?(M=H[1].length,H=parseInt(H[1],16),6===M?p(H):3===M?new Ot(H>>8&15|H>>4&240,H>>4&15|240&H,(15&H)<<4|15&H,1):8===M?j(H>>24&255,H>>16&255,H>>8&255,(255&H)/255):4===M?j(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|240&H,((15&H)<<4|15&H)/255):null):(H=zt.exec(m))?new Ot(H[1],H[2],H[3],1):(H=kt.exec(m))?new Ot(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=Wt.exec(m))?j(H[1],H[2],H[3],H[4]):(H=jt.exec(m))?j(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=Ft.exec(m))?bt(H[1],H[2]/100,H[3]/100,1):(H=xt.exec(m))?bt(H[1],H[2]/100,H[3]/100,H[4]):dt.hasOwnProperty(m)?p(dt[m]):"transparent"===m?new Ot(NaN,NaN,NaN,0):null}function p(m){return new Ot(m>>16&255,m>>8&255,255&m,1)}function j(m,H,M,P){return P<=0&&(m=H=M=NaN),new Ot(m,H,M,P)}function at(m){return m instanceof ee||(m=J(m)),m?new Ot((m=m.rgb()).r,m.g,m.b,m.opacity):new Ot}function st(m,H,M,P){return 1===arguments.length?at(m):new Ot(m,H,M,null==P?1:P)}function Ot(m,H,M,P){this.r=+m,this.g=+H,this.b=+M,this.opacity=+P}function te(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)}function vt(){var m=this.opacity;return(1===(m=isNaN(m)?1:Math.max(0,Math.min(1,m)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===m?")":", "+m+")")}function lt(m){return((m=Math.max(0,Math.min(255,Math.round(m)||0)))<16?"0":"")+m.toString(16)}function bt(m,H,M,P){return P<=0?m=H=M=NaN:M<=0||M>=1?m=H=NaN:H<=0&&(m=NaN),new Ct(m,H,M,P)}function mt(m){if(m instanceof Ct)return new Ct(m.h,m.s,m.l,m.opacity);if(m instanceof ee||(m=J(m)),!m)return new Ct;if(m instanceof Ct)return m;var H=(m=m.rgb()).r/255,M=m.g/255,P=m.b/255,U=Math.min(H,M,P),Z=Math.max(H,M,P),tt=NaN,it=Z-U,pt=(Z+U)/2;return it?(tt=H===Z?(M-P)/it+6*(M<P):M===Z?(P-H)/it+2:(H-M)/it+4,it/=pt<.5?Z+U:2-Z-U,tt*=60):it=pt>0&&pt<1?0:tt,new Ct(tt,it,pt,m.opacity)}function Ct(m,H,M,P){this.h=+m,this.s=+H,this.l=+M,this.opacity=+P}function C(m,H,M){return 255*(m<60?H+(M-H)*m/60:m<180?M:m<240?H+(M-H)*(240-m)/60:H)}function S(m,H,M,P,U){var Z=m*m,tt=Z*m;return((1-3*m+3*Z-tt)*H+(4-6*Z+3*tt)*M+(1+3*m+3*Z-3*tt)*P+tt*U)/6}function Q(m){return function(){return m}}function F(m,H){var M=H-m;return M?function(m,H){return function(M){return m+M*H}}(m,M):Q(isNaN(m)?H:m)}Vt(ee,J,{copy:function(m){return Object.assign(new this.constructor,this,m)},displayable:function(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHsl:function(){return mt(this).formatHsl()},formatRgb:At,toString:At}),Vt(Ot,st,_t(ee,{brighter:function(m){return m=null==m?It:Math.pow(It,m),new Ot(this.r*m,this.g*m,this.b*m,this.opacity)},darker:function(m){return m=null==m?.7:Math.pow(.7,m),new Ot(this.r*m,this.g*m,this.b*m,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:te,formatHex:te,formatRgb:vt,toString:vt})),Vt(Ct,function(m,H,M,P){return 1===arguments.length?mt(m):new Ct(m,H,M,null==P?1:P)},_t(ee,{brighter:function(m){return m=null==m?It:Math.pow(It,m),new Ct(this.h,this.s,this.l*m,this.opacity)},darker:function(m){return m=null==m?.7:Math.pow(.7,m),new Ct(this.h,this.s,this.l*m,this.opacity)},rgb:function(){var m=this.h%360+360*(this.h<0),H=isNaN(m)||isNaN(this.s)?0:this.s,M=this.l,P=M+(M<.5?M:1-M)*H,U=2*M-P;return new Ot(C(m>=240?m-240:m+120,U,P),C(m,U,P),C(m<120?m+240:m-120,U,P),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var m=this.opacity;return(1===(m=isNaN(m)?1:Math.max(0,Math.min(1,m)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===m?")":", "+m+")")}}));const rt=function m(H){var M=function(m){return 1==(m=+m)?F:function(H,M){return M-H?function(m,H,M){return m=Math.pow(m,M),H=Math.pow(H,M)-m,M=1/M,function(P){return Math.pow(m+P*H,M)}}(H,M,m):Q(isNaN(H)?M:H)}}(H);function P(U,Z){var tt=M((U=st(U)).r,(Z=st(Z)).r),it=M(U.g,Z.g),pt=M(U.b,Z.b),Mt=F(U.opacity,Z.opacity);return function(ut){return U.r=tt(ut),U.g=it(ut),U.b=pt(ut),U.opacity=Mt(ut),U+""}}return P.gamma=m,P}(1);function ot(m){return function(H){var tt,it,M=H.length,P=new Array(M),U=new Array(M),Z=new Array(M);for(tt=0;tt<M;++tt)it=st(H[tt]),P[tt]=it.r||0,U[tt]=it.g||0,Z[tt]=it.b||0;return P=m(P),U=m(U),Z=m(Z),it.opacity=1,function(pt){return it.r=P(pt),it.g=U(pt),it.b=Z(pt),it+""}}}ot(function(m){var H=m.length-1;return function(M){var P=M<=0?M=0:M>=1?(M=1,H-1):Math.floor(M*H),U=m[P],Z=m[P+1];return S((M-P/H)*H,P>0?m[P-1]:2*U-Z,U,Z,P<H-1?m[P+2]:2*Z-U)}}),ot(function(m){var H=m.length;return function(M){var P=Math.floor(((M%=1)<0?++M:M)*H);return S((M-P/H)*H,m[(P+H-1)%H],m[P%H],m[(P+1)%H],m[(P+2)%H])}});var y=K(268);function b(m,H){var M=new Date;return m=+m,H=+H,function(P){return M.setTime(m*(1-P)+H*P),M}}function T(m,H){return m=+m,H=+H,function(M){return m*(1-M)+H*M}}function O(m,H){var U,M={},P={};for(U in(null===m||"object"!=typeof m)&&(m={}),(null===H||"object"!=typeof H)&&(H={}),H)U in m?M[U]=ht(m[U],H[U]):P[U]=H[U];return function(Z){for(U in M)P[U]=M[U](Z);return P}}var X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W=new RegExp(X.source,"g");function Rt(m,H){var P,U,Z,M=X.lastIndex=W.lastIndex=0,tt=-1,it=[],pt=[];for(m+="",H+="";(P=X.exec(m))&&(U=W.exec(H));)(Z=U.index)>M&&(Z=H.slice(M,Z),it[tt]?it[tt]+=Z:it[++tt]=Z),(P=P[0])===(U=U[0])?it[tt]?it[tt]+=U:it[++tt]=U:(it[++tt]=null,pt.push({i:tt,x:T(P,U)})),M=W.lastIndex;return M<H.length&&(Z=H.slice(M),it[tt]?it[tt]+=Z:it[++tt]=Z),it.length<2?pt[0]?function(m){return function(H){return m(H)+""}}(pt[0].x):function(m){return function(){return m}}(H):(H=pt.length,function(Mt){for(var Yt,ut=0;ut<H;++ut)it[(Yt=pt[ut]).i]=Yt.x(Mt);return it.join("")})}var Kt=K(2681);function ht(m,H){var P,M=typeof H;return null==H||"boolean"===M?Q(H):("number"===M?T:"string"===M?(P=J(H))?(H=P,rt):Rt:H instanceof J?rt:H instanceof Date?b:(0,Kt.v)(H)?Kt.Z:Array.isArray(H)?y.M:"function"!=typeof H.valueOf&&"function"!=typeof H.toString||isNaN(H)?O:T)(m,H)}},9194:(Le,se,K)=>{"use strict";K.d(se,{HT:()=>xt});var It,yt,Vt=0,_t=0,ee=0,Tt=0,ft=0,Nt=0,zt="object"==typeof performance&&performance.now?performance:Date,kt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(p){setTimeout(p,17)};function Wt(){return ft||(kt(jt),ft=zt.now()+Nt)}function jt(){ft=0}function Ft(){this._call=this._time=this._next=null}function xt(p,j,at){var st=new Ft;return st.restart(p,j,at),st}function Et(){ft=(Tt=zt.now())+Nt,Vt=_t=0;try{!function(){Wt(),++Vt;for(var j,p=It;p;)(j=ft-p._time)>=0&&p._call.call(null,j),p=p._next;--Vt}()}finally{Vt=0,function(){for(var p,at,j=It,st=1/0;j;)j._call?(st>j._time&&(st=j._time),p=j,j=j._next):(at=j._next,j._next=null,j=p?p._next=at:It=at);yt=p,J(st)}(),ft=0}}function Ht(){var p=zt.now(),j=p-Tt;j>1e3&&(Nt-=j,Tt=p)}function J(p){Vt||(_t&&(_t=clearTimeout(_t)),p-ft>24?(p<1/0&&(_t=setTimeout(Et,p-zt.now()-Nt)),ee&&(ee=clearInterval(ee))):(ee||(Tt=zt.now(),ee=setInterval(Ht,1e3)),Vt=1,kt(Et)))}Ft.prototype=xt.prototype={constructor:Ft,restart:function(p,j,at){if("function"!=typeof p)throw new TypeError("callback is not a function");at=(null==at?Wt():+at)+(null==j?0:+j),!this._next&&yt!==this&&(yt?yt._next=this:It=this,yt=this),this._call=p,this._time=at,J()},stop:function(){this._call&&(this._call=null,this._time=1/0,J())}}},2260:(Le,se,K)=>{"use strict";K.d(se,{qY:()=>Wt});var Vt=function(At,J,p){if(p||2===arguments.length)for(var st,j=0,at=J.length;j<at;j++)(st||!(j in J))&&(st||(st=Array.prototype.slice.call(J,0,j)),st[j]=J[j]);return At.concat(st||Array.prototype.slice.call(J))},_t=function(J,p,j){this.name=J,this.version=p,this.os=j,this.type="browser"},ee=function(J){this.version=J,this.type="node",this.name="node",this.os=process.platform},St=function(J,p,j,at){this.name=J,this.version=p,this.os=j,this.bot=at,this.type="bot-device"},It=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},yt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ft=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zt=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],kt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Wt(At){return At?xt(At):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new yt:"undefined"!=typeof navigator?xt(navigator.userAgent):"undefined"!=typeof process&&process.version?new ee(process.version.slice(1)):null}function xt(At){var J=function(At){return""!==At&&zt.reduce(function(J,p){var j=p[0];if(J)return J;var st=p[1].exec(At);return!!st&&[j,st]},!1)}(At);if(!J)return null;var p=J[0],j=J[1];if("searchbot"===p)return new It;var at=j[1]&&j[1].split(".").join("_").split("_").slice(0,3);at?at.length<3&&(at=Vt(Vt([],at,!0),function(At){for(var J=[],p=0;p<At;p++)J.push("0");return J}(3-at.length),!0)):at=[];var st=at.join("."),Ot=function(At){for(var J=0,p=kt.length;J<p;J++){var j=kt[J],at=j[0];if(j[1].exec(At))return at}return null}(At),te=ft.exec(At);return te&&te[1]?new St(p,st,Ot,te[1]):new _t(p,st,Ot)}},5278:(Le,se,K)=>{"use strict";K.d(se,{WT:()=>_t});var _t="undefined"!=typeof Float32Array?Float32Array:Array;Math,Math,Math.hypot||(Math.hypot=function(){for(var ft=0,Nt=arguments.length;Nt--;)ft+=arguments[Nt]*arguments[Nt];return Math.sqrt(ft)})},7543:(Le,se,K)=>{"use strict";function Nt(C,S){var G=S[0],z=S[1],Q=S[2],Bt=S[3],_=S[4],k=S[5],N=S[6],F=S[7],rt=S[8],ot=rt*_-k*F,wt=-rt*Bt+k*N,B=F*Bt-_*N,y=G*ot+z*wt+Q*B;return y?(C[0]=ot*(y=1/y),C[1]=(-rt*z+Q*F)*y,C[2]=(k*z-Q*_)*y,C[3]=wt*y,C[4]=(rt*G-Q*N)*y,C[5]=(-k*G+Q*Bt)*y,C[6]=B*y,C[7]=(-F*G+z*N)*y,C[8]=(_*G-z*Bt)*y,C):null}function Wt(C,S,G){var z=S[0],Q=S[1],Bt=S[2],_=S[3],k=S[4],N=S[5],F=S[6],rt=S[7],ot=S[8],wt=G[0],B=G[1],y=G[2],b=G[3],T=G[4],O=G[5],X=G[6],W=G[7],$=G[8];return C[0]=wt*z+B*_+y*F,C[1]=wt*Q+B*k+y*rt,C[2]=wt*Bt+B*N+y*ot,C[3]=b*z+T*_+O*F,C[4]=b*Q+T*k+O*rt,C[5]=b*Bt+T*N+O*ot,C[6]=X*z+W*_+$*F,C[7]=X*Q+W*k+$*rt,C[8]=X*Bt+W*N+$*ot,C}function dt(C,S){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=1,C[5]=0,C[6]=S[0],C[7]=S[1],C[8]=1,C}function Et(C,S){var G=Math.sin(S),z=Math.cos(S);return C[0]=z,C[1]=G,C[2]=0,C[3]=-G,C[4]=z,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C}function Ht(C,S){return C[0]=S[0],C[1]=0,C[2]=0,C[3]=0,C[4]=S[1],C[5]=0,C[6]=0,C[7]=0,C[8]=1,C}K.d(se,{U_:()=>Nt,Jp:()=>Wt,vc:()=>dt,Us:()=>Et,xJ:()=>Ht})},8235:(Le,se,K)=>{"use strict";K.d(se,{IH:()=>Tt,$X:()=>ft,VV:()=>jt,Fp:()=>Ft,bA:()=>dt,TE:()=>Ht,kE:()=>J,Fv:()=>st,AK:()=>Ot,kK:()=>Ut,EU:()=>S,I6:()=>Q,lu:()=>k});var Vt=K(5278);function Tt(y,b,T){return y[0]=b[0]+T[0],y[1]=b[1]+T[1],y}function ft(y,b,T){return y[0]=b[0]-T[0],y[1]=b[1]-T[1],y}function jt(y,b,T){return y[0]=Math.min(b[0],T[0]),y[1]=Math.min(b[1],T[1]),y}function Ft(y,b,T){return y[0]=Math.max(b[0],T[0]),y[1]=Math.max(b[1],T[1]),y}function dt(y,b,T){return y[0]=b[0]*T,y[1]=b[1]*T,y}function Ht(y,b){return Math.hypot(b[0]-y[0],b[1]-y[1])}function J(y){return Math.hypot(y[0],y[1])}function st(y,b){var T=b[0],O=b[1],X=T*T+O*O;return X>0&&(X=1/Math.sqrt(X)),y[0]=b[0]*X,y[1]=b[1]*X,y}function Ot(y,b){return y[0]*b[0]+y[1]*b[1]}function Ut(y,b,T){var O=b[0],X=b[1];return y[0]=T[0]*O+T[3]*X+T[6],y[1]=T[1]*O+T[4]*X+T[7],y}function S(y,b){var T=y[0],O=y[1],X=b[0],W=b[1],$=Math.sqrt(T*T+O*O)*Math.sqrt(X*X+W*W);return Math.acos(Math.min(Math.max($&&(T*X+O*W)/$,-1),1))}function Q(y,b){return y[0]===b[0]&&y[1]===b[1]}var k=ft;(function(){var y=new Vt.WT(2);Vt.WT!=Float32Array&&(y[0]=0,y[1]=0)})()},1095:(Le,se,K)=>{"use strict";K.d(se,{ZT:()=>_t});var Vt=function(vt,lt){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bt,mt){bt.__proto__=mt}||function(bt,mt){for(var Ut in mt)Object.prototype.hasOwnProperty.call(mt,Ut)&&(bt[Ut]=mt[Ut])})(vt,lt)};function _t(vt,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");function bt(){this.constructor=vt}Vt(vt,lt),vt.prototype=null===lt?Object.create(lt):(bt.prototype=lt.prototype,new bt)}}}]);